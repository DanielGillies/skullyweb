function youmaxSaveToken(e){e.status.signed_in&&(youmaxLoggedInUser.youmaxAccessToken=e.access_token,jQuery(".youmax-add-comment-button").removeAttr("disabled").html('<i class="fa fa-send fa-2x"></i>'))}function mr_parallax(){function e(e){for(var t=0;t<e.length;t++)if("undefined"!=typeof document.body.style[e[t]])return e[t];return null}function t(){j=void 0==window.mr_variant?!1:!0,j&&(_=$(".viu").get(0),void 0!=_&&(_.scrollBy=function(e,t){this.scrollTop+=t})),void 0!=_&&(_.addEventListener("scroll",r,!1),window.addWheelListener(_,l,!1),window.addEventListener("resize",function(){m=Math.max(document.documentElement.clientHeight,window.innerHeight||0),h=n(),Y.profileParallaxElements()},!1),a())}function n(){var e=0;return e=j?$(".viu").find("nav:first").outerHeight(!0):$(document).find("nav:first").outerHeight(!0)}function i(e,t,n,i){var a=e-1;return a/=i,e/=i,a--,e--,n*(e*e*e*e*e+1)+t-(n*(a*a*a*a*a+1)+t)}function a(){if(f){for(var e=c.length,t=s();e--;)o(c[e],t);f=!1}y&&(T+=-b*i(g,0,C,S),(T>I||-I>T)&&(_.scrollBy(0,T),T=0),g++,g>S&&(g=0,y=!1,v=!0,b=0,w=0,x=0,T=0)),u(a)}function o(e,t){if(j){if(t+m>e.elemTop&&t<e.elemBottom)if(e.isFirstSection){var n="translate3d(0, "+t/2+"px, 0)";e.imageHolder.style[p]=n}else{var n="translate3d(0, "+(t-e.elemTop-h)/2+"px, 0)";e.imageHolder.style[p]=n}}else if(t+m>e.elemTop&&t<e.elemBottom)if(e.isFirstSection){var n="translate3d(0, "+t/2+"px, 0)";e.imageHolder.style[p]=n}else{var n="translate3d(0, "+(t+m-e.elemTop)/2+"px, 0)";e.imageHolder.style[p]=n}}function s(){return _!=window?_.scrollTop:0==document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop}function r(){f=!0}function l(e){e.preventDefault&&e.preventDefault(),b=e.notRealWheel?-e.deltaY/4:1==e.deltaMode?-e.deltaY/3:100===Math.abs(e.deltaY)?-e.deltaY/120:-e.deltaY/40,b=-P>b?-P:b,b=b>P?P:b,y=!0,g=k}var c,u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,d=["transform","msTransform","webkitTransform","mozTransform","oTransform"],p=e(d),m=Math.max(document.documentElement.clientHeight,window.innerHeight||0),h=0,f=!1,y=!1,v=!0,g=0,b=0,w=0,x=0,T=0,P=2,k=4,C=300,I=1,S=30,T=0,_=window,Y=this,j=void 0==window.mr_variant?!1:!0;$(document).ready(function(){"use strict";m=Math.max(document.documentElement.clientHeight,window.innerHeight||0),/Android|iPad|iPhone|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)?$(".parallax").removeClass("parallax"):u&&(window.mr_parallax.profileParallaxElements(),t())}),$(window).load(function(){m=Math.max(document.documentElement.clientHeight,window.innerHeight||0),h=n(),window.mr_parallax.profileParallaxElements()}),this.profileParallaxElements=function(){c=[],h=n(),selector=".parallax > .background-image-holder, .parallax ul.slides > li > .background-image-holder",j&&(selector=".viu .parallax > .background-image-holder, .viu .parallax ul.slides > li > .background-image-holder"),$(selector).each(function(e,t){var n=$(this).closest(".parallax"),i=j?n.position().top:n.offset().top;c.push({section:n.get(0),outerHeight:n.outerHeight(),elemTop:i,elemBottom:i+n.outerHeight(),isFirstSection:n.is(":first-of-type")?!0:!1,imageHolder:$(this).get(0)}),j?j&&(n.is(":first-of-type")?Y.mr_setTranslate3DTransform($(this).get(0),0==s()?0:s()/2):Y.mr_setTranslate3DTransform($(this).get(0),(s()-i-h)/2)):n.is(":first-of-type")?Y.mr_setTranslate3DTransform($(this).get(0),0==s()?0:s()/2):Y.mr_setTranslate3DTransform($(this).get(0),(s()+m-i-h)/2)})},this.mr_setTranslate3DTransform=function(e,t){e.style[p]="translate3d(0, "+t+"px, 0)"}}function onYouTubePlayerAPIReady(){ytp.YTAPIReady||(ytp.YTAPIReady=!0,jQuery(document).trigger("YTAPIReady"))}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){e.fn.avgrund=function(t){var n={width:380,height:280,showClose:!1,showCloseText:"",closeByEscape:!0,closeByDocument:!0,holderClass:"",overlayClass:"",enableStackAnimation:!1,onBlurContainer:"",openOnEvent:!0,setEvent:"click",onLoad:!1,onUnload:!1,onClosing:!1,template:"<p>This is test popin content!</p>"};return t=e.extend(n,t),this.each(function(){function n(e){t.closeByEscape&&27===e.keyCode&&o()}function i(n){console.log(e(n.target)),t.closeByDocument?e(n.target).is(".btn")||e(n.target).is(".sharebut")||e(n.target).is(".ti-facebook2")||e(n.target).is(".ti-twitter-alt2")||e(n.target).is(".ti-google2")?e(n.target).is(".avgrund-overlay, .avgrund-close")&&(n.preventDefault(),o()):(console.log("BREAK WINDOW"),n.preventDefault(),o()):e(n.target).is(".avgrund-close")&&(n.preventDefault(),o())}function a(){"function"==typeof t.onLoad&&t.onLoad(s),setTimeout(function(){r.addClass("avgrund-active")},100);var a=e('<div class="avgrund-popin '+t.holderClass+'"></div>');a.append(u),r.append(a),e(".avgrund-popin").css({width:l+"px",height:c+"px","margin-left":"-"+(l/2+10)+"px","margin-top":"-"+(c/2+10)+"px"}),t.showClose&&e(".avgrund-popin").append('<a href="#" class="avgrund-close">'+t.showCloseText+"</a>"),t.enableStackAnimation&&e(".avgrund-popin").addClass("stack"),r.bind("keyup",n).bind("click",i),e("body").css("overflow","hidden")}function o(){return"function"==typeof t.onClosing&&t.onClosing(s)===!1?!1:(r.unbind("keyup",n).unbind("click",i).removeClass("avgrund-active"),setTimeout(function(){e(".avgrund-popin").remove()},500),"function"==typeof t.onUnload&&t.onUnload(s),void e("body").css("overflow","auto"))}var s=e(this),r=e("body"),l=t.width>640?640:t.width,c=t.height>600?600:t.height,u="function"==typeof t.template?t.template(s):t.template;r.addClass("avgrund-ready"),0===e(".avgrund-overlay").length&&r.append('<div class="avgrund-overlay '+t.overlayClass+'"></div>'),""!==t.onBlurContainer&&e(t.onBlurContainer).addClass("avgrund-blur"),t.openOnEvent?s.bind(t.setEvent,function(t){t.stopPropagation(),e(t.target).is("a")&&t.preventDefault(),a()}):a()})}}),function(e){e.flexslider=function(t,n){var i=e(t);i.vars=e.extend({},e.flexslider.defaults,n);var a,o=i.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,r=("ontouchstart"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,l="click touchend MSPointerUp keyup",c="",u="vertical"===i.vars.direction,d=i.vars.reverse,p=i.vars.itemWidth>0,m="fade"===i.vars.animation,h=""!==i.vars.asNavFor,f={},y=!0;e.data(t,"flexslider",i),f={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=0===i.currentSlide||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=e(i.vars.selector,i),i.container=e(i.containerSelector,i),i.count=i.slides.length,i.syncExists=e(i.vars.sync).length>0,"slide"===i.vars.animation&&(i.vars.animation="swing"),i.prop=u?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!m&&i.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]])return i.pfx=t[n].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),i.ensureAnimationEnd="",""!==i.vars.controlsContainer&&(i.controlsContainer=e(i.vars.controlsContainer).length>0&&e(i.vars.controlsContainer)),""!==i.vars.manualControls&&(i.manualControls=e(i.vars.manualControls).length>0&&e(i.vars.manualControls)),""!==i.vars.customDirectionNav&&(i.customDirectionNav=2===e(i.vars.customDirectionNav).length&&e(i.vars.customDirectionNav)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&f.controlNav.setup(),i.vars.directionNav&&f.directionNav.setup(),i.vars.keyboard&&(1===e(i.containerSelector).length||i.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!i.animating&&(39===t||37===t)){var n=39===t?i.getTarget("next"):37===t?i.getTarget("prev"):!1;i.flexAnimate(n,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(e,t,n,a){e.preventDefault();var o=0>t?i.getTarget("next"):i.getTarget("prev");i.flexAnimate(o,i.vars.pauseOnAction)}),i.vars.pausePlay&&f.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&f.pauseInvisible.init(),i.vars.slideshow&&(i.vars.pauseOnHover&&i.hover(function(){i.manualPlay||i.manualPause||i.pause()},function(){i.manualPause||i.manualPlay||i.stopped||i.play()}),i.vars.pauseInvisible&&f.pauseInvisible.isHidden()||(i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play())),h&&f.asNav.setup(),r&&i.vars.touch&&f.touch(),(!m||m&&i.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",f.resize),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(o+"active-slide").eq(i.currentItem).addClass(o+"active-slide"),s?(t._slider=i,i.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var n=e(this),a=n.index();e(i.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(i.direction=i.currentItem<a?"next":"prev",i.flexAnimate(a,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(l,function(t){t.preventDefault();var n=e(this),a=n.index(),s=n.offset().left-e(i).scrollLeft();0>=s&&n.hasClass(o+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):e(i.vars.asNavFor).data("flexslider").animating||n.hasClass(o+"active-slide")||(i.direction=i.currentItem<a?"next":"prev",i.flexAnimate(a,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var t,n,a="thumbnails"===i.vars.controlNav?"control-thumbs":"control-paging",s=1;if(i.controlNavScaffold=e('<ol class="'+o+"control-nav "+o+a+'"></ol>'),i.pagingCount>1)for(var r=0;r<i.pagingCount;r++){if(n=i.slides.eq(r),t="thumbnails"===i.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"/>':"<a>"+s+"</a>","thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var u=n.attr("data-thumbcaption");""!==u&&void 0!==u&&(t+='<span class="'+o+'caption">'+u+"</span>")}i.controlNavScaffold.append("<li>"+t+"</li>"),s++}i.controlsContainer?e(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),f.controlNav.set(),f.controlNav.active(),i.controlNavScaffold.delegate("a, img",l,function(t){if(t.preventDefault(),""===c||c===t.type){var n=e(this),a=i.controlNav.index(n);n.hasClass(o+"active")||(i.direction=a>i.currentSlide?"next":"prev",i.flexAnimate(a,i.vars.pauseOnAction))}""===c&&(c=t.type),f.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,f.controlNav.active(),i.controlNav.bind(l,function(t){if(t.preventDefault(),""===c||c===t.type){var n=e(this),a=i.controlNav.index(n);n.hasClass(o+"active")||(a>i.currentSlide?i.direction="next":i.direction="prev",i.flexAnimate(a,i.vars.pauseOnAction))}""===c&&(c=t.type),f.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===i.vars.controlNav?"img":"a";i.controlNav=e("."+o+"control-nav li "+t,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(o+"active").eq(i.animatingTo).addClass(o+"active")},update:function(t,n){i.pagingCount>1&&"add"===t?i.controlNavScaffold.append(e("<li><a>"+i.count+"</a></li>")):1===i.pagingCount?i.controlNavScaffold.find("li").remove():i.controlNav.eq(n).closest("li").remove(),f.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(n,t):f.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+o+'direction-nav"><li class="'+o+'nav-prev"><a class="'+o+'prev" href="#">'+i.vars.prevText+'</a></li><li class="'+o+'nav-next"><a class="'+o+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.customDirectionNav?i.directionNav=i.customDirectionNav:i.controlsContainer?(e(i.controlsContainer).append(t),i.directionNav=e("."+o+"direction-nav li a",i.controlsContainer)):(i.append(t),i.directionNav=e("."+o+"direction-nav li a",i)),f.directionNav.update(),i.directionNav.bind(l,function(t){t.preventDefault();var n;(""===c||c===t.type)&&(n=e(this).hasClass(o+"next")?i.getTarget("next"):i.getTarget("prev"),i.flexAnimate(n,i.vars.pauseOnAction)),""===c&&(c=t.type),f.setToClearWatchedEvent()})},update:function(){var e=o+"disabled";1===i.pagingCount?i.directionNav.addClass(e).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(e).removeAttr("tabindex"):0===i.animatingTo?i.directionNav.removeClass(e).filter("."+o+"prev").addClass(e).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(e).filter("."+o+"next").addClass(e).attr("tabindex","-1"):i.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+o+'pauseplay"><a></a></div>');i.controlsContainer?(i.controlsContainer.append(t),i.pausePlay=e("."+o+"pauseplay a",i.controlsContainer)):(i.append(t),i.pausePlay=e("."+o+"pauseplay a",i)),f.pausePlay.update(i.vars.slideshow?o+"pause":o+"play"),i.pausePlay.bind(l,function(t){t.preventDefault(),(""===c||c===t.type)&&(e(this).hasClass(o+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play())),""===c&&(c=t.type),f.setToClearWatchedEvent()})},update:function(e){"play"===e?i.pausePlay.removeClass(o+"pause").addClass(o+"play").html(i.vars.playText):i.pausePlay.removeClass(o+"play").addClass(o+"pause").html(i.vars.pauseText)}},touch:function(){function e(e){e.stopPropagation(),i.animating?e.preventDefault():(i.pause(),t._gesture.addPointer(e.pointerId),T=0,c=u?i.h:i.w,f=Number(new Date),l=p&&d&&i.animatingTo===i.last?0:p&&d?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:p&&i.currentSlide===i.last?i.limit:p?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:d?(i.last-i.currentSlide+i.cloneOffset)*c:(i.currentSlide+i.cloneOffset)*c)}function n(e){e.stopPropagation();var n=e.target._slider;if(n){var i=-e.translationX,a=-e.translationY;return T+=u?a:i,h=T,b=u?Math.abs(T)<Math.abs(-i):Math.abs(T)<Math.abs(-a),e.detail===e.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){t._gesture.stop()}):void((!b||Number(new Date)-f>500)&&(e.preventDefault(),!m&&n.transitions&&(n.vars.animationLoop||(h=T/(0===n.currentSlide&&0>T||n.currentSlide===n.last&&T>0?Math.abs(T)/c+2:1)),n.setProps(l+h,"setTouch"))))}}function a(e){e.stopPropagation();var t=e.target._slider;if(t){if(t.animatingTo===t.currentSlide&&!b&&null!==h){var n=d?-h:h,i=n>0?t.getTarget("next"):t.getTarget("prev");t.canAdvance(i)&&(Number(new Date)-f<550&&Math.abs(n)>50||Math.abs(n)>c/2)?t.flexAnimate(i,t.vars.pauseOnAction):m||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)}o=null,r=null,h=null,l=null,T=0}}var o,r,l,c,h,f,y,v,g,b=!1,w=0,x=0,T=0;s?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",e,!1),t._slider=i,t.addEventListener("MSGestureChange",n,!1),t.addEventListener("MSGestureEnd",a,!1)):(y=function(e){i.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(i.pause(),c=u?i.h:i.w,f=Number(new Date),w=e.touches[0].pageX,x=e.touches[0].pageY,l=p&&d&&i.animatingTo===i.last?0:p&&d?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:p&&i.currentSlide===i.last?i.limit:p?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:d?(i.last-i.currentSlide+i.cloneOffset)*c:(i.currentSlide+i.cloneOffset)*c,o=u?x:w,r=u?w:x,t.addEventListener("touchmove",v,!1),t.addEventListener("touchend",g,!1))},v=function(e){w=e.touches[0].pageX,x=e.touches[0].pageY,h=u?o-x:o-w,b=u?Math.abs(h)<Math.abs(w-r):Math.abs(h)<Math.abs(x-r);var t=500;(!b||Number(new Date)-f>t)&&(e.preventDefault(),!m&&i.transitions&&(i.vars.animationLoop||(h/=0===i.currentSlide&&0>h||i.currentSlide===i.last&&h>0?Math.abs(h)/c+2:1),i.setProps(l+h,"setTouch")))},g=function(e){if(t.removeEventListener("touchmove",v,!1),i.animatingTo===i.currentSlide&&!b&&null!==h){var n=d?-h:h,a=n>0?i.getTarget("next"):i.getTarget("prev");i.canAdvance(a)&&(Number(new Date)-f<550&&Math.abs(n)>50||Math.abs(n)>c/2)?i.flexAnimate(a,i.vars.pauseOnAction):m||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}t.removeEventListener("touchend",g,!1),o=null,r=null,h=null,l=null},t.addEventListener("touchstart",y,!1))},resize:function(){!i.animating&&i.is(":visible")&&(p||i.doMath(),m?f.smoothHeight():p?(i.update(i.pagingCount),i.setProps()):u?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&f.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(e){if(!u||m){var t=m?i:i.viewport;e?t.animate({height:i.slides.eq(i.animatingTo).height()},e):t.height(i.slides.eq(i.animatingTo).height())}},sync:function(t){var n=e(i.vars.sync).data("flexslider"),a=i.animatingTo;switch(t){case"animate":n.flexAnimate(a,i.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=f.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(t,function(){f.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){var e=f.pauseInvisible.getHiddenProp();return e?document[e]:!1},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(a),a=setTimeout(function(){c=""},3e3)}},i.flexAnimate=function(t,n,a,s,l){if(i.vars.animationLoop||t===i.currentSlide||(i.direction=t>i.currentSlide?"next":"prev"),h&&1===i.pagingCount&&(i.direction=i.currentItem<t?"next":"prev"),!i.animating&&(i.canAdvance(t,l)||a)&&i.is(":visible")){if(h&&s){var c=e(i.vars.asNavFor).data("flexslider");if(i.atEnd=0===t||t===i.count-1,c.flexAnimate(t,!0,!1,!0,l),i.direction=i.currentItem<t?"next":"prev",c.direction=i.direction,Math.ceil((t+1)/i.visible)-1===i.currentSlide||0===t)return i.currentItem=t,i.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),!1;i.currentItem=t,i.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),t=Math.floor(t/i.visible)}if(i.animating=!0,i.animatingTo=t,n&&i.pause(),i.vars.before(i),i.syncExists&&!l&&f.sync("animate"),i.vars.controlNav&&f.controlNav.active(),p||i.slides.removeClass(o+"active-slide").eq(t).addClass(o+"active-slide"),i.atEnd=0===t||t===i.last,i.vars.directionNav&&f.directionNav.update(),t===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause()),m)r?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(t).css({opacity:1,zIndex:2}),i.wrapup(b)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(t).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));else{var y,v,g,b=u?i.slides.filter(":first").height():i.computedW;p?(y=i.vars.itemMargin,g=(i.itemW+y)*i.move*i.animatingTo,v=g>i.limit&&1!==i.visible?i.limit:g):v=0===i.currentSlide&&t===i.count-1&&i.vars.animationLoop&&"next"!==i.direction?d?(i.count+i.cloneOffset)*b:0:i.currentSlide===i.last&&0===t&&i.vars.animationLoop&&"prev"!==i.direction?d?0:(i.count+1)*b:d?(i.count-1-t+i.cloneOffset)*b:(t+i.cloneOffset)*b,i.setProps(v,"",i.vars.animationSpeed),i.transitions?(i.vars.animationLoop&&i.atEnd||(i.animating=!1,i.currentSlide=i.animatingTo),i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(i.ensureAnimationEnd),i.wrapup(b)}),clearTimeout(i.ensureAnimationEnd),i.ensureAnimationEnd=setTimeout(function(){i.wrapup(b)},i.vars.animationSpeed+100)):i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(b)})}i.vars.smoothHeight&&f.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(e){m||p||(0===i.currentSlide&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(e,"jumpEnd"):i.currentSlide===i.last&&0===i.animatingTo&&i.vars.animationLoop&&i.setProps(e,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&y&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&f.pausePlay.update("play"),i.syncExists&&f.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&f.pausePlay.update("pause"),i.syncExists&&f.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(e,t){var n=h?i.pagingCount-1:i.last;return t?!0:h&&i.currentItem===i.count-1&&0===e&&"prev"===i.direction?!0:h&&0===i.currentItem&&e===i.pagingCount-1&&"next"!==i.direction?!1:e!==i.currentSlide||h?i.vars.animationLoop?!0:i.atEnd&&0===i.currentSlide&&e===n&&"next"!==i.direction?!1:i.atEnd&&i.currentSlide===n&&0===e&&"next"===i.direction?!1:!0:!1},i.getTarget=function(e){return i.direction=e,"next"===e?i.currentSlide===i.last?0:i.currentSlide+1:0===i.currentSlide?i.last:i.currentSlide-1},i.setProps=function(e,t,n){var a=function(){var n=e?e:(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo,a=function(){if(p)return"setTouch"===t?e:d&&i.animatingTo===i.last?0:d?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:n;switch(t){case"setTotal":return d?(i.count-1-i.currentSlide+i.cloneOffset)*e:(i.currentSlide+i.cloneOffset)*e;case"setTouch":return d?e:e;case"jumpEnd":return d?e:i.count*e;case"jumpStart":return d?i.count*e:e;default:return e}}();return-1*a+"px"}();i.transitions&&(a=u?"translate3d(0,"+a+",0)":"translate3d("+a+",0,0)",n=void 0!==n?n/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",n),i.container.css("transition-duration",n)),i.args[i.prop]=a,(i.transitions||void 0===n)&&i.container.css(i.args),i.container.css("transform",a)},i.setup=function(t){if(m)i.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(r?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):0==i.vars.fadeFirstSlide?i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).css({opacity:1}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&f.smoothHeight();else{var n,a;"init"===t&&(i.viewport=e('<div class="'+o+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,d&&(a=e.makeArray(i.slides).reverse(),i.slides=e(a),i.container.empty().append(i.slides))),i.vars.animationLoop&&!p&&(i.cloneCount=2,i.cloneOffset=1,"init"!==t&&i.container.find(".clone").remove(),i.container.append(f.uniqueID(i.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(f.uniqueID(i.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),i.newSlides=e(i.vars.selector,i),n=d?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,u&&!p?(i.container.height(200*(i.count+i.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(n*i.h,"init")},"init"===t?100:0)):(i.container.width(200*(i.count+i.cloneCount)+"%"),i.setProps(n*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:"auto","margin-right":"50px","float":"left",display:"block"}),i.vars.smoothHeight&&f.smoothHeight()},"init"===t?100:0))}p||i.slides.removeClass(o+"active-slide").eq(i.currentSlide).addClass(o+"active-slide"),i.vars.init(i)},i.doMath=function(){var e=i.slides.first(),t=i.vars.itemMargin,n=i.vars.minItems,a=i.vars.maxItems;i.w=void 0===i.viewport?i.width():i.viewport.width(),i.h=e.height(),i.boxPadding=e.outerWidth()-e.width(),p?(i.itemT=i.vars.itemWidth+t,i.minW=n?n*i.itemT:i.w,i.maxW=a?a*i.itemT-t:i.w,i.itemW=i.minW>i.w?(i.w-t*(n-1))/n:i.maxW<i.w?(i.w-t*(a-1))/a:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=1===i.pagingCount?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+t*(i.count-1):(i.itemW+t)*i.count-i.w-t):(i.itemW=i.w,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding},i.update=function(e,t){i.doMath(),p||(e<i.currentSlide?i.currentSlide+=1:e<=i.currentSlide&&0!==e&&(i.currentSlide-=1),i.animatingTo=i.currentSlide),i.vars.controlNav&&!i.manualControls&&("add"===t&&!p||i.pagingCount>i.controlNav.length?f.controlNav.update("add"):("remove"===t&&!p||i.pagingCount<i.controlNav.length)&&(p&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),f.controlNav.update("remove",i.last))),i.vars.directionNav&&f.directionNav.update()},i.addSlide=function(t,n){var a=e(t);i.count+=1,i.last=i.count-1,u&&d?void 0!==n?i.slides.eq(i.count-n).after(a):i.container.prepend(a):void 0!==n?i.slides.eq(n).before(a):i.container.append(a),i.update(n,"add"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)},i.removeSlide=function(t){var n=isNaN(t)?i.slides.index(e(t)):t;i.count-=1,i.last=i.count-1,isNaN(t)?e(t,i.slides).remove():u&&d?i.slides.eq(i.last).remove():i.slides.eq(t).remove(),i.doMath(),i.update(n,"remove"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},f.init()},e(window).blur(function(e){focused=!1}).focus(function(e){focused=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var n=e(this),i=t.selector?t.selector:".slides > li",a=n.find(i);1===a.length&&t.allowOneSlide===!0||0===a.length?(a.fadeIn(400),t.start&&t.start(n)):void 0===n.data("flexslider")&&new e.flexslider(this,t)});var n=e(this).data("flexslider");switch(t){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof t&&n.flexAnimate(t,!0)}}}(jQuery),function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}var n=e.prototype;n.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},n.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},n.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},n.addListener=function(e,n){var i,a=this.getListenersAsObject(e),o="object"==typeof n;for(i in a)a.hasOwnProperty(i)&&-1===t(a[i],n)&&a[i].push(o?n:{listener:n,once:!1});return this},n.on=n.addListener,n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=n.addOnceListener,n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,n){var i,a,o=this.getListenersAsObject(e);for(a in o)o.hasOwnProperty(a)&&(i=t(o[a],n),-1!==i&&o[a].splice(i,1));return this},n.off=n.removeListener,n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,n){var i,a,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(a=t[i])&&("function"==typeof a?o.call(this,i,a):s.call(this,i,a));return this},n.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},n.emitEvent=function(e,t){var n,i,a,o,s=this.getListenersAsObject(e);for(a in s)if(s.hasOwnProperty(a))for(i=s[a].length;i--;)n=s[a][i],o=n.listener.apply(this,t||[]),(o===this._getOnceReturnValue()||n.once===!0)&&this.removeListener(e,s[a][i].listener);return this},n.trigger=n.emitEvent,n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){"use strict";var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(t,n,i){t[n+i]=i.handleEvent?function(){var t=e.event;t.target=t.target||t.srcElement,i.handleEvent.call(i,t)}:function(){var n=e.event;n.target=n.target||n.srcElement,i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var i=function(){};t.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var a={bind:n,unbind:i};"function"==typeof define&&define.amd?define(a):e.eventie=a}(this),function(e){"use strict";function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===l.call(e)}function i(e){var t=[];if(n(e))t=e;else if("number"==typeof e.length)for(var i=0,a=e.length;a>i;i++)t.push(e[i]);else t.push(e);return t}function a(e,n){function a(e,n,s){if(!(this instanceof a))return new a(e,n);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=i(e),this.options=t({},this.options),"function"==typeof n?s=n:t(this.options,n),s&&this.on("always",s),this.getImages(),o&&(this.jqDeferred=new o.Deferred);var r=this;setTimeout(function(){r.check()})}function l(e){this.img=e}a.prototype=new e,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){
var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);for(var i=n.querySelectorAll("img"),a=0,o=i.length;o>a;a++){var s=i[a];this.addImage(s)}}},a.prototype.addImage=function(e){var t=new l(e);this.images.push(t)},a.prototype.check=function(){function e(e,a){return t.options.debug&&r&&s.log("confirm",e,a),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var a=0;i>a;a++){var o=this.images[a];o.on("confirm",e),o.check()}},a.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify(t,e)})},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},o&&(o.fn.imagesLoaded=function(e,t){var n=new a(this,e,t);return n.jqDeferred.promise(o(this))});var c={};return l.prototype=new e,l.prototype.check=function(){var e=c[this.img.src];if(e)return void this.useCached(e);if(c[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this.proxyImage=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.img.src},l.prototype.useCached=function(e){if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else{var t=this;e.on("confirm",function(e){return t.confirm(e.isLoaded,"cache emitted confirmed"),!0})}},l.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},l.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},l.prototype.unbindProxyEvents=function(){n.unbind(this.proxyImage,"load",this),n.unbind(this.proxyImage,"error",this)},a}var o=e.jQuery,s=e.console,r=void 0!==s,l=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],a):e.imagesLoaded=a(e.EventEmitter,e.eventie)}(window),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,n,i){"use strict";var a="panelSnap",o="plugin_"+a,s={isMouseDown:!1,isSnapping:!1,enabled:!0,scrollOffset:0,init:function(t,i){var a=this;if(a.container=i,a.$container=e(i),a.$eventContainer=a.$container,a.$snapContainer=a.$container,a.$container.is("body")){a.$eventContainer=e(n),a.$snapContainer=e(n.documentElement);var o=navigator.userAgent;~o.indexOf("WebKit")&&(a.$snapContainer=e("body"))}if(a.options=e.extend(!0,{},e.fn.panelSnap.options,t),a.bind(),a.options.$menu!==!1&&e(".active",a.options.$menu).length>0)e(".active",a.options.$menu).click();else{var s=a.getPanel(":first");a.activatePanel(s)}return a},bind:function(){var n=this;n.bindProxied(n.$eventContainer,"scrollstop",n.scrollStop),n.bindProxied(n.$eventContainer,"mousewheel",n.mouseWheel),n.bindProxied(n.$eventContainer,"mousedown",n.mouseDown),n.bindProxied(n.$eventContainer,"mouseup",n.mouseUp),n.bindProxied(e(t),"resizestop",n.resize),n.options.$menu&&n.bindProxied(n.options.$menu,"click",n.captureMenuClick,n.options.menuSelector),(n.options.navigation.keys.nextKey||n.options.navigation.keys.prevKey)&&n.bindProxied(e(t),"keydown",n.keyDown),n.options.navigation.buttons.$nextButton&&n.bindProxied(n.options.navigation.buttons.$nextButton,"click",n.captureNextClick),n.options.navigation.buttons.$prevButton&&n.bindProxied(n.options.navigation.buttons.$prevButton,"click",n.capturePrevClick)},bindProxied:function(t,n,i,a){var o=this;a="string"==typeof a?a:null,t.on(n+o.options.namespace,a,e.proxy(function(e){return i.call(o,e)},o))},destroy:function(){var n=this;n.$eventContainer.off(n.options.namespace),e(t).off(n.options.namespace),n.options.$menu!==!1&&e(n.options.menuSelector,n.options.$menu).off(n.options.namespace),n.$container.removeData(o)},scrollStop:function(e){var t=this;if(e.stopPropagation(),!t.isMouseDown&&!t.isSnapping){var n=t.getPanelsInViewport();if(!t.enabled||n.length<2)return r=n.eq(0),void(r.is(t.getPanel(".active"))||t.activatePanel(r));var i,a=t.$snapContainer.scrollTop(),o=a-t.scrollOffset,s=Math.abs(o)>t.options.directionThreshold;if(o>0)i=s?1:0;else{if(!(0>o))return;i=s?0:1}var r=n.eq(i),l=t.$container[0].scrollHeight-t.scrollInterval;0>=a||a>=l?(t.activatePanel(r),t.scrollOffset=0>=a?0:l):t.snapToPanel(r)}},getPanelsInViewport:function(){var t=this,n={top:t.$snapContainer.scrollTop()};n.bottom=n.top+t.$snapContainer.height();var i=t.getPanel().filter(function(i,a){var o,s=e(a);return t.$container.is("body")?o=s.offset():(o=s.position(),o.top+=t.$snapContainer.scrollTop()),o.bottom=o.top+s.outerHeight(),!(n.bottom<o.top||n.top>o.bottom)});return i},mouseWheel:function(e){var t=this;t.isSnapping&&(t.scrollOffset=t.$snapContainer.scrollTop(),t.$snapContainer.stop(!0),t.isSnapping=!1)},mouseDown:function(e){var t=this;t.isMouseDown=!0},mouseUp:function(e){var t=this;t.isMouseDown=!1,t.scrollOffset!==t.$snapContainer.scrollTop()&&t.scrollStop(e)},keyDown:function(e){var t=this,n=t.options.navigation;if(t.enabled){switch(e.which){case n.keys.prevKey:case n.keys.nextKey:e.preventDefault()}if(!t.isSnapping)switch(e.which){case n.keys.prevKey:t.snapTo("prev",n.wrapAround);break;case n.keys.nextKey:t.snapTo("next",n.wrapAround)}}},captureNextClick:function(e){var t=this;e.preventDefault(),t.isSnapping||t.snapTo("next",t.options.navigation.wrapAround)},capturePrevClick:function(e){var t=this;e.preventDefault(),t.isSnapping||t.snapTo("prev",t.options.navigation.wrapAround)},resize:function(e){var t=this;if(t.enabled){var n=t.getPanel(".active");t.snapToPanel(n)}},captureMenuClick:function(t){var n=this,i=e(t.currentTarget).data("panel"),a=n.getPanel('[data-panel="'+i+'"]');return n.snapToPanel(a),!1},snapToPanel:function(e){var t=this;if(e.jquery){t.isSnapping=!0,t.options.onSnapStart.call(t,e),t.$container.trigger("panelsnap:start",[e]);var n=0;n=t.$container.is("body")?e.offset().top:t.$snapContainer.scrollTop()+e.position().top,n-=t.options.offset,t.$snapContainer.stop(!0).delay(t.options.delay).animate({scrollTop:n},t.options.slideSpeed,t.options.easing,function(){t.scrollOffset=t.$snapContainer.scrollTop(),t.isSnapping=!1,t.options.onSnapFinish.call(t,e),t.$container.trigger("panelsnap:finish",[e]),t.activatePanel(e)})}},activatePanel:function(t){var n=this;if(n.getPanel(".active").removeClass("active"),t.addClass("active"),n.options.$menu!==!1){var i=n.options.menuSelector+".active";e(i,n.options.$menu).removeClass("active");var a='[data-panel="'+t.data("panel")+'"]',o=n.options.menuSelector+a,s=e(o,n.options.$menu);s.addClass("active")}var r=n.options.navigation;if(!r.wrapAround){var l=n.getPanel(),c=l.index(n.getPanel(".active"));r.buttons.$nextButton!==!1&&(t=l.eq(c+1),t.length<1?(e(r.buttons.$nextButton).attr("aria-disabled","true"),e(r.buttons.$nextButton).addClass("disabled")):(e(r.buttons.$nextButton).attr("aria-disabled","false"),e(r.buttons.$nextButton).removeClass("disabled"))),r.buttons.$prevButton!==!1&&(1>c?(e(r.buttons.$prevButton).attr("aria-disabled","true"),e(r.buttons.$prevButton).addClass("disabled")):(e(r.buttons.$prevButton).attr("aria-disabled","false"),e(r.buttons.$prevButton).removeClass("disabled")))}n.options.onActivate.call(n,t),n.$container.trigger("panelsnap:activate",[t])},getPanel:function(t){var n=this;return"undefined"==typeof t&&(t=""),e(n.options.panelSelector+t,n.$container)},snapTo:function(e,t){var n=this;"boolean"!=typeof t&&(t=!0);var i,a=n.getPanel(),o=a.index(n.getPanel(".active"));switch(e){case"prev":i=a.eq(o-1),1>o&&!t&&(i=[]);break;case"next":i=a.eq(o+1),i.length<1&&t&&(i=a.filter(":first"));break;case"first":i=a.filter(":first");break;case"last":i=a.filter(":last")}i.length>0&&n.snapToPanel(i)},enable:function(){var e=this;e.scrollOffset=e.$snapContainer.scrollTop(),e.enabled=!0},disable:function(){var e=this;e.enabled=!1},toggle:function(){var e=this;e.enabled?e.disable():e.enable()}};e.fn[a]=function(t){var n=Array.prototype.slice.call(arguments);return this.each(function(){var i=e.data(this,o);if("object"!=typeof t&&"init"!==t&&t){if(!i)return void e.error("Plugin is not initialized for this object yet.");if(!i[t])return void e.error("Method "+t+" does not exist on jQuery.panelSnap.");var a=t;t=n.slice(1),i[a].apply(i,t)}else{if(i)return void e.error("Plugin is already initialized for this object.");"init"===t&&(t=n[1]||{}),i=Object.create(s).init(t,this),e.data(this,o,i)}})},e.fn[a].options={$menu:!1,menuSelector:"a",panelSelector:"> section",namespace:".panelSnap",onSnapStart:function(){},onSnapFinish:function(){},onActivate:function(){},directionThreshold:50,slideSpeed:200,delay:0,easing:"linear",offset:0,navigation:{keys:{nextKey:!1,prevKey:!1},buttons:{$nextButton:!1,$prevButton:!1},wrapAround:!1}}}(jQuery,window,document),function(e){e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){e.type=t?"scrollstart":"scrollstop",o.trigger(e)}var n,i,a=this,o=e(a);o.data("scrollwatch",!0),o.on("touchstart",function(e){i=!0}),o.on("touchleave touchcancel touchend",function(e){i=!1,setTimeout(function(){clearTimeout(n)},50)}),o.on("touchmove scroll",function(a){i||e.event.special.scrollstart.enabled&&(e.event.special.scrollstart.scrolling||(e.event.special.scrollstart.scrolling=!0,t(a,!0)),clearTimeout(n),n=setTimeout(function(){e.event.special.scrollstart.scrolling=!1,t(a,!1)},50))})}},e.event.special.scrollstop={setup:function(){var t=this,n=e(t);n.data("scrollwatch")||e(this).on("scrollstart",function(){})}}}(jQuery),function(e){e.event.special.resizestart={enabled:!0,setup:function(){function t(e,t){e.type=t?"resizestart":"resizestop",a.trigger(e)}var n,i=this,a=e(i);a.data("resizewatch",!0),a.on("resize",function(i){e.event.special.resizestart.enabled&&(e.event.special.resizestart.resizing||(e.event.special.resizestart.resizing=!0,t(i,!0)),clearTimeout(n),n=setTimeout(function(){e.event.special.resizestart.resizing=!1,t(i,!1)},200))})}},e.event.special.resizestop={setup:function(){var t=this,n=e(t);n.data("resizewatch")||e(this).on("resizestart",function(){})}}}(jQuery),function(e){function t(t){var n=t||window.event,i=[].slice.call(arguments,1),a=0,o=0,s=0;return t=e.event.fix(n),t.type="mousewheel",n.wheelDelta&&(a=n.wheelDelta/120),n.detail&&(a=-n.detail/3),s=a,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(s=0,o=-1*a),void 0!==n.wheelDeltaY&&(s=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(o=-1*n.wheelDeltaX/120),i.unshift(t,a,o,s),(e.event.dispatch||e.event.handle).apply(this,i)}var n=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var i=n.length;i;)e.event.fixHooks[n[--i]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){o(function(){var t,n;for(t=0;t<e.length;t++)n=e[t],n.obj.css(n.css)})}var n,i,a;a=function(e,t){return function(){return e.apply(t,arguments)}},i={align:"center",autoResize:!1,comparator:null,container:e("body"),direction:void 0,ignoreInactiveItems:!0,itemWidth:0,fillEmptySpace:!1,flexibleWidth:0,offset:2,outerOffset:0,onLayoutChanged:void 0,possibleFilters:[],resizeDelay:50,verticalOffset:void 0};var o=window.requestAnimationFrame||function(e){e()},s=e(window);n=function(){function n(t,n){this.handler=t,this.columns=this.containerWidth=this.resizeTimer=null,this.activeItemCount=0,this.itemHeightsDirty=!0,this.placeholders=[],e.extend(!0,this,i,n),this.verticalOffset=this.verticalOffset||this.offset,this.update=a(this.update,this),this.onResize=a(this.onResize,this),this.onRefresh=a(this.onRefresh,this),this.getItemWidth=a(this.getItemWidth,this),this.layout=a(this.layout,this),this.layoutFull=a(this.layoutFull,this),this.layoutColumns=a(this.layoutColumns,this),this.clear=a(this.clear,this),this.getActiveItems=a(this.getActiveItems,this),this.refreshPlaceholders=a(this.refreshPlaceholders,this),this.sortElements=a(this.sortElements,this),this.autoResize&&s.bind("resize.wookmark",this.onResize),this.container.bind("refreshWookmark",this.onRefresh)}return n.prototype.update=function(t){this.itemHeightsDirty=!0,e.extend(!0,this,t)},n.prototype.onResize=function(){clearTimeout(this.resizeTimer),this.itemHeightsDirty=0!==this.flexibleWidth,this.resizeTimer=setTimeout(this.layout,this.resizeDelay)},n.prototype.onRefresh=function(){this.itemHeightsDirty=!0,this.layout()},n.prototype.refreshPlaceholders=function(t,n){for(var i,a,o,s,r,l,c=this.placeholders.length,u=this.columns.length,d=this.container.innerHeight();u>c;c++)i=e('<div class="wookmark-placeholder"/>').appendTo(this.container),this.placeholders.push(i);for(l=this.offset+2*parseInt(this.placeholders[0].css("borderLeftWidth"),10),c=0;c<this.placeholders.length;c++)if(i=this.placeholders[c],o=this.columns[c],c>=u||!o[o.length-1])i.css("display","none");else{if(a=o[o.length-1],!a)continue;r=a.data("wookmark-top")+a.data("wookmark-height")+this.verticalOffset,s=d-r-l,i.css({position:"absolute",display:s>0?"block":"none",left:c*t+n,top:r,width:t-l,height:s})}},n.prototype.getActiveItems=function(){return this.ignoreInactiveItems?this.handler.not(".inactive"):this.handler},n.prototype.getItemWidth=function(){var e=this.itemWidth,t=this.container.width()-2*this.outerOffset,n=this.handler.eq(0),i=this.flexibleWidth;if(void 0===this.itemWidth||0===this.itemWidth&&!this.flexibleWidth?e=n.outerWidth():"string"==typeof this.itemWidth&&this.itemWidth.indexOf("%")>=0&&(e=parseFloat(this.itemWidth)/100*t),i){"string"==typeof i&&i.indexOf("%")>=0&&(i=parseFloat(i)/100*t);var a=t+this.offset,o=~~(.5+a/(i+this.offset)),s=~~(a/(e+this.offset)),r=Math.max(o,s),l=Math.min(i,~~((t-(r-1)*this.offset)/r));e=Math.max(e,l),this.handler.css("width",e)}return e},n.prototype.layout=function(e){if(this.container.is(":visible")){var t,n=this.getItemWidth()+this.offset,i=this.container.width(),a=i-2*this.outerOffset,o=~~((a+this.offset)/n),s=0,r=0,l=0,c=this.getActiveItems(),u=c.length;if(this.itemHeightsDirty||!this.container.data("itemHeightsInitialized")){for(;u>l;l++)t=c.eq(l),t.data("wookmark-height",t.outerHeight());this.itemHeightsDirty=!1,this.container.data("itemHeightsInitialized",!0)}o=Math.max(1,Math.min(o,u)),s=this.outerOffset,"center"==this.align&&(s+=~~(.5+(a-(o*n-this.offset))>>1)),this.direction=this.direction||("right"==this.align?"right":"left"),r=e||null===this.columns||this.columns.length!=o||this.activeItemCount!=u?this.layoutFull(n,o,s):this.layoutColumns(n,s),this.activeItemCount=u,this.container.css("height",r),this.fillEmptySpace&&this.refreshPlaceholders(n,s),void 0!==this.onLayoutChanged&&"function"==typeof this.onLayoutChanged&&this.onLayoutChanged()}},n.prototype.sortElements=function(e){return"function"==typeof this.comparator?e.sort(this.comparator):e},n.prototype.layoutFull=function(n,i,a){var o,s,r=0,l=0,c=e.makeArray(this.getActiveItems()),u=c.length,d=null,p=null,m=[],h=[],f="left"==this.align?!0:!1;for(this.columns=[],c=this.sortElements(c);m.length<i;)m.push(this.outerOffset),this.columns.push([]);for(;u>r;r++){for(o=e(c[r]),d=m[0],p=0,l=0;i>l;l++)m[l]<d&&(d=m[l],p=l);o.data("wookmark-top",d),s=a,(p>0||!f)&&(s+=p*n),(h[r]={obj:o,css:{position:"absolute",top:d}}).css[this.direction]=s,m[p]+=o.data("wookmark-height")+this.verticalOffset,this.columns[p].push(o)}return t(h),Math.max.apply(Math,m)},n.prototype.layoutColumns=function(e,n){for(var i,a,o,s,r=[],l=[],c=0,u=0,d=0;c<this.columns.length;c++){for(r.push(this.outerOffset),a=this.columns[c],s=c*e+n,i=r[c],u=0;u<a.length;u++,d++)o=a[u].data("wookmark-top",i),(l[d]={obj:o,css:{top:i}}).css[this.direction]=s,i+=o.data("wookmark-height")+this.verticalOffset;r[c]=i}return t(l),Math.max.apply(Math,r)},n.prototype.clear=function(){clearTimeout(this.resizeTimer),s.unbind("resize.wookmark",this.onResize),this.container.unbind("refreshWookmark",this.onRefresh),this.handler.wookmarkInstance=null},n}(),e.fn.wookmark=function(e){return this.wookmarkInstance?this.wookmarkInstance.update(e||{}):this.wookmarkInstance=new n(this,e||{}),this.wookmarkInstance.layout(!0),this.show()}});var youmaxLoggedInUser={};!function(e){var t=function(t,n,i){var a="",o=!1,s=i.data("youmax_global_options"),r=s.apiKey,l=s.maxResults;null!=n&&(a="&pageToken="+n,o=!0),apiPlaylistVideosURL="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+t+"&maxResults="+l+a+"&key="+r,e.ajax({url:apiPlaylistVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){E(e,o,i)},error:function(e){alert(e)},beforeSend:x})},n=function(t,n,a){var o="",s=!1,r=a.data("youmax_global_options"),l=r.apiKey,c=r.maxResults;null!=n&&(o="&pageToken="+n,s=!0);var u=t.substring(t.indexOf("_")+1);s?(apiEventVideosURL="https://www.googleapis.com/youtube/v3/search?part=snippet&eventType=completed&order=date&channelId="+u+"&type=video&maxResults="+c+o+"&key="+l,e.ajax({url:apiEventVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){O(e,a,!1,!0)},error:function(e){alert(e)},beforeSend:x})):(eventCache={items:[],nextPageToken:"youmax-generated"},eventCacheStatus=[],a.data("eventcache",eventCache),a.data("eventcachestatus",eventCacheStatus),apiEventVideosURL="https://www.googleapis.com/youtube/v3/search?part=snippet&eventType=live&order=date&channelId="+u+"&type=video&maxResults=50&key="+l,e.ajax({url:apiEventVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){i(e,a,"live")},error:function(e){alert(e)},beforeSend:x}),setTimeout(function(){apiEventVideosURL="https://www.googleapis.com/youtube/v3/search?part=snippet&eventType=upcoming&order=date&channelId="+u+"&type=video&maxResults=50&key="+l,e.ajax({url:apiEventVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){i(e,a,"upcoming")},error:function(e){alert(e)},beforeSend:x})},200),setTimeout(function(){-1!=r.loadMode.indexOf("paginate")&&(c=50),apiEventVideosURL="https://www.googleapis.com/youtube/v3/search?part=snippet&eventType=completed&order=date&channelId="+u+"&type=video&maxResults="+c+"&key="+l,e.ajax({url:apiEventVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){i(e,a,"completed")},error:function(e){alert(e)},beforeSend:x})},400))},i=function(e,t,n){eventCache=t.data("eventcache"),eventCacheStatus=t.data("eventcachestatus");var i=t.data("youmax_global_options");null!=e.items&&e.items.length>0&&(eventCache.items=eventCache.items.concat(e.items)),"completed"==n&&(eventCache.nextPageToken=e.nextPageToken),eventCacheStatus.push(n),eventCacheStatus.length>=3&&-1!=eventCacheStatus.indexOf("live")&&-1!=eventCacheStatus.indexOf("upcoming")&&-1!=eventCacheStatus.indexOf("completed")&&(-1!=i.loadMode.indexOf("paginate")?(cache=eventCache.items,cacheIndex=-1-i.maxResults,t.data("cache",cache),t.data("cacheindex",cacheIndex),t.find("#youmax-next-div").data("nextpagetoken",eventCache.nextPageToken),u(t,"next")):O(eventCache,t,!1,!0)),t.data("eventcache",eventCache),t.data("eventcachestatus",eventCacheStatus)},a=function(t,n,i,a){var o=n.data("youmax_global_options"),s=n.data("youmax_translator_text");apiVideoDetailURL="https://www.googleapis.com/youtube/v3/videos?part=statistics%2Csnippet&id="+t+"&key="+o.apiKey,e.ajax({url:apiVideoDetailURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(o){$baseElement=e('<div id="'+t+'"><div class="youmax-video-list-title">'+o.items[0].snippet.title+'</div><div class="youmax-video-list-date">'+M(o.items[0].snippet.publishedAt,s)+"</div></div>"),$baseElement.data("description",o.items[0].snippet.description),$baseElement.data("likes",k(o.items[0].statistics.likeCount)),$baseElement.data("views",P(o.items[0].statistics.viewCount)),$baseElement.data("channelid",o.items[0].snippet.channelId),B($baseElement,i,a,n)},error:function(e){alert(e)},beforeSend:x})},o=function(t,n,i){var a="",o=!1,s=n.data("youmax_global_options"),r=s.apiKey,l=s.maxResults;null!=i&&(a="&pageToken="+i,o=!0),apiVideoCommentsURL="https://www.googleapis.com/youtube/v3/commentThreads?part=id%2Csnippet&videoId="+t+a+"&maxResults="+l+"&key="+r+"&order="+s.commentOrder,e.ajax({url:apiVideoCommentsURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){j(e,o,n)},error:function(e){alert(e)},beforeSend:x})},r=function(){e.ajaxSetup({cache:!0}),e.getScript("https://apis.google.com/js/platform.js").done(function(e,t){}).fail(function(e,t,n){})},l=function(t,n,i){var a="",o=!1,s=i.data("youmax_global_options"),r=s.apiKey,l=s.maxResults;null!=n&&(a="&pageToken="+n,o=!0);var c=t.substring(t.indexOf("_")+1);apiChannelPlaylistsURL="https://www.googleapis.com/youtube/v3/playlists?part=contentDetails,snippet&channelId="+c+"&maxResults="+l+a+"&key="+r,e.ajax({url:apiChannelPlaylistsURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){A(e,o,i)},error:function(e){alert(e)},beforeSend:x})},c=function(t){var n=t.data("youmax_global_options");t.empty(),t.append('<div id="youmax-header"><div id="youmax-header-wrapper"></div></div>'),t.append('<div id="youmax-tabs"></div>'),t.append('<div id="youmax-select-box"><select id="youmax-select"></select></div>'),"popup"!=n.displayVideo&&t.append('<div id="youmax-encloser"></div>'),t.append('<div id="youmax-showing-title"></div>');var i="";"paginate-sides"==n.loadMode&&(i="youmax-small-container"),t.append('<div id="youmax-video-list-div" class="'+i+'"><ul id="tiles"></ul></div>');var a=null,o=null,s=null,r="";"small"==n.loadButtonSize&&(r='class="youmax-small"'),"loadmore"==n.loadMode?(t.append('<button type="button" id="youmax-load-more-div" '+r+'><i class="fa fa-plus fa-5x"></i></button>'),a=t.find("#youmax-load-more-div")):"paginate-bottom"==n.loadMode?(t.append('<div class="youmax-pagination"><div class="youmax-pagination-button-wrapper youmax-left-wrapper"><button type="button" id="youmax-previous-div" '+r+'><i class="fa fa-caret-left fa-5x"></i></button></div><div class="youmax-pagination-button-wrapper youmax-right-wrapper"><button type="button" id="youmax-next-div" '+r+'><i class="fa fa-caret-right fa-5x"></i></button></div></div>'),s=t.find("#youmax-next-div"),o=t.find("#youmax-previous-div")):"paginate-sides"==n.loadMode&&(t.append('<div class="youmax-pagination-button-wrapper youmax-left-wrapper youmax-side-nav"><button type="button" id="youmax-previous-div" '+r+'><i class="fa fa-caret-left fa-5x"></i></button></div><div class="youmax-pagination-button-wrapper youmax-right-wrapper youmax-side-nav"><button type="button" id="youmax-next-div" '+r+'><i class="fa fa-caret-right fa-5x"></i></button></div>'),s=t.find("#youmax-next-div"),o=t.find("#youmax-previous-div")),null!=a&&(a.data("nextpagetoken",""),a.click(function(){m(t)})),null!=o&&o.click(function(){u(t,"previous")}),null!=s&&s.click(function(){u(t,"next")}),t.find("#youmax-tabs").on("click",".youmax-tab",function(){t.find("#youmax-load-more-div").removeAttr("disabled"),G(this.id,t)}),t.find("#youmax-select").change(function(){var n=e(this).find(":selected").val();G(n,t)}),t.on("click",".youmax-show-button",function(){U(this.id,t)}),t.on("click",".youmax-more-button",function(){X(t)}),e.getScript("https://apis.google.com/js/client:platform.js").done(function(e,n){t.on("click",".youmax-add-comment-button",function(){d(this,t)})}).fail(function(e,t,n){}),t.on("keyup","#youmax-search-box,#youmax-search-box-header",function(n){return 13==n.keyCode?(searchText="query_"+e(this).val(),G(searchText,t),!1):void 0}),-1!=n.skin.indexOf("clean")&&(t.on("mouseenter","#tiles li",function(){e(this).find(".youmax-duration").show(),e(this).find(".youmax-definition").show(),e(this).find(".youmax-clean-overlay-holder").hide()}),t.on("mouseleave","#tiles li",function(){e(this).find(".youmax-duration").hide(),e(this).find(".youmax-definition").hide(),e(this).find(".youmax-clean-overlay-holder").show()})),t.on("click","#youmax-back-to-playlists",function(){t.find("span[id^=playlists_].youmax-tab").first().click()}),t.on("click","#youmax-search-box-header",function(){e(this).find("#youmax-search-holder-header").toggle()}),t.on("click","#youmax-search-box-header",function(e){return!1})},u=function(t,n){var i={items:[],nextPageToken:"youmax-generated"};cache=t.data("cache"),cacheIndex=t.data("cacheindex");var a,o=t.data("youmax_global_options");videoType=e(".youmax-tab-hover").attr("id").split("_")[0],"previous"==n?cacheIndex>=0?(a=cacheIndex-o.maxResults+1,0>a&&(a=0),i.items=cache.slice(a,a+o.maxResults),-1!=videoType.indexOf("playlist")?A(i,!1,t):-1!=videoType.indexOf("search")?(eventType=e(".youmax-tab-hover").data("eventType"),O(i,t,!1,eventType)):-1!=videoType.indexOf("event")?O(i,t,!1,!0):E(i,!1,t),cacheIndex-=o.maxResults):t.find("#youmax-previous-div").html('<i class="fa fa-close fa-5x"></i>'):"next"==n&&(cacheIndex+o.maxResults+1>=cache.length?m(t):(a=cacheIndex+o.maxResults+1,i.items=cache.slice(a,a+o.maxResults),-1!=videoType.indexOf("playlist")?A(i,!1,t):-1!=videoType.indexOf("search")?(eventType=e(".youmax-tab-hover").data("eventType"),O(i,t,!1,eventType)):-1!=videoType.indexOf("event")?O(i,t,!1,!0):E(i,!1,t),cacheIndex+=o.maxResults),cacheIndex<-1&&(cacheIndex=-1)),t.data("cache",cache),t.data("cacheindex",cacheIndex)},d=function(t,n){e(t).html('<i class="fa fa-ellipsis-h fa-2x"></i>').attr("disabled","disabled");var i=n.data("youmax_global_options"),a=youmaxLoggedInUser.youmaxAccessToken;if(null!=a&&""!=a){var o=n.find(".youmax-comment-textbox").val();if(null==o||""==o.trim())return alert("Please enter a valid comment.."),void n.find(".youmax-add-comment-button").removeAttr("disabled").html('<i class="fa fa-send fa-2x"></i>');o=o.trim(),videoId=n.find(".youmax-encloser-comment-button.youmax-show-button").attr("id"),channelId=n.find(".youmax-encloser-comment-button.youmax-show-button").data("channelid"),p(n,videoId,a,i.apiKey,o,channelId)}else gapi.auth.signIn({clientid:i.clientId,cookiepolicy:"single_host_origin",callback:"youmaxSaveToken",scope:"https://www.googleapis.com/auth/youtube.force-ssl"})},p=function(t,n,i,a,o,s){var r=t.data("youmax_global_options"),l="https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&shareOnGooglePlus=false&fields=snippet&key="+r.apiKey,c='{"snippet":{"channelId":"'+s+'","videoId":"'+n+'","topLevelComment":{"snippet":{"textOriginal":"'+o+'"}}}}';e.ajax({url:l,type:"post",crossDomain:!0,data:c,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+i),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Content-Length",c.length)},success:function(e,n){var i=e.snippet.topLevelComment.snippet.authorDisplayName,a=e.snippet.topLevelComment.snippet.authorProfileImageUrl,s=t.data("youmax_translator_text");t.find("#youmax-encloser-comments").prepend('<div  class="youmax-video-comment"><div class="youmax-from"><div class="youmax-from-img" style="background-image:url(\''+a+'\');"></div><div class="youmax-from-name">'+i+'</div><div class="youmax-published">'+s.now+'</div></div><div class="youmax-comment"><span class="youmax-comment-content">'+o+"</span><div></div>"),t.find(".youmax-add-comment-button").removeAttr("disabled").html('<i class="fa fa-send fa-2x"></i>'),t.find(".youmax-comment-textbox").val("")},error:function(e,t,n){alert("Could not Post - "+n)}})},m=function(e){$youmaxLoadMoreDiv=h(e),e.find("#youmax-encloser").empty().hide();var i=e.find(".youmax-tab.youmax-tab-hover").attr("id"),a=$youmaxLoadMoreDiv.data("nextpagetoken");null!=a&&"undefined"!=a&&""!=a?-1!=i.indexOf("search_")?W(i,a,e):-1!=i.indexOf("playlists_")?l(i,a,e):-1!=i.indexOf("query_")?F(i,a,e):-1!=i.indexOf("events_")?n(i,a,e):t(i,a,e):f(e)},h=function(e){var t,n=e.data("youmax_global_options");return"loadmore"==n.loadMode?(t=e.find("#youmax-load-more-div"),t.html('<i class="fa fa-ellipsis-h fa-5x"></i>')):-1!=n.loadMode.indexOf("paginate")&&(t=e.find("#youmax-next-div"),t.html('<i class="fa fa-ellipsis-h fa-5x"></i>')),t.addClass("youmax-load-more-div-click"),t},f=function(e){var t,n=e.data("youmax_global_options");"loadmore"==n.loadMode?(t=e.find("#youmax-load-more-div"),t.html('<i class="fa fa-close fa-5x"></i>')):-1!=n.loadMode.indexOf("paginate")&&(t=e.find("#youmax-next-div"),t.html('<i class="fa fa-close fa-5x"></i>')),t.removeClass("youmax-load-more-div-click")},y=function(t,n){var i=n.data("youmax_global_options"),a=i.apiKey;i.channelId=t,apiUrl="https://www.googleapis.com/youtube/v3/channels?part=brandingSettings%2Csnippet%2Cstatistics%2CcontentDetails&id="+t+"&key="+a,e.ajax({url:apiUrl,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){S(e,n)},error:function(e){alert(e)},beforeSend:x})},v=function(t,n){e.ajax({url:t,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){y(e.items[0].id,n)},error:function(e){alert(e)},beforeSend:x})},g=function(t,n){e.ajax({url:t,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){restrictedChannels=n.data("restrictToChannels"),restrictedChannels.push(e.items[0].id),n.data("restrictToChannels",restrictedChannels)},error:function(e){alert(e)},beforeSend:x})},b=function(t,n){var i=n.data("youmax_global_options"),a=i.apiKey;apiPlaylistDetailsURL="https://www.googleapis.com/youtube/v3/playlists?part=snippet&id="+t+"&key="+a,e.ajax({url:apiPlaylistDetailsURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){_(e,n)},error:function(e){alert(e)},beforeSend:x})},w=function(t,n,i){var a=n.data("youmax_global_options"),o=a.apiKey,s="";i&&(s="%2CliveStreamingDetails"),apiVideoStatURL="https://www.googleapis.com/youtube/v3/videos?part=statistics%2CcontentDetails"+s+"&id="+t+"&key="+o,e.ajax({url:apiVideoStatURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){Y(e,n,i)},error:function(e){alert(e)},beforeSend:x})},x=function(e){e&&e.overrideMimeType&&e.overrideMimeType("application/j-son;charset=UTF-8")},T=function(e){return e=parseInt(e,10),1e3>e||(e=1e6>e?Math.round(e/1e3)+"K":1e9>e?(e/1e6).toFixed(1)+"M":(e/1e9).toFixed(1)+"B"),e},P=T,k=T,C=function(e){var t="";if(null==e||"0"==e)return"";for(;e.length>0;){if(!(e.length>3)){t=e+t;break}t=","+e.substring(e.length-3)+t,e=e.substring(0,e.length-3)}return t},I=function(e){var t,n;e=e.replace("PT","").replace("S","").replace("M",":").replace("H",":");var i=e.split(":");n=i[0];for(var a=1;a<i.length;a++)t=i[a],""==t?n+=":00":(t=parseInt(t,10),n+=10>t?":0"+t:":"+t);return 1==i.length&&(n="0:"+n),n},S=function(t,n){var i=n.data("youmax_global_options"),a=n.data("youmax_translator_text"),o=t.items[0];channelId=o.id,channelTitle=o.snippet.title,channelImage=o.snippet.thumbnails["default"].url,channelSubscribers=T(o.statistics.subscriberCount),channelViews=T(o.statistics.viewCount),channelBackgroundImage=o.brandingSettings.image.bannerImageUrl,channelUploadsPlaylistId=o.contentDetails.relatedPlaylists.uploads,channelVideos=T(o.statistics.videoCount),channelDescription=o.snippet.description,userWebsite=i.userWebsite,n.find("#youmax-header").css("background-image","url("+channelBackgroundImage+")"),n.find("#youmax-header-wrapper").append('<a href="https://www.youtube.com/channel/'+channelId+'" target="_blank"><div class="youmax-channel-icon"><img src="'+channelImage+'"/></div><div class="youmax-channel-data-holder"><div class="youmax-channel-title">'+channelTitle+'</div>  <div id="youmax-header-counts" class="youmax-generic-header-counts"><span class="youmax-header-posts" title="'+a.videos+'"><span class="youmax-count"><i class="fa fa-video-camera"></i>'+channelVideos+'</span> </span><span class="youmax-header-following" title="'+a.views+'"><span class="youmax-count"><i class="fa fa-user"></i>'+channelViews+"</span></span></div>  </div></a>"),
-1!=i.skin.indexOf("clean")?(n.find("#youmax-header-wrapper").append('<div id="youmax-header-info"><div id="youmax-header-title">'+channelTitle+'</div><div class="youmax-subscribe-clean-wrapper"><div class="youmax-subscribe"><div class="g-ytsubscribe" data-channelid="'+channelId+'" data-layout="default" data-count="default"></div></div></div><div id="youmax-header-bio">'+channelDescription+'</div><div id="youmax-header-website"><a href="'+userWebsite+'" target="_blank">'+userWebsite+'</a></div><div id="youmax-header-counts"><span class="youmax-header-posts"><span class="youmax-count">'+channelVideos+"</span> "+a.videos+'</span><span class="youmax-header-following"><span class="youmax-count">'+channelViews+"</span> "+a.views+"</span></div></div>"),n.find("#youmax-select-box").prepend('<div id="youmax-search-holder"><input id="youmax-search-box" type="text"/><i class="fa fa-search youmax-search-icon"></i></div>'),n.find("#youmax-select-box").append('<i class="fa fa-caret-down"></i>')):(n.find("#youmax-header-wrapper").append('<div id="youmax-stat-holder"><div id="youmax-search-holder-header"><input id="youmax-search-box-header" type="text" placeholder="Search"/><i class="fa fa-search youmax-search-icon-header"></i></div></div>'),n.find("#youmax-header-wrapper").append('&nbsp;&nbsp;&nbsp;&nbsp;<div class="youmax-subscribe"><div class="g-ytsubscribe" data-channelid="'+channelId+'" data-layout="default" data-count="default"></div></div>'),n.find("#youmax-select-box").prepend('<div id="youmax-search-holder"><input id="youmax-search-box" type="text"/><i class="fa fa-search youmax-search-icon"></i></div>'),n.find("#youmax-select-box").append('<i class="fa fa-caret-down"></i>'),n.find("#youmax-select-box").wrap('<div class="youmax-select-box-wrapper">')),n.find("#youmax-tabs").prepend('<span id="'+channelUploadsPlaylistId+'" class="youmax-tab" >'+a.uploads+'</span><span id="playlists_'+channelId+'" class="youmax-tab" >'+a.playlists+"</span>"),n.find("#youmax-select").prepend('<option value="'+channelUploadsPlaylistId+'" class="youmax-option-highlight" >'+a.uploads+'</option><option value="playlists_'+channelId+'" class="youmax-option-highlight" >'+a.playlists+"</option>"),i.showEvents&&(n.find("#youmax-tabs").append('<span id="events_'+channelId+'" class="youmax-tab" >'+a.events+"</span>"),n.find("#youmax-select").append('<option value="events_'+channelId+'" class="youmax-option-highlight" >'+a.events+"</option>")),i.alwaysUseDropdown&&(n.find("#youmax-select-box").css("display","block"),n.find("#youmax-tabs").hide(),n.find("#youmax-stat-holder").hide()),"u"==i.selectedTab.charAt(0)?e("#"+channelUploadsPlaylistId).click():"l"==i.selectedTab.charAt(0)?e("#playlists_"+channelId).click():"e"==i.selectedTab.charAt(0)&&e("#events_"+channelId).click(),r()},_=function(t,n){var i=n.data("youmax_global_options"),a=t.items;$youmaxTabs=n.find("#youmax-tabs"),$youmaxSelect=n.find("#youmax-select");for(var o=0;o<a.length;o++)playlistId=a[o].id,playlistTitle=a[o].snippet.title,playlistTitle.length>i.maxPlaylistNameLength?playlistTitleShort=playlistTitle.substring(0,i.maxPlaylistNameLength)+"..":playlistTitleShort=playlistTitle,$youmaxTabs.append('<span id="'+playlistId+'" class="youmax-tab" >'+playlistTitleShort+"</span>"),$youmaxSelect.append('<option value="'+playlistId+'" >'+playlistTitle+"</option>");"p"==i.selectedTab.charAt(0)&&(playlistSelect=i.selectedTab.charAt(1)-1,null!=a[playlistSelect]&&e("#"+a[playlistSelect].id).click())},Y=function(t,n,i){for(var a,o=n.data("youmax_global_options"),s=t.items,r=0;r<s.length;r++)videoId=s[r].id,videoViewCount=s[r].statistics.viewCount,videoViewCount=P(videoViewCount),videoDuration=s[r].contentDetails.duration,videoDuration=I(videoDuration),videoDefinition=s[r].contentDetails.definition.toUpperCase(),videoLikeCount=s[r].statistics.likeCount,videoLikeCount=k(videoLikeCount),videoCommentCount=s[r].statistics.commentCount,videoCommentCount=k(videoCommentCount),a=n.find("#youmax-video-list-div #"+videoId),a.find(".youmax-video-list-views").append(videoViewCount+' <span class="youmax-views-text">views</span> '),a.data("views",videoViewCount),a.data("likes",videoLikeCount),-1!=o.skin.indexOf("clean")?(i&&(actualEndTime=s[r].liveStreamingDetails.actualEndTime,actualStartTime=s[r].liveStreamingDetails.actualStartTime,scheduledStartTime=s[r].liveStreamingDetails.scheduledStartTime,null!=actualEndTime?a.append('<div class="youmax-event-tag">Completed Event</div>'):null!=actualStartTime?(watching=C(s[r].liveStreamingDetails.concurrentViewers),a.append('<div class="youmax-event-tag youmax-event-live"><div class="youmax-live-icon"><i class="fa fa-circle"></i></div>Live Event</div>')):null!=scheduledStartTime&&(scheduledAt=Q(scheduledStartTime),a.append('<div class="youmax-event-tag youmax-event-upcoming">Upcoming Event</div>'))),a.append('<div class="youmax-duration"><i class="fa fa-heart fa-1x"></i>'+videoLikeCount+"</div>"),a.append('<div class="youmax-definition"><i class="fa fa-volume-off fa-1x"></i>'+videoViewCount+"</div>"),a.find(".youmax-clean-time").append(videoDuration)):(i?(actualEndTime=s[r].liveStreamingDetails.actualEndTime,actualStartTime=s[r].liveStreamingDetails.actualStartTime,scheduledStartTime=s[r].liveStreamingDetails.scheduledStartTime,null!=actualEndTime?(a.append('<div class="youmax-definition youmax-event-tag">Completed Event</div>'),a.append('<div class="youmax-duration">'+videoDuration+"</div>")):null!=actualStartTime?(watching=C(s[r].liveStreamingDetails.concurrentViewers),a.append('<div class="youmax-definition youmax-event-tag youmax-event-live"><div class="youmax-live-icon"><i class="fa fa-circle"></i></div>Live Event</div>'),a.append('<div class="youmax-duration">'+watching+" watching</div>")):null!=scheduledStartTime&&(scheduledAt=Q(scheduledStartTime),a.append('<div class="youmax-definition youmax-event-tag youmax-event-upcoming">Upcoming Event</div>'),a.append('<div class="youmax-duration">'+scheduledAt+"</div>"))):(a.append('<div class="youmax-duration">'+videoDuration+"</div>"),a.append('<div class="youmax-definition">'+videoDefinition+"</div>")),-1!=o.skin.indexOf("block")&&a.append('<div class="youmax-like-comment-holder"><div class="youmax-like-box"><i class="fa fa-heart"></i>'+videoLikeCount+'</div><div class="youmax-comment-box"><i class="fa fa-comment"></i>'+videoCommentCount+"</div></div>"));-1!=o.skin.indexOf("block")&&e(window).resize()},j=function(e,t,n){var i=n.find("#youmax-encloser-comments"),a=(n.data("youmax_global_options"),n.data("youmax_translator_text"));t||i.empty();var o=e.items,s=e.nextPageToken,r=n.find(".youmax-encloser-comment-button.youmax-more-button");if(null!=s&&"undefined"!=s&&""!=s?r.data("nextpagetoken",s):r.data("nextpagetoken",""),r.data("nextpagetoken",s),null==o||0==o.length)return i.append('<div id="" class="youmax-video-comment"><div class="youmax-comment" ><span class="youmax-comment-content" style="text-align:center;">No more comments found.</span><div></div>'),n.find(".youmax-encloser-comment-button.youmax-more-button").data("nextpagetoken",""),void N(n);for(var l=0;l<o.length;l++)comment=o[l].snippet.topLevelComment.snippet.textDisplay,null!=comment&&""!=comment&&(commentPublished=o[l].snippet.topLevelComment.snippet.publishedAt,authorName=o[l].snippet.topLevelComment.snippet.authorDisplayName,authorImage=o[l].snippet.topLevelComment.snippet.authorProfileImageUrl,i.append('<div  class="youmax-video-comment"><div class="youmax-from"><div class="youmax-from-img" style="background-image:url(\''+authorImage+'\');"></div><div class="youmax-from-name">'+authorName+'</div><div class="youmax-published">'+M(commentPublished,a)+' </div></div><div class="youmax-comment"><span class="youmax-comment-content">'+comment+"</span><div></div>"));N(n)},E=function(e,t,n){var i=[],a=n.find("ul");t||0==n.find(".youmax-tab-hover").length&&n.find("#youmax-showing-title").append('<div id="'+n.data("youmax_current_playlist_id")+'" class="youmax-tab youmax-tab-hover youmax-showing-search-title"><i title="Back to Playlists" id="youmax-back-to-playlists" class="fa fa-chevron-circle-left fa-lg"></i> <i class="fa fa-bars fa-lg youmax-showing-playlist-icon"></i>'+n.data("youmax_current_playlist_name")+"</div>").show();var o,s=e.items,r=e.nextPageToken,l=n.data("youmax_global_options"),c=n.data("youmax_translator_text");"loadmore"==l.loadMode?o=n.find("#youmax-load-more-div"):-1!=l.loadMode.indexOf("paginate")&&(o=n.find("#youmax-next-div"),a.empty()),null!=r&&"undefined"!=r&&""!=r?-1==r.indexOf("youmax-generated")&&o.data("nextpagetoken",r):o.data("nextpagetoken","");for(var u=0;u<s.length;u++)videoId=s[u].snippet.resourceId.videoId,videoTitle=s[u].snippet.title,videoDescription=s[u].snippet.description,channelId=s[u].snippet.channelId,null!=s[u].snippet.thumbnails?(videoThumbnail=s[u].snippet.thumbnails.medium.url,videoUploaded=s[u].snippet.publishedAt,i.push(videoId),a.append('<li id="'+videoId+'" href="https://www.youtube.com/watch?v='+videoId+'" data-description="'+videoDescription+'" data-channelid="'+channelId+'"><img src="'+videoThumbnail+'"><p><span class="youmax-video-list-title">'+videoTitle+'</span><span class="youmax-video-list-description">'+videoDescription+'</span><span class="youmax-view-date-holder"><span class="youmax-video-list-views"></span><span class="youmax-views-date-separator">|</span><span class="youmax-video-list-date">'+M(videoUploaded,c)+'</span></span></p><div class="youmax-clean-overlay-holder"><span class="youmax-clean-title">'+videoTitle+'</span><span class="youmax-clean-time"></span></span></div></li>')):videoThumbnail="";L(n),w(i,n),-1==l.loadMode.indexOf("paginate")||null!=r&&-1!=r.indexOf("youmax-generated")||s.length>0&&(cache=n.data("cache"),cacheIndex=n.data("cacheindex"),cache=cache.concat(s),cacheIndex=cache.length-s.length-1,n.data("cache",cache),n.data("cacheindex",cacheIndex))},A=function(e,t,n){var i,a=n.find("ul"),o=e.items,s=e.nextPageToken,r=n.data("youmax_global_options"),l=n.data("youmax_translator_text");"loadmore"==r.loadMode?i=n.find("#youmax-load-more-div"):-1!=r.loadMode.indexOf("paginate")&&(i=n.find("#youmax-next-div"),a.empty()),null!=s&&"undefined"!=s&&""!=s?-1==s.indexOf("youmax-generated")&&i.data("nextpagetoken",s):i.data("nextpagetoken","");for(var c=0;c<o.length;c++)playlistId=o[c].id,videoCount=o[c].contentDetails.itemCount,playlistTitle=o[c].snippet.title,null!=o[c].snippet.thumbnails?(playlistThumbnail=o[c].snippet.thumbnails.medium.url,playlistUploaded=o[c].snippet.publishedAt,a.append('<li id="'+playlistId+'" href="https://www.youtube.com/watch?v='+playlistId+'" ><img src="'+playlistThumbnail+'"><div class="youmax-playlist-video-count-wrapper"><div class="youmax-playlist-video-count-box"><span class="youmax-playlist-video-count">'+videoCount+'</span><br>VIDEOS<br><div class="youmax-playlist-line-wrapper"><span class="youmax-playlist-line"></span><br><span class="youmax-playlist-line"></span><br><span class="youmax-playlist-line"></span></div></div></div><p><span class="youmax-video-list-title">'+playlistTitle+'</span><span class="youmax-video-list-views youmax-video-list-date-playlist">'+M(playlistUploaded,l)+' </span></p><div class="youmax-clean-playlist-title">'+playlistTitle+"</div></li>")):playlistThumbnail="";L(n,"playlist"),-1==r.loadMode.indexOf("paginate")||null!=s&&-1!=s.indexOf("youmax-generated")||o.length>0&&(cache=n.data("cache"),cacheIndex=n.data("cacheindex"),cache=cache.concat(o),cacheIndex=cache.length-o.length-1,n.data("cache",cache),n.data("cacheindex",cacheIndex))},D=function(e,t,n,i){if(t=t.replace(/%20/g," "),!n&&(0==i.find(".youmax-tab-hover").length&&i.find("#youmax-showing-title").append('<div id="query_'+t+'" class="youmax-tab youmax-tab-hover youmax-showing-search-title"><i class="fa fa-search fa-1x youmax-showing-search-icon"></i>'+t+"</div>").show(),null==e.items||0==e.items.length)){var a=i.find("ul");a.empty().append('<div class="youmax-not-found"><span style="opacity:0;">.</span><br><br><br><br><br><br>Loading...<br><br><br><br><br><br><span style="opacity:0;">.</span></div>')}O(e,i)},O=function(e,t,n,i){var a=[],o=t.find("ul"),s=t.data("youmax_global_options"),r=t.data("youmax_translator_text"),l=e.items;if(!n){var c,u=e.nextPageToken;"loadmore"==s.loadMode?c=t.find("#youmax-load-more-div"):-1!=s.loadMode.indexOf("paginate")&&(c=t.find("#youmax-next-div"),o.empty()),null!=u&&"undefined"!=u&&""!=u?-1==u.indexOf("youmax-generated")&&c.data("nextpagetoken",u):c.data("nextpagetoken","")}if(null!=l&&0!=l.length){t.find(".youmax-not-found").remove();for(var d=0;d<l.length;d++)n?videoId=l[d].id:videoId=l[d].id.videoId,o.find("#"+videoId).length>0||(videoTitle=l[d].snippet.title,null!=l[d].snippet.thumbnails?(videoThumbnail=l[d].snippet.thumbnails.medium.url,i&&(eventType=l[d].snippet.liveBroadcastContent,"upcoming"==eventType?videoThumbnail=videoThumbnail.replace(".jpg","_live.jpg"):"live"==eventType?videoThumbnail=videoThumbnail.replace(".jpg","_live.jpg"):"completed"==eventType),videoUploaded=l[d].snippet.publishedAt,videoDescription=l[d].snippet.description,channelId=l[d].snippet.channelId,a.push(videoId),o.append('<li id="'+videoId+'" href="https://www.youtube.com/watch?v='+videoId+'" data-description="'+videoDescription+'" data-channelid="'+channelId+'"><img src="'+videoThumbnail+'"><p><span class="youmax-video-list-title">'+videoTitle+'</span><span class="youmax-video-list-description">'+videoDescription+'</span><span class="youmax-view-date-holder"><span class="youmax-video-list-views"></span><span class="youmax-views-date-separator">|</span><span class="youmax-video-list-date">'+M(videoUploaded,r)+'</span></span></p><div class="youmax-clean-overlay-holder"><span class="youmax-clean-title">'+videoTitle+'</span><span class="youmax-clean-time"></span></span></div></li>')):videoThumbnail="");L(t),w(a,t,i),-1==s.loadMode.indexOf("paginate")||null!=u&&-1!=u.indexOf("youmax-generated")||l.length>0&&(cache=t.data("cache"),cacheIndex=t.data("cacheindex"),cache=cache.concat(l),cacheIndex=cache.length-l.length-1,t.data("cache",cache),t.data("cacheindex",cacheIndex))}},Q=function(e){var t=new Date(e);return month=["Jan","Feb","","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t.getMinutes()<10?minutes="0"+t.getMinutes():minutes=t.getMinutes(),t.getDate()+" "+month[t.getMonth()+1]+" "+t.getHours()+":"+minutes+" GMT"},M=function(e,t){return null==e||""==e||"undefined"==e?"?":(dateDiffMS=Math.abs(new Date-new Date(e)),dateDiffHR=dateDiffMS/1e3/60/60,dateDiffHR>24?(dateDiffDY=dateDiffHR/24,dateDiffDY>30?(dateDiffMH=dateDiffDY/30,dateDiffMH>12?(dateDiffYR=dateDiffMH/12,dateDiffYR=Math.round(dateDiffYR),dateDiffYR<=1?dateDiffYR+" "+t.year+" "+t.ago:dateDiffYR+" "+t.years+" "+t.ago):(dateDiffMH=Math.round(dateDiffMH),dateDiffMH<=1?dateDiffMH+" "+t.month+" "+t.ago:dateDiffMH+" "+t.months+" "+t.ago)):(dateDiffDY=Math.round(dateDiffDY),dateDiffDY<=1?dateDiffDY+" "+t.day+" "+t.ago:dateDiffDY+" "+t.days+" "+t.ago)):(dateDiffHR=Math.round(dateDiffHR),dateDiffHR<1?t.now:1==dateDiffHR?dateDiffHR+" "+t.hour+" "+t.ago:dateDiffHR+" "+t.hours+" "+t.ago))},L=function(t,n){var i=t.data("youmax_global_options"),a=t.find("ul");a.imagesLoaded(function(){t.find(".youmax-loading-div").remove();var o={autoResize:!0,container:t.find("#youmax-video-list-div"),offset:i.innerOffset,itemWidth:i.minItemWidth,flexibleWidth:i.maxItemWidth,outerOffset:i.outerOffset},s=a.find("li");s.wookmark(o),"playlist"==n?"playall"==i.playlistAction?R(t,!0):t.find("#youmax-video-list-div li").click(function(){G(this.id,t),youmax_current_playlist_name=e(this).find(".youmax-video-list-title").text(),t.data("youmax_current_playlist_name",youmax_current_playlist_name),t.data("youmax_current_playlist_id",this.id)}):R(t),$(t)})},$=function(e){var t,n=e.data("youmax_global_options");"loadmore"==n.loadMode?(t=e.find("#youmax-load-more-div"),t.html('<i class="fa fa-plus fa-5x"></i>')):-1!=n.loadMode.indexOf("paginate")&&(t=e.find("#youmax-next-div"),t.html('<i class="fa fa-caret-right fa-5x"></i>'),e.find("#youmax-previous-div").html('<i class="fa fa-caret-left fa-5x"></i>')),t.removeClass("youmax-load-more-div-click")},N=function(e){var t=e.find(".youmax-encloser-comment-button.youmax-more-button");t.removeClass("youmax-load-more-comments-clicked"),t.html('<i class="fa fa-plus fa-3x"></i>')},R=function(t,n){var i="",o=t.data("youmax_global_options");t.data("youmax_translator_text");"popup"==o.displayVideo?(i=n?o.videoProtocol+"//www.youtube.com/embed?listType=playlist&list=%id%&rel=0":o.videoProtocol+"//www.youtube.com/embed/%id%?rel=0",o.autoPlayVideo&&(i+="&autoplay=1"),i+=o.showTitleInVideoPlayer?"&showinfo=1":"&showinfo=0",i+="&theme="+o.videoPlayerTheme,t.find("#youmax-video-list-div li").magnificPopup({type:"iframe",gallery:{enabled:!0},iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe><div id="photo-detail-holder"> <div class="photo-popup-title"></div> <div class="photo-popup-description"></div> <div class="photo-popup-stats"><span class="media-views"></span><span class="media-likes"> </span><span class="media-uploaded"></span></div> <div id="youmax-encloser-comment-holder" class="youmax-encloser-comment-holder-popup"> <div class="youmax-video-comment youmax-commentbox-holder"> <div type="button" class="youmax-share-video-button btn"><i class="fa fa-share fa-2x"></i></div> </div> <div id="youmax-encloser-comments"></div> </div> </div></div>',patterns:{youtube:{src:i}}},preloader:!1,showCloseBtn:!0,closeBtnInside:!1,closeOnContentClick:!1,closeOnBgClick:!0,enableEscapeKey:!0,modal:!1,alignTop:o.alignPopupToTop,removalDelay:100,mainClass:" ",prependTo:t.get(),callbacks:{change:function(n,i,a){var o=e(this.currItem.el.context);z(o,t)}}})):("inline"==o.displayVideo||"newpage"==o.displayVideo)&&(t.find("#youmax-video-list-div li").click(function(){$baseElement=e(this),B($baseElement,!0,!0,t,n)}),"inline"==o.displayVideo&&o.displayFirstVideoOnLoad&&setTimeout(function(){t.find("#youmax-video-list-div li:first").click()},100),"inline"==o.displayVideo&&""!=o.featuredVideo&&(videoId=o.featuredVideo.substring(o.featuredVideo.lastIndexOf("?v=")+3),a(videoId,t,!1,!1),o.featuredVideo="",t.data("youmax_global_options",o)))},z=function(e,t){var n=t.data("youmax_global_options"),i=t.data("youmax_translator_text");video_likes=e.data("likes"),video_views=e.data("views"),video_description=e.data("description"),video_uploaded=e.find(".youmax-video-list-date").text(),video_id=e.attr("id"),video_title=e.find(".youmax-video-list-title").text(),channel_id=e.data("channelid"),setTimeout(function(){null!=video_title&&t.find(".photo-popup-title").html(video_title),null!=video_description&&(video_description=video_description.replace(/\n/g,"<br>"),t.find(".photo-popup-description").html(video_description)),null!=video_likes&&t.find(".media-likes").html(video_likes+" "+i.likes),null!=video_views&&t.find(".media-views").html(video_views+" "+i.views),null!=video_uploaded&&t.find(".media-uploaded").html(video_uploaded),t.find(".youmax-show-button.youmax-popup-show-button").attr("id",video_id).show(),t.find(".youmax-show-button.youmax-popup-show-button").data("channelid",channel_id),t.find(".youmax-encloser-comment-button.youmax-more-button").data("start-index",1),t.find("#youmax-encloser-comment-holder").hide(),n.autoLoadComments&&U(video_id,t),"youtube"==n.shareLink?shareLink="https://youtu.be/"+video_id:shareLink=window.location.href,config={networks:{facebook:{app_id:n.facebookAppId},email:{enabled:!1},pinterest:{enabled:!1}},ui:{flyout:"top center",button_text:'SHARE <i class="fa fa-2x fa-share"></i>'},url:shareLink},new Share(".youmax-share-video-button",config)},100)},B=function(t,n,i,a,o){var s=a.data("youmax_global_options");a.data("youmax_translator_text");a.find("#youmax-encloser").empty().append('<div class="fluid-width-video-wrapper" style="padding-top:'+100*s.aspectRatio+'%;"><iframe id="youmax-encloser-video" style="width:100%;" src="" frameborder="0" allowfullscreen></iframe></div><div id="youmax-encloser-comment-wrapper"><div id="photo-detail-holder"><div class="photo-popup-title"></div><div class="photo-popup-description"></div><div class="photo-popup-stats"><span class="media-views"></span><span class="media-likes"> </span><span class="media-uploaded"></span></div> <div class="youmax-show-button-wrapper"><div class="youmax-encloser-comment-button youmax-show-button youmax-popup-show-button"><i class="fa fa-comments fa-3x"></i></div></div> <div id="youmax-encloser-comment-holder" class="youmax-encloser-comment-holder-popup"><div class="youmax-video-comment youmax-commentbox-holder"><div type="button" class="youmax-share-video-button"><i class="fa fa-share fa-2x"></i></div></div><div id="youmax-encloser-comments"><div class="youmax-encloser-comment-button youmax-more-button"><i class="fa fa-plus fa-3x"></i></div></div> </div> </div>'),$youmaxEncloserIframe=a.find("#youmax-encloser-video"),$youmaxEncloserIframe.attr("src",""),$youmaxEncloserIframe.parents("#youmax-encloser").show(),n&&e("html, body").animate({scrollTop:$youmaxEncloserIframe.offset().top-50},"slow"),videoId=t.attr("id"),o?frame_source=s.videoProtocol+"//www.youtube.com/embed?listType=playlist&list="+videoId+"&rel=0":frame_source=s.videoProtocol+"//www.youtube.com/embed/"+videoId+"?rel=0",s.autoPlayVideo&&(frame_source+="&autoplay=1"),s.showTitleInVideoPlayer?frame_source+="&showinfo=1":frame_source+="&showinfo=0",frame_source+="&theme="+s.videoPlayerTheme,$youmaxEncloserIframe.attr("src",frame_source),z(t,a),"newpage"==s.displayVideo&&(s.linkNewPages&&i?-1==location.href.indexOf("?v=")&&-1==location.href.indexOf("&v=")?location.href+=(location.search.length?"&":"?")+"v="+videoId:(location_href=location.href.match(/(v=.+?)($|&)/,""),location.href=location.href.replace(location_href[1],"v="+videoId)):(a.find("#youmax-video-list-div li").remove(),a.find("#youmax-video-list-div").css("height","20px"),a.find("#youmax-load-more-div").attr("disabled","disabled"),a.find(".youmax-tab-hover").removeClass("youmax-tab-hover"),a.find(".youmax-encloser-comment-button.youmax-show-button").click(),a.find("#youmax-showing-title").empty().hide()))},V=function(t,n,i,a,o,r,l,c,u){searchTabId="search_"+l+"_"+e.now(),u.find("#youmax-tabs").append('<span id="'+searchTabId+'" class="youmax-tab" >'+t+"</span>"),u.find("#youmax-select").append('<option value="'+searchTabId+'" >'+t+"</option>"),$searchTab=u.find("#"+searchTabId),$searchTab.data("restrictToChannels",[]);for(var d=n.split(","),p=0;p<d.length;p++)null!=d[p]&&(s=d[p].indexOf("/user/"),-1!=s?(userId=d[p].substring(s+6),apiUrl="https://www.googleapis.com/youtube/v3/channels?part=id&forUsername="+userId+"&key="+c,g(apiUrl,$searchTab)):(s=d[p].indexOf("/channel/"),-1!=s?(channelId=d[p].substring(s+9),restrictedChannels=$searchTab.data("restrictToChannels"),restrictedChannels.push(channelId),$searchTab.data("restrictToChannels",restrictedChannels)):$searchTab.data("restrictToChannels","")));s=i.indexOf("/watch?v="),-1!=s?(videoId=i.substring(s+9),$searchTab.data("relatedTo",videoId)):$searchTab.data("relatedTo",""),null!=a?$searchTab.data("searchQuery",a):$searchTab.data("searchQuery",""),$searchTab.data("searchOrder",o),null!=r?$searchTab.data("eventType",r):$searchTab.data("eventType","");var m=u.data("youmax_global_options");"s"==m.selectedTab.charAt(0)&&(searchSelect=m.selectedTab.charAt(1),l.toString()==searchSelect&&e("#"+searchTabId).click())},W=function(t,n,i){var a="",o=!1,s=i.data("youmax_global_options"),r=s.apiKey,l=s.maxResults;null!=n&&(a="&pageToken="+n,o=!0),$searchTab=e("#"+t),restrictedChannels=$searchTab.data("restrictToChannels"),relatedTo=$searchTab.data("relatedTo"),searchQuery=$searchTab.data("searchQuery"),searchOrder=$searchTab.data("searchOrder"),eventType=$searchTab.data("eventType");var c=[],u="";null!=searchQuery&&""!=searchQuery&&(searchQuery=searchQuery.replace(/ /g,"%20"),u="&q="+searchQuery);var d="";null!=relatedTo&&""!=relatedTo&&(d="&relatedToVideoId="+relatedTo);var p="",m=!1;null!=eventType&&""!=eventType&&(p="&eventType="+eventType,m=!0);var h="";null!=searchOrder&&""!=searchOrder&&(h="&order="+searchOrder);var f="";null!=restrictedChannels&&restrictedChannels.length>0&&(f="&channelId="+restrictedChannels[0]),restrictedChannels.length>0&&(l/=restrictedChannels.length),c.push("https://www.googleapis.com/youtube/v3/search?part=snippet"+u+d+p+h+f+"&type=video&maxResults="+l+a+"&key="+r);for(var y=1;y<restrictedChannels.length;y++)c.push("https://www.googleapis.com/youtube/v3/search?part=snippet"+u+d+p+h+"&channelId="+restrictedChannels[y]+"&type=video&maxResults="+l+a+"&key="+r);for(var y=0;y<c.length;y++)apiPlaylistVideosURL=c[y],e.ajax({url:apiPlaylistVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){O(e,i,!1,m)},error:function(e){alert(e)},beforeSend:x})},F=function(t,n,i){var a="",o=!1,s=i.data("youmax_global_options"),r=s.apiKey,l=s.maxResults;if(null!=n&&(a="&pageToken="+n,o=!0),t=t.substring(t.indexOf("_")+1),null!=t&&""!=t.trim()){t=t.trim().replace(/ /g,"%20");var c="";"channel"==s.searchBoxScope&&(c="&channelId="+s.channelId),apiSearchURL="https://www.googleapis.com/youtube/v3/search?part=snippet&q="+t+"&order=relevance"+c+"&type=video&maxResults="+l+a+"&key="+r,e.ajax({url:apiSearchURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){D(e,t,o,i)},error:function(e){alert(e)},beforeSend:x}),null!=s.playlistSearchFile&&""!=s.playlistSearchFile&&e.ajax({url:s.playlistSearchFile,type:"GET",async:!0,cache:!0,dataType:"json",success:function(e){H(e,t,o,i)},error:function(e){},beforeSend:x})}},H=function(t,n,i,a){var o=a.data("youmax_global_options");searchList=t.searchList,searchQueryList=n.toLowerCase().split("%20"),searchResult=[];for(var s=0;s<searchList.length;s++)for(var r=0;r<searchQueryList.length;r++){if(-1!=searchList[s].videoTitle.indexOf(searchQueryList[r])){searchResult.push(searchList[s].videoId);break}if(-1!=searchList[s].videoDescription.indexOf(searchQueryList[r])){searchResult.push(searchList[s].videoId);break}}searchResult.length>0&&(apiGetVideosURL="https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+searchResult+"&key="+o.apiKey,e.ajax({url:apiGetVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){O(e,a,!0)},error:function(e){alert(e)},beforeSend:x}))},q=function(e){e.find("#youmax-video-list-div>ul").empty(),e.find("#youmax-encloser").empty(),e.find("#youmax-encloser-video").attr("src",""),e.find("#youmax-video-list-div>ul").append('<div class="youmax-loading-div" style="text-align:center; height:200px; font:14px Calibri;"><span style="opacity:0;">.</span><br><br><br><br>Loading...<br><br><br><br><br><br><span style="opacity:0;">.</span></div>'),e.find("#youmax-showing-title").empty().hide()},U=function(e,t){t.find(".youmax-encloser-comment-button.youmax-show-button").hide(),t.find("#youmax-encloser-comment-holder").show(),t.find("#youmax-encloser-comments").empty().append("<div class='youmax-loading-comments-div'>loading...</div>"),o(e,t)},X=function(e){var t=e.find(".youmax-encloser-comment-button.youmax-more-button");t.addClass("youmax-load-more-comments-clicked"),t.html('<i class="fa fa-ellipsis-h fa-3x"></i>');var n=t.data("nextpagetoken");null!=n&&"undefined"!=n&&""!=n?(videoId=e.find(".youmax-encloser-comment-button.youmax-show-button").attr("id"),o(videoId,e,n)):(t.removeClass("youmax-load-more-comments-clicked"),t.html('<i class="fa fa-close fa-3x"></i>'))},G=function(i,a){cache=[],a.data("cache",cache),a.find("#youmax-encloser").hide(),a.find("#youmax-encloser-video").attr("src",""),q(a),-1!=i.indexOf("search_")?W(i,null,a):-1!=i.indexOf("playlists_")?l(i,null,a):-1!=i.indexOf("query_")?F(i,null,a):-1!=i.indexOf("events_")?n(i,null,a):t(i,null,a),a.find(".youmax-tab").removeClass("youmax-tab-hover"),e("#"+i).addClass("youmax-tab-hover"),a.find("#youmax-select").val(i)},K=function(e){var t=e.data("youmax_global_options"),n={search:"Search",uploads:"Uploads",playlists:"Playlists",events:"Events",views:"views",likes:"likes",videos:"videos",subscribers:"subscribers",year:"year",years:"years",month:"month",months:"months",day:"day",days:"days",hour:"hour",hours:"hours",ago:"ago",now:"just now",thoughts:"Share your Thoughts..."};e.data("youmax_translator_text",n),null!=t.translatorFile&&""!=t.translatorFile?Z(e):ee(e)},Z=function(t){var n=t.data("youmax_global_options");e.ajax({url:n.translatorFile,type:"GET",async:!0,cache:!0,dataType:"json",success:function(e){J(e,t)},error:function(e){ee(t)},beforeSend:x})},J=function(e,t){youmax_translator_text=e.translator,t.data("youmax_translator_text",youmax_translator_text),ee(t)},ee=function(e){c(e),ae(e),te(e),ne(e),ie(e)},te=function(e){var t,n=e.data("youmax_global_options");null!=n.channel&&(t=n.channel.indexOf("/user/"),-1!=t?(userId=n.channel.substring(t+6),apiUrl="https://www.googleapis.com/youtube/v3/channels?part=id&forUsername="+userId+"&key="+n.apiKey,v(apiUrl,e)):(t=n.channel.indexOf("/channel/"),-1!=t?(channelId=n.channel.substring(t+9),y(channelId,e)):alert("Could Not Find Channel..")))},ne=function(t){var n,i=t.data("youmax_global_options"),a=[];if(e.isArray(i.playList))for(var o=0;o<i.playList.length;o++)n=i.playList[o].indexOf("list="),-1!=n&&(playlistId=i.playList[o].substring(n+5),a.push(playlistId));b(a,t)},ie=function(t){var n=t.data("youmax_global_options"),i={name:"Search",restrictToChannels:"",relatedTo:"",searchQuery:"",searchOrder:"",eventType:""};if(e.isArray(n.searchTab))for(var a=0;a<n.searchTab.length;a++)searchOptions=n.searchTab[a],null!=searchOptions&&V(searchOptions.name||i.name,searchOptions.restrictToChannels||i.restrictToChannels,searchOptions.relatedTo||i.relatedTo,searchOptions.searchQuery||i.searchQuery,searchOptions.searchOrder||i.searchOrder,searchOptions.eventType||i.eventType,a+1,n.apiKey,t)},ae=function(e){var t=e.data("youmax_global_options");"newpage"==t.displayVideo&&t.linkNewPages&&oe(e)},oe=function(e){if(-1!=location.href.indexOf("v=")){location_href=location.href.match(/v=(.+?)($|&)/,""),videoId=location_href[1],a(videoId,e,!1,!1);var t=e.data("youmax_global_options");t.selectedTab="xxx",e.data("youmax_global_options",t),e.addClass("newpage")}};e.fn.youmax=function(t){var n={},i=this;("white"==t.skin||"grey"==t.skin||"blue"==t.skin||"clean"==t.skin||"block"==t.skin)&&(document.createStyleSheet?document.createStyleSheet("./css/youmax_"+t.skin+".min.css"):e("head").append("<link rel='stylesheet' href='./css/youmax_"+t.skin+".min.css' type='text/css' />")),n.apiKey=t.apiKey,n.channel=t.channel,n.playList=t.playList,n.searchTab=t.searchTab,n.clientId=t.clientId||"",n.maxResults=t.maxResults||18,n.innerOffset=t.innerOffset||40,n.outerOffset=t.outerOffset||40,n.minItemWidth=t.minItemWidth||250,n.maxItemWidth=t.maxItemWidth||400,n.displayVideo=t.displayVideo||"popup",n.aspectRatio=.5625,n.selectedTab=t.selectedTab||"u",n.alwaysUseDropdown=t.alwaysUseDropdown,n.maxPlaylistNameLength=22,n.autoPlayVideo=t.autoPlayVideo||!1,n.displayFirstVideoOnLoad=t.displayFirstVideoOnLoad||!1,n.linkNewPages=t.linkNewPages||!1,n.videoProtocol=t.videoProtocol||"http:",n.featuredVideo=t.featuredVideo||"",n.searchBoxScope=t.searchBoxScope||"channel",n.autoLoadComments=t.autoLoadComments||!1,n.alignPopupToTop=t.alignPopupToTop||!1,n.commentOrder=t.commentOrder||"time",n.playlistSearchFile=t.playlistSearchFile||"",n.skin=t.skin||"",n.userWebsite=t.userWebsite||"",n.videoMode=t.videoMode||"wide",n.shareLink=t.shareLink||"youtube",n.facebookAppId=t.facebookAppId||"",n.widgetMode=t.widgetMode||!1,n.viewCountType=t.viewCountType||"abbr",n.showEvents=t.showEvents||!1,n.likeCommentCountType=t.likeCommentCountType||"abbr",n.loadMode=t.loadMode||"loadmore",n.hideHeader=t.hideHeader||!1,n.hideNavigation=t.hideNavigation||!1,n.loadButtonSize=t.loadButtonSize||"large",n.playlistAction=t.playlistAction||"showvideos",n.videoPlayerTheme=t.videoPlayerTheme||"dark",n.hideComments=t.hideComments||!1,n.minVideoContainerHeight=t.minVideoContainerHeight||10,
n.hideVideoThumbnails=t.hideVideoThumbnails||!1,n.hideLoadMore=t.hideLoadMore||!1,n.showTitleInVideoPlayer=t.showTitleInVideoPlayer,n.translatorFile=t.translatorFile||"",n.hideVideoDetails=t.hideVideoDetails||!1,i.data("youmax_global_options",n),P="comma"==n.viewCountType?C:T,k="comma"==n.likeCommentCountType?C:T,-1!=n.skin.indexOf("clean")&&(n.alwaysUseDropdown=!0),"paginate-sides"==n.loadMode&&(n.loadButtonSize="small",n.playlistAction="playall"),(null==n.showTitleInVideoPlayer||""===n.showTitleInVideoPlayer)&&(n.showTitleInVideoPlayer=!0);var a=[],o=-1,s={items:[],nextPageToken:"youmax-generated"},r=[];i.data("cache",a),i.data("cacheindex",o),i.data("eventcache",s),i.data("eventcachestatus",r),document.createStyleSheet?document.createStyleSheet(n.videoProtocol+"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"):e("head").append("<link rel='stylesheet' href='"+n.videoProtocol+"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css' type='text/css' />"),t.maxContainerWidth=t.maxContainerWidth||1e3,i.css("max-width",t.maxContainerWidth+"px");var l="";return"wide"==n.videoMode&&(l+="#youmax-encloser {max-width: 100%;}	#youmax-encloser-comment-wrapper {max-width: 880px;margin: 20px auto auto;}"),n.widgetMode&&i.addClass("youmax-widget"),n.hideHeader&&(l+="#youmax-header{display:none !important;} .youmax-select-box-wrapper {padding-top: 3px;}"),n.hideNavigation&&(l+="#youmax-tabs,.youmax-select-box-wrapper,#youmax-select-box{display:none !important;}"),n.hideVideoDetails&&(l+=".photo-popup-title,.photo-popup-description,.photo-popup-stats{display:none !important;}"),n.hideVideoDetails&&n.hideComments&&(l+="#photo-detail-holder{display:none !important;}"),n.hideVideoThumbnails&&(l+="#youmax-video-list-div{display:none !important;}"),n.hideLoadMore&&(l+="#youmax-load-more-div,.youmax-pagination,.youmax-pagination-button-wrapper{display:none !important;}"),n.minVideoContainerHeight>0&&(l+="#youmax-video-list-div{min-height:"+n.minVideoContainerHeight+"px;}"),t.maxContainerWidth<900&&i.addClass("lt900"),t.maxContainerWidth<800&&i.addClass("lt800"),t.maxContainerWidth<650&&i.addClass("lt650"),t.maxContainerWidth<450&&i.addClass("lt400"),t.maxContainerWidth>1e3&&i.addClass("gt100"),e("head").append("<style class='youmax-added-styles'>"+l+"</style>"),K(i),this}}(jQuery),!function(e){if("function"==typeof bootstrap)bootstrap("leafletknn",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeLeafletKnn=e}else"undefined"!=typeof window?window.leafletKnn=e():global.leafletKnn=e()}(function(){return function e(t,n,i){function a(s,r){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return a(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t){function n(e){for(var t=[],n={},i=0;i<e.length;i++)void 0==n[L.stamp(e[i].layer)]&&(t.push(e[i]),n[L.stamp(e[i].layer)]=!0);return t}function i(e,t){for(var n=[],i=0;i<e.length;i++)n.push({lon:e[i][0],lat:e[i][1],layer:t});return n}function a(e){var t=0,n=0,i=0,a=[];if("object"==typeof e[0]&&"object"==typeof e[0][0]&&"object"==typeof e[0][0][0]){for(;t<e.length;t++)for(;n<e[t].length;n++)for(;i<e[t][n].length;i++)a.push(e[t][n][i]);return a}if("object"==typeof e[0]&&"object"==typeof e[0][0]){for(;t<e.length;t++)for(;n<e[t].length;n++)a.push(e[t][n]);return a}return"object"==typeof e[0]?e:[e]}var o=e("sphere-knn");t.exports=function(e){"use strict";function t(e){s=s.concat(i(a(e.feature.geometry.coordinates),e))}if(!(e instanceof L.GeoJSON))throw new Error("must be L.GeoJSON");var s=[];e.eachLayer(t);var r=o(s);return r.nearest=function(e,t,n){return e instanceof L.LatLng&&(e=[e.lng,e.lat]),r(e[1],e[0],t,n)},r.nearestLayer=function(e,t,i){return e instanceof L.LatLng&&(e=[e.lng,e.lat]),n(r(e[1],e[0],t,i))},r}},{"sphere-knn":2}],2:[function(e,t){var n=e("./lib/spherekd");t.exports=function(e){var t=n.build(e);return function(e,i,a,o){return n.lookup(e,i,t,a,o)}}},{"./lib/spherekd":5}],3:[function(e,t,n){function i(e,t){return e-t}n.search=function(e,t,n){n||(n=i);for(var a,o,s=0,r=t.length-1;r>=s;)if(a=s+r>>>1,o=n(t[a],e),0>o)s=a+1;else{if(!(o>0))return a;r=a-1}return-(s+1)},n.insert=function(e,t,i){var a=n.search(e,t,i);0>a&&(a=-(a+1)),t.splice(a,0,e)}},{}],4:[function(e,t,n){function i(e,t,n,i){this.axis=e,this.split=t,this.left=n,this.right=i}function a(e,t){for(var n,i=Math.min(e.length,t.length),a=0;i--;)n=t[i]-e[i],a+=n*n;return a}function o(e,t){return e.dist-t.dist}function s(e,t){if(0===e.length)return null;if(1===e.length)return e[0];var n=t%e[0].position.length;e.sort(function(e,t){return e.position[n]-t.position[n]});var a=Math.floor(.5*e.length);return++t,new i(n,e[a].position[n],s(e.slice(0,a),t),s(e.slice(a),t))}function r(e){return s(e,0)}function l(e,t,n,s){s>0||(s=Number.POSITIVE_INFINITY);var r=[];if(null===t||0>=n)return r;for(var l,u,d=[t,0];d.length;)if(l=d.pop(),t=d.pop(),!(l>s||r.length===n&&r[r.length-1].dist<l*l)){for(;t instanceof i;)e[t.axis]<t.split?(d.push(t.right,t.split-e[t.axis]),t=t.left):(d.push(t.left,e[t.axis]-t.split),t=t.right);l=a(e,t.position),s*s>=l&&c.insert({object:t,dist:l},r,o),r.length>n&&r.pop()}for(u=r.length;u--;)r[u]=r[u].object;return r}var c=e("./binary");n.build=r,n.lookup=l},{"./binary":3}],5:[function(e,t,n){function i(e,t){e*=l,t*=l;var n=Math.cos(e);return[n*Math.cos(t),Math.sin(e),n*Math.sin(t)]}function a(e){var t,n;e.hasOwnProperty("lat")?t=e.lat:e.hasOwnProperty("latitude")?t=e.latitude:e.hasOwnProperty("location")&&Array.isArray(e.location)&&2===e.location.length&&(t=e.location[0]),e.hasOwnProperty("lon")?n=e.lon:e.hasOwnProperty("longitude")?n=e.longitude:e.hasOwnProperty("lng")?n=e.lng:e.hasOwnProperty("long")?n=e["long"]:e.hasOwnProperty("location")&&Array.isArray(e.location)&&2===e.location.length&&(n=e.location[1]),this.object=e,this.position=i(t,n)}function o(e){for(var t=e.length,n=new Array(t);t--;)n[t]=new a(e[t]);return r.build(n)}function s(e,t,n,a,o){for(var s=r.lookup(i(e,t),n,a,o>0?2*Math.sin(o*c):void 0),l=s.length;l--;)s[l]=s[l].object;return s}var r=e("./kd"),l=Math.PI/180,c=1/12742018;n.build=o,n.lookup=s},{"./kd":4}]},{},[1])(1)}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){var t,n,i,a,o,s,r="Close",l="BeforeClose",c="AfterClose",u="BeforeAppend",d="MarkupParse",p="Open",m="Change",h="mfp",f="."+h,y="mfp-ready",v="mfp-removing",g="mfp-prevent-close",b=function(){},w=!!window.jQuery,x=e(window),T=function(e,n){t.ev.on(h+e+f,n)},P=function(t,n,i,a){var o=document.createElement("div");return o.className="mfp-"+t,i&&(o.innerHTML=i),a?n&&n.appendChild(o):(o=e(o),n&&o.appendTo(n)),o},k=function(n,i){t.ev.triggerHandler(h+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},C=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},I=function(){e.magnificPopup.instance||(t=new b,t.init(),e.magnificPopup.instance=t)},S=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};b.prototype={constructor:b,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isIE8=-1!==n.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=S(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),i=e(document),t.popupsCache={}},open:function(n){var a;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var s,r=n.items;for(a=0;a<r.length;a++)if(s=r[a],s.parsed&&(s=s.el[0]),s===n.el[0]){t.index=a;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],o="",n.mainEl&&n.mainEl.length?t.ev=n.mainEl.eq(0):t.ev=i,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=P("bg").on("click"+f,function(){t.close()}),t.wrap=P("wrap").attr("tabindex",-1).on("click"+f,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=P("container",t.wrap)),t.contentContainer=P("content"),t.st.preloader&&(t.preloader=P("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(a=0;a<l.length;a++){var c=l[a];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}k("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(T(d,function(e,t,n,i){n.close_replaceWith=C(i.type)}),o+=" mfp-close-btn-in"):t.wrap.append(C())),t.st.alignTop&&(o+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:x.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:i.height(),position:"absolute"}),t.st.enableEscapeKey&&i.on("keyup"+f,function(e){27===e.keyCode&&t.close()}),x.on("resize"+f,function(){t.updateSize()}),t.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&t.wrap.addClass(o);var u=t.wH=x.height(),m={};if(t.fixedContentPos&&t._hasScrollBar(u)){var h=t._getScrollbarSize();h&&(m.marginRight=h)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):m.overflow="hidden");var v=t.st.mainClass;return t.isIE7&&(v+=" mfp-ie7"),v&&t._addClassToMFP(v),t.updateItemHTML(),k("BuildControls"),e("html").css(m),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(y),t._setFocus()):t.bgOverlay.addClass(y),i.on("focusin"+f,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),k(p),n},close:function(){t.isOpen&&(k(l),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(v),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){k(r);var n=v+" "+y+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var a={marginRight:""};t.isIE7?e("body, html").css("overflow",""):a.overflow="",e("html").css(a)}i.off("keyup"+f+" focusin"+f),t.ev.off(f),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,k(c)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||x.height();t.fixedContentPos||t.wrap.css("height",t.wH),k("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(k("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var o=t.st[i]?t.st[i].markup:!1;k("FirstMarkupParse",o),o?t.currTemplate[i]=e(o):t.currTemplate[i]=!0}a&&a!==n.type&&t.container.removeClass("mfp-"+a+"-holder");var s=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(s,i),n.preloaded=!0,k(m,n),a=n.type,t.container.prepend(t.contentContainer),k("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(C()):t.content=e:t.content="",k(u),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,a=t.items[n];if(a.tagName?a={el:e(a)}:(i=a.type,a={data:a,src:a.src}),a.el){for(var o=t.types,s=0;s<o.length;s++)if(a.el.hasClass("mfp-"+o[s])){i=o[s];break}a.src=a.el.attr("data-mfp-src"),a.src||(a.src=a.el.attr("href"))}return a.type=i||t.st.type||"inline",a.index=n,a.parsed=!0,t.items[n]=a,k("ElementParse",a),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var a="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(a).on(a,i)):(n.isObj=!1,n.delegate?e.off(a).on(a,n.delegate,i):(n.items=e,e.off(a).on(a,i)))},_openClick:function(n,i,a){var o=void 0!==a.midClick?a.midClick:e.magnificPopup.defaults.midClick;if(o||2!==n.which&&!n.ctrlKey&&!n.metaKey){var s=void 0!==a.disableOn?a.disableOn:e.magnificPopup.defaults.disableOn;if(s)if(e.isFunction(s)){if(!s.call(t))return!0}else if(x.width()<s)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),a.el=e(n.mfpEl),a.delegate&&(a.items=i.find(a.delegate)),t.open(a)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var a={status:e,text:i};k("UpdateStatus",a),e=a.status,i=a.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(g)){var i=t.st.closeOnContentClick,a=t.st.closeOnBgClick;if(i&&a)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(a&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?i.height():document.body.scrollHeight)>(e||x.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,i){var a;i.data&&(n=e.extend(i.data,n)),k(d,[t,n,i]),e.each(n,function(e,n){if(void 0===n||n===!1)return!0;if(a=e.split("_"),a.length>1){var i=t.find(f+"-"+a[0]);if(i.length>0){var o=a[1];"replaceWith"===o?i[0]!==n[0]&&i.replaceWith(n):"img"===o?i.is("img")?i.attr("src",n):i.replaceWith('<img src="'+n+'" class="'+i.attr("class")+'" />'):i.attr(a[1],n)}}else t.find(f+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:b.prototype,modules:[],open:function(t,n){return I(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(n){I();var i=e(this);if("string"==typeof n)if("open"===n){var a,o=w?i.data("magnificPopup"):i[0].magnificPopup,s=parseInt(arguments[1],10)||0;o.items?a=o.items[s]:(a=i,o.delegate&&(a=a.find(o.delegate)),a=a.eq(s)),t._openClick({mfpEl:a},i,o)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),w?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var _,Y=function(){return void 0===_&&(_=void 0!==document.createElement("p").style.MozTransform),_};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var a,o,s=n.duration,c=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,a={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return a["-webkit-"+o]=a["-moz-"+o]=a["-o-"+o]=a[o]=i,t.css(a),t},u=function(){t.content.css("visibility","visible")};T("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(a),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void u();o=c(e),o.css(t._getOffset()),t.wrap.append(o),a=setTimeout(function(){o.css(t._getOffset(!0)),a=setTimeout(function(){u(),setTimeout(function(){o.remove(),e=o=null,k("ZoomAnimationEnded")},16)},s)},16)}}),T(l+i,function(){if(t._allowZoom()){if(clearTimeout(a),t.st.removalDelay=s,!e){if(e=t._getItemToZoom(),!e)return;o=c(e)}o.css(t._getOffset(!0)),t.wrap.append(o),t.content.css("visibility","hidden"),setTimeout(function(){o.css(t._getOffset())},16)}}),T(r+i,function(){t._allowZoom()&&(u(),o&&o.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var i;i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var a=i.offset(),o=parseInt(i.css("padding-top"),10),s=parseInt(i.css("padding-bottom"),10);a.top-=e(window).scrollTop()-o;var r={width:i.width(),height:(w?i.innerHeight():i[0].offsetHeight)-s-o};return Y()?r["-moz-transform"]=r.transform="translate("+a.left+"px,"+a.top+"px)":(r.left=a.left,r.top=a.top),r}}});var j="iframe",E="//about:blank",A=function(e){if(t.currTemplate[j]){var n=t.currTemplate[j].find("iframe");n.length&&(e||(n[0].src=E),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(j,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(j),T("BeforeChange",function(e,t,n){t!==n&&(t===j?A():n===j&&A(!0))}),T(r+"."+j,function(){A()})},getIframe:function(n,i){var a=n.src,o=t.st.iframe;e.each(o.patterns,function(){return a.indexOf(this.index)>-1?(this.id&&(a="string"==typeof this.id?a.substr(a.lastIndexOf(this.id)+this.id.length,a.length):this.id.call(this,a)),a=this.src.replace("%id%",a),!1):void 0});var s={};return o.srcAction&&(s[o.srcAction]=a),t._parseMarkup(i,s,n),t.updateStatus("ready"),i}}});var D=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},O=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,a=".mfp-gallery",s=Boolean(e.fn.mfpFastClick);return t.direction=!0,n&&n.enabled?(o+=" mfp-gallery",T(p+a,function(){n.navigateByImgClick&&t.wrap.on("click"+a,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),i.on("keydown"+a,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),T("UpdateStatus"+a,function(e,n){n.text&&(n.text=O(n.text,t.currItem.index,t.items.length))}),T(d+a,function(e,i,a,o){var s=t.items.length;a.counter=s>1?O(n.tCounter,o.index,s):""}),T("BuildControls"+a,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,a=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(g),o=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(g),r=s?"mfpFastClick":"click";a[r](function(){t.prev()}),o[r](function(){t.next()}),t.isIE7&&(P("b",a[0],!1,!0),P("a",a[0],!1,!0),P("b",o[0],!1,!0),P("a",o[0],!1,!0)),t.container.append(a.add(o))}}),T(m+a,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void T(r+a,function(){i.off(a),t.wrap.off("click"+a),t.arrowLeft&&s&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null})):!1},next:function(){t.direction=!0,t.index=D(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=D(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),a=Math.min(n[1],t.items.length);for(e=1;e<=(t.direction?a:i);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?i:a);e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=D(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),k("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,k("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}}),function(){var t=1e3,n="ontouchstart"in window,i=function(){x.off("touchmove"+o+" touchend"+o)},a="mfpFastClick",o="."+a;e.fn.mfpFastClick=function(a){return e(this).each(function(){var s,r=e(this);if(n){var l,c,u,d,p,m;r.on("touchstart"+o,function(e){d=!1,m=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],c=p.clientX,u=p.clientY,x.on("touchmove"+o,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,m=p.length,p=p[0],(Math.abs(p.clientX-c)>10||Math.abs(p.clientY-u)>10)&&(d=!0,i())}).on("touchend"+o,function(e){i(),d||m>1||(s=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){s=!1},t),a())})})}r.on("click"+o,function(){s||a()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+o+" click"+o),n&&x.off("touchmove"+o+" touchend"+o)}}(),I()}),window.Modernizr=function(e,t,n){function i(e){b.cssText=e}function a(e,t){return i(P.join(e+";")+(t||""))}function o(e,t){return typeof e===t}function s(e,t){return!!~(""+e).indexOf(t)}function r(e,t){for(var i in e){var a=e[i];if(!s(a,"-")&&b[a]!==n)return"pfx"==t?a:!0}return!1}function l(e,t,i){for(var a in e){var s=t[e[a]];if(s!==n)return i===!1?e[a]:o(s,"function")?s.bind(i||t):s}return!1}function c(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+C.join(i+" ")+i).split(" ");return o(t,"string")||o(t,"undefined")?r(a,t):(a=(e+" "+I.join(i+" ")+i).split(" "),l(a,t,n))}function u(){h.input=function(n){for(var i=0,a=n.length;a>i;i++)j[n[i]]=n[i]in w;return j.list&&(j.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),j}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),h.inputtypes=function(e){for(var i,a,o,s=0,r=e.length;r>s;s++)w.setAttribute("type",a=e[s]),i="text"!==w.type,i&&(w.value=x,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(a)&&w.style.WebkitAppearance!==n?(y.appendChild(w),o=t.defaultView,i=o.getComputedStyle&&"textfield"!==o.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,y.removeChild(w)):/^(search|tel)$/.test(a)||(i=/^(url|email)$/.test(a)?w.checkValidity&&w.checkValidity()===!1:w.value!=x)),Y[e[s]]=!!i;return Y}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,p,m="2.8.3",h={},f=!0,y=t.documentElement,v="modernizr",g=t.createElement(v),b=g.style,w=t.createElement("input"),x=":)",T={}.toString,P=" -webkit- -moz- -o- -ms- ".split(" "),k="Webkit Moz O ms",C=k.split(" "),I=k.toLowerCase().split(" "),S={svg:"http://www.w3.org/2000/svg"},_={},Y={},j={},E=[],A=E.slice,D=function(e,n,i,a){var o,s,r,l,c=t.createElement("div"),u=t.body,d=u||t.createElement("body");if(parseInt(i,10))for(;i--;)r=t.createElement("div"),r.id=a?a[i]:v+(i+1),c.appendChild(r);return o=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),c.id=v,(u?c:d).innerHTML+=o,d.appendChild(c),u||(d.style.background="",d.style.overflow="hidden",l=y.style.overflow,y.style.overflow="hidden",y.appendChild(d)),s=n(c,e),u?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),y.style.overflow=l),!!s},O=function(){function e(e,a){a=a||t.createElement(i[e]||"div"),e="on"+e;var s=e in a;return s||(a.setAttribute||(a=t.createElement("div")),a.setAttribute&&a.removeAttribute&&(a.setAttribute(e,""),s=o(a[e],"function"),o(a[e],"undefined")||(a[e]=n),a.removeAttribute(e))),a=null,s}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),Q={}.hasOwnProperty;p=o(Q,"undefined")||o(Q.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return Q.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=A.call(arguments,1),i=function(){if(this instanceof i){var a=function(){};a.prototype=t.prototype;var o=new a,s=t.apply(o,n.concat(A.call(arguments)));return Object(s)===s?s:o}return t.apply(e,n.concat(A.call(arguments)))};return i}),_.flexbox=function(){return c("flexWrap")},_.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},_.canvastext=function(){return!!h.canvas&&!!o(t.createElement("canvas").getContext("2d").fillText,"function")},_.webgl=function(){return!!e.WebGLRenderingContext},_.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:D(["@media (",P.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},_.geolocation=function(){return"geolocation"in navigator},_.postmessage=function(){return!!e.postMessage},_.websqldatabase=function(){return!!e.openDatabase},_.indexedDB=function(){return!!c("indexedDB",e)},_.hashchange=function(){return O("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},_.history=function(){return!!e.history&&!!history.pushState},_.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},_.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},_.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),s(b.backgroundColor,"rgba")},_.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),s(b.backgroundColor,"rgba")||s(b.backgroundColor,"hsla")},_.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},_.backgroundsize=function(){return c("backgroundSize")},_.borderimage=function(){return c("borderImage")},_.borderradius=function(){return c("borderRadius")},_.boxshadow=function(){return c("boxShadow")},_.textshadow=function(){return""===t.createElement("div").style.textShadow},_.opacity=function(){return a("opacity:.55"),/^0.55$/.test(b.opacity)},_.cssanimations=function(){return c("animationName")},_.csscolumns=function(){return c("columnCount")},_.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((e+"-webkit- ".split(" ").join(t+e)+P.join(n+e)).slice(0,-e.length)),s(b.backgroundImage,"gradient")},_.cssreflections=function(){return c("boxReflect")},_.csstransforms=function(){return!!c("transform")},_.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in y.style&&D("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight}),e},_.csstransitions=function(){return c("transition")},_.fontface=function(){var e;return D('@font-face {font-family:"font";src:url("https://")}',function(n,i){var a=t.getElementById("smodernizr"),o=a.sheet||a.styleSheet,s=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";e=/src/i.test(s)&&0===s.indexOf(i.split(" ")[0])}),e},_.generatedcontent=function(){var e;return D(["#",v,"{font:0/0 a}#",v,':after{content:"',x,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},_.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(i){}return n},_.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(i){}return n},_.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},_.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},_.webworkers=function(){return!!e.Worker},_.applicationcache=function(){return!!e.applicationCache},_.svg=function(){return!!t.createElementNS&&!!t.createElementNS(S.svg,"svg").createSVGRect},_.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==S.svg},_.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(T.call(t.createElementNS(S.svg,"animate")))},_.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(T.call(t.createElementNS(S.svg,"clipPath")))};for(var M in _)p(_,M)&&(d=M.toLowerCase(),h[d]=_[M](),E.push((h[d]?"":"no-")+d));return h.input||u(),h.addTest=function(e,t){if("object"==typeof e)for(var i in e)p(e,i)&&h.addTest(i,e[i]);else{if(e=e.toLowerCase(),h[e]!==n)return h;t="function"==typeof t?t():t,"undefined"!=typeof f&&f&&(y.className+=" "+(t?"":"no-")+e),h[e]=t}return h},i(""),g=w=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=g.elements;return"string"==typeof e?e.split(" "):e}function a(e){var t=v[e[f]];return t||(t={},y++,e[f]=y,v[y]=t),t}function o(e,n,i){if(n||(n=t),u)return n.createElement(e);i||(i=a(n));var o;return o=i.cache[e]?i.cache[e].cloneNode():h.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!o.canHaveChildren||m.test(e)||o.tagUrn?o:i.frag.appendChild(o)}function s(e,n){if(e||(e=t),u)return e.createDocumentFragment();n=n||a(e);for(var o=n.frag.cloneNode(),s=0,r=i(),l=r.length;l>s;s++)o.createElement(r[s]);return o}function r(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(e){
return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function l(e){e||(e=t);var i=a(e);return g.shivCSS&&!c&&!i.hasCSS&&(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||r(e,i),e}var c,u,d="3.7.0",p=e.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",y=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){c=!0,u=!0}}();var g={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:p.shivCSS!==!1,supportsUnknownElements:u,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:s};e.html5=g,l(t)}(this,t),h._version=m,h._prefixes=P,h._domPrefixes=I,h._cssomPrefixes=C,h.hasEvent=O,h.testProp=function(e){return r([e])},h.testAllProps=c,h.testStyles=D,h.prefixed=function(e,t,n){return t?c(e,t,n):c(e,"pfx")},y.className=y.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+E.join(" "):""),h}(this,this.document),function(e,t,n){function i(e){return"[object Function]"==y.call(e)}function a(e){return"string"==typeof e}function o(){}function s(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function r(){var e=v.shift();g=1,e?e.t?h(function(){("c"==e.t?p.injectCss:p.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),r()):g=0}function l(e,n,i,a,o,l,c){function u(t){if(!m&&s(d.readyState)&&(b.r=m=1,!g&&r(),d.onload=d.onreadystatechange=null,t)){"img"!=e&&h(function(){x.removeChild(d)},50);for(var i in I[n])I[n].hasOwnProperty(i)&&I[n][i].onload()}}var c=c||p.errorTimeout,d=t.createElement(e),m=0,y=0,b={t:i,s:n,e:o,a:l,x:c};1===I[n]&&(y=1,I[n]=[]),"object"==e?d.data=n:(d.src=n,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,y)},v.splice(a,0,b),"img"!=e&&(y||2===I[n]?(x.insertBefore(d,w?null:f),h(u,c)):I[n].push(d))}function c(e,t,n,i,o){return g=0,t=t||"j",a(e)?l("c"==t?P:T,e,t,this.i++,n,i,o):(v.splice(this.i++,0,e),1==v.length&&r()),this}function u(){var e=p;return e.loader={load:c,i:0},e}var d,p,m=t.documentElement,h=e.setTimeout,f=t.getElementsByTagName("script")[0],y={}.toString,v=[],g=0,b="MozAppearance"in m.style,w=b&&!!t.createRange().compareNode,x=w?m:f.parentNode,m=e.opera&&"[object Opera]"==y.call(e.opera),m=!!t.attachEvent&&!m,T=b?"object":m?"script":"img",P=m?"script":T,k=Array.isArray||function(e){return"[object Array]"==y.call(e)},C=[],I={},S={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};p=function(e){function t(e){var t,n,i,e=e.split("!"),a=C.length,o=e.pop(),s=e.length,o={url:o,origUrl:o,prefixes:e};for(n=0;s>n;n++)i=e[n].split("="),(t=S[i.shift()])&&(o=t(o,i));for(n=0;a>n;n++)o=C[n](o);return o}function s(e,a,o,s,r){var l=t(e),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(a&&(a=i(a)?a:a[e]||a[s]||a[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,a,o,s,r):(I[l.url]?l.noexec=!0:I[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(a)||i(c))&&o.load(function(){u(),a&&a(l.origUrl,r,s),c&&c(l.origUrl,r,s),I[l.url]=2})))}function r(e,t){function n(e,n){if(e){if(a(e))n||(d=function(){var e=[].slice.call(arguments);p.apply(this,e),m()}),s(e,d,t,0,c);else if(Object(e)===e)for(l in r=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!n&&!--r&&(i(d)?d=function(){var e=[].slice.call(arguments);p.apply(this,e),m()}:d[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),m()}}(p[l])),s(e[l],d,t,l,c))}else!n&&m()}var r,l,c=!!e.test,u=e.load||e.both,d=e.callback||o,p=d,m=e.complete||o;n(c?e.yep:e.nope,!!u),u&&n(u)}var l,c,d=this.yepnope.loader;if(a(e))s(e,0,d,0);else if(k(e))for(l=0;l<e.length;l++)c=e[l],a(c)?s(c,0,d,0):k(c)?p(c):Object(c)===c&&r(c,d);else Object(e)===e&&r(e,d)},p.addPrefix=function(e,t){S[e]=t},p.addFilter=function(e){C.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=r,e.yepnope.injectJs=function(e,n,i,a,l,c){var u,d,m=t.createElement("script"),a=a||p.errorTimeout;m.src=e;for(d in i)m.setAttribute(d,i[d]);n=c?r:n||o,m.onreadystatechange=m.onload=function(){!u&&s(m.readyState)&&(u=1,n(),m.onload=m.onreadystatechange=null)},h(function(){u||(u=1,n(1))},a),l?m.onload():f.parentNode.insertBefore(m,f)},e.yepnope.injectCss=function(e,n,i,a,s,l){var c,a=t.createElement("link"),n=l?r:n||o;a.href=e,a.rel="stylesheet",a.type="text/css";for(c in i)a.setAttribute(c,i[c]);s||(f.parentNode.insertBefore(a,f),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,n){var i={init:function(t,n){this.$elem=e(n),this.options=e.extend({},e.fn.owlCarousel.options,this.$elem.data(),t),this.userOptions=t,this.loadContent()},loadContent:function(){function t(e){var t,n="";if("function"==typeof i.options.jsonSuccess)i.options.jsonSuccess.apply(this,[e]);else{for(t in e.owl)e.owl.hasOwnProperty(t)&&(n+=e.owl[t].item);i.$elem.html(n)}i.logIn()}var n,i=this;"function"==typeof i.options.beforeInit&&i.options.beforeInit.apply(this,[i.$elem]),"string"==typeof i.options.jsonPath?(n=i.options.jsonPath,e.getJSON(n,t)):i.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")),this.$elem.data("owl-originalClasses",this.$elem.attr("class")),this.$elem.css({opacity:0}),this.orignalItems=this.options.items,this.checkBrowser(),this.wrapperWidth=0,this.checkVisible=null,this.setVars()},setVars:function(){return 0===this.$elem.children().length?!1:(this.baseClass(),this.eventTypes(),this.$userItems=this.$elem.children(),this.itemsAmount=this.$userItems.length,this.wrapItems(),this.$owlItems=this.$elem.find(".owl-item"),this.$owlWrapper=this.$elem.find(".owl-wrapper"),this.playDirection="next",this.prevItem=0,this.prevArr=[0],this.currentItem=0,this.customEvents(),void this.onStartup())},onStartup:function(){this.updateItems(),this.calculateAll(),this.buildControls(),this.updateControls(),this.response(),this.moveEvents(),this.stopOnHover(),this.owlStatus(),!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle),!0===this.options.autoPlay&&(this.options.autoPlay=5e3),this.play(),this.$elem.find(".owl-wrapper").css("display","block"),this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility(),this.onstartup=!1,this.eachMoveUpdate(),"function"==typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad(),!0===this.options.autoHeight&&this.autoHeight(),this.onVisibleItems(),"function"==typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"==typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]),this.watchVisibility(),this.updateItems(),this.calculateAll(),this.updatePosition(),this.updateControls(),this.eachMoveUpdate(),"function"==typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var e=this;t.setTimeout(function(){e.updateVars()},0)},watchVisibility:function(){var e=this;return!1!==e.$elem.is(":visible")?!1:(e.$elem.css({opacity:0}),t.clearInterval(e.autoPlayInterval),t.clearInterval(e.checkVisible),void(e.checkVisible=t.setInterval(function(){e.$elem.is(":visible")&&(e.reload(),e.$elem.animate({opacity:1},200),t.clearInterval(e.checkVisible))},500)))},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),this.wrapperOuter=this.$elem.find(".owl-wrapper-outer"),this.$elem.css("display","block")},baseClass:function(){var e=this.$elem.hasClass(this.options.baseClass),t=this.$elem.hasClass(this.options.theme);e||this.$elem.addClass(this.options.baseClass),t||this.$elem.addClass(this.options.theme)},updateItems:function(){var t,n;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;if(t=e(this.options.responsiveBaseWidth).width(),t>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems),!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(e,t){return e[0]-t[0]}),n=0;n<this.options.itemsCustom.length;n+=1)this.options.itemsCustom[n][0]<=t&&(this.options.items=this.options.itemsCustom[n][1]);else t<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),t<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),t<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),t<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),t<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var n,i,a=this;return!0!==a.options.responsive?!1:(i=e(t).width(),a.resizer=function(){e(t).width()!==i&&(!1!==a.options.autoPlay&&t.clearInterval(a.autoPlayInterval),t.clearTimeout(n),n=t.setTimeout(function(){i=e(t).width(),a.updateVars()},a.options.responsiveRefreshRate))},void e(t).resize(a.resizer))},updatePosition:function(){this.jumpTo(this.currentItem),!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var t=this,n=0,i=t.itemsAmount-t.options.items;t.$owlItems.each(function(a){var o=e(this);o.css({width:t.itemWidth}).data("owl-item",Number(a)),(0===a%t.options.items||a===i)&&(a>i||(n+=1)),o.data("owl-roundPages",n)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0}),this.appendItemsSizes()},calculateAll:function(){this.calculateWidth(),this.appendWrapperSizes(),this.loops(),this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var e=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);return this.options.items>this.itemsAmount?this.maximumPixels=e=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=e),e},min:function(){return 0},loops:function(){var t,n,i=0,a=0;for(this.positionsInArray=[0],this.pagesInArray=[],t=0;t<this.itemsAmount;t+=1)a+=this.itemWidth,this.positionsInArray.push(-a),!0===this.options.scrollPerPage&&(n=e(this.$owlItems[t]),n=n.data("owl-roundPages"),n!==i&&(this.pagesInArray[i]=this.positionsInArray[t],i=n))},buildControls:function(){(!0===this.options.navigation||!0===this.options.pagination)&&(this.owlControls=e('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem)),!0===this.options.pagination&&this.buildPagination(),!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var t=this,n=e('<div class="owl-buttons"/>');t.owlControls.append(n),t.buttonPrev=e("<div/>",{"class":"owl-prev",html:t.options.navigationText[0]||""}),t.buttonNext=e("<div/>",{"class":"owl-next",html:t.options.navigationText[1]||""}),n.append(t.buttonPrev).append(t.buttonNext),n.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(e){e.preventDefault()}),n.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(n){n.preventDefault(),e(this).hasClass("owl-next")?t.next():t.prev()})},buildPagination:function(){var t=this;t.paginationWrapper=e('<div class="owl-pagination"/>'),t.owlControls.append(t.paginationWrapper),t.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(n){n.preventDefault(),Number(e(this).data("owl-page"))!==t.currentItem&&t.goTo(Number(e(this).data("owl-page")),!0)})},updatePagination:function(){var t,n,i,a,o,s;if(!1===this.options.pagination)return!1;for(this.paginationWrapper.html(""),t=0,n=this.itemsAmount-this.itemsAmount%this.options.items,a=0;a<this.itemsAmount;a+=1)0===a%this.options.items&&(t+=1,n===a&&(i=this.itemsAmount-this.options.items),o=e("<div/>",{"class":"owl-page"}),s=e("<span></span>",{text:!0===this.options.paginationNumbers?t:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),o.append(s),o.data("owl-page",n===a?i:a),o.data("owl-roundPages",t),this.paginationWrapper.append(o));this.checkPagination()},checkPagination:function(){var t=this;return!1===t.options.pagination?!1:void t.paginationWrapper.find(".owl-page").each(function(){e(this).data("owl-roundPages")===e(t.$owlItems[t.currentItem]).data("owl-roundPages")&&(t.paginationWrapper.find(".owl-page").removeClass("active"),e(this).addClass("active"))})},checkNavigation:function(){return!1===this.options.navigation?!1:void(!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled"))))},updateControls:function(){this.updatePagination(),this.checkNavigation(),this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(e){if(this.isTransition)return!1;if(this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1,this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0)){if(!0!==this.options.rewindNav)return this.currentItem=this.maximumItem,!1;this.currentItem=0,e="rewind"}this.goTo(this.currentItem,e)},prev:function(e){if(this.isTransition)return!1;if(this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1),0>this.currentItem){if(!0!==this.options.rewindNav)return this.currentItem=0,!1;this.currentItem=this.maximumItem,e="rewind"}this.goTo(this.currentItem,e)},goTo:function(e,n,i){var a=this;return a.isTransition?!1:("function"==typeof a.options.beforeMove&&a.options.beforeMove.apply(this,[a.$elem]),e>=a.maximumItem?e=a.maximumItem:0>=e&&(e=0),a.currentItem=a.owl.currentItem=e,!1!==a.options.transitionStyle&&"drag"!==i&&1===a.options.items&&!0===a.browser.support3d?(a.swapSpeed(0),!0===a.browser.support3d?a.transition3d(a.positionsInArray[e]):a.css2slide(a.positionsInArray[e],1),a.afterGo(),a.singleItemTransition(),!1):(e=a.positionsInArray[e],!0===a.browser.support3d?(a.isCss3Finish=!1,!0===n?(a.swapSpeed("paginationSpeed"),t.setTimeout(function(){a.isCss3Finish=!0},a.options.paginationSpeed)):"rewind"===n?(a.swapSpeed(a.options.rewindSpeed),t.setTimeout(function(){a.isCss3Finish=!0},a.options.rewindSpeed)):(a.swapSpeed("slideSpeed"),t.setTimeout(function(){a.isCss3Finish=!0},a.options.slideSpeed)),a.transition3d(e)):!0===n?a.css2slide(e,a.options.paginationSpeed):"rewind"===n?a.css2slide(e,a.options.rewindSpeed):a.css2slide(e,a.options.slideSpeed),void a.afterGo()))},jumpTo:function(e){"function"==typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]),e>=this.maximumItem||-1===e?e=this.maximumItem:0>=e&&(e=0),this.swapSpeed(0),!0===this.browser.support3d?this.transition3d(this.positionsInArray[e]):this.css2slide(this.positionsInArray[e],1),this.currentItem=this.owl.currentItem=e,this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem),this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2],this.prevArr.shift(0),this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp()),"function"==typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop",t.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var e=this;return e.apStatus="play",!1===e.options.autoPlay?!1:(t.clearInterval(e.autoPlayInterval),void(e.autoPlayInterval=t.setInterval(function(){e.next(!0)},e.options.autoPlay)))},swapSpeed:function(e){"slideSpeed"===e?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===e?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!=typeof e&&this.$owlWrapper.css(this.addCssSpeed(e))},addCssSpeed:function(e){return{"-webkit-transition":"all "+e+"ms ease","-moz-transition":"all "+e+"ms ease","-o-transition":"all "+e+"ms ease",transition:"all "+e+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(e){return{"-webkit-transform":"translate3d("+e+"px, 0px, 0px)","-moz-transform":"translate3d("+e+"px, 0px, 0px)","-o-transform":"translate3d("+e+"px, 0px, 0px)","-ms-transform":"translate3d("+e+"px, 0px, 0px)",transform:"translate3d("+e+"px, 0px,0px)"}},transition3d:function(e){this.$owlWrapper.css(this.doTranslate(e))},css2move:function(e){this.$owlWrapper.css({left:e})},css2slide:function(e,t){var n=this;n.isCssFinish=!1,n.$owlWrapper.stop(!0,!0).animate({left:e},{duration:t||n.options.slideSpeed,complete:function(){n.isCssFinish=!0}})},checkBrowser:function(){var e=n.createElement("div");e.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)",e=e.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g),this.browser={support3d:null!==e&&1===e.length,isTouch:"ontouchstart"in t||t.navigator.msMaxTouchPoints}},moveEvents:function(){(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)&&(this.gestures(),this.disabledEvents())},eventTypes:function(){var e=["s","e","x"];this.ev_types={},!0===this.options.mouseDrag&&!0===this.options.touchDrag?e=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?e=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(e=["mousedown.owl","mousemove.owl","mouseup.owl"]),this.ev_types.start=e[0],this.ev_types.move=e[1],this.ev_types.end=e[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(e){e.preventDefault()}),this.$elem.on("mousedown.disableTextSelect",function(t){return e(t.target).is("input, textarea, select, option")})},gestures:function(){function i(e){if(void 0!==e.touches)return{x:e.touches[0].pageX,y:e.touches[0].pageY};if(void 0===e.touches){if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY};if(void 0===e.pageX)return{x:e.clientX,y:e.clientY}}}function a(t){"on"===t?(e(n).on(r.ev_types.move,o),e(n).on(r.ev_types.end,s)):"off"===t&&(e(n).off(r.ev_types.move),e(n).off(r.ev_types.end))}function o(a){a=a.originalEvent||a||t.event,r.newPosX=i(a).x-l.offsetX,r.newPosY=i(a).y-l.offsetY,r.newRelativeX=r.newPosX-l.relativePos,"function"==typeof r.options.startDragging&&!0!==l.dragging&&0!==r.newRelativeX&&(l.dragging=!0,r.options.startDragging.apply(r,[r.$elem])),(8<r.newRelativeX||-8>r.newRelativeX)&&!0===r.browser.isTouch&&(void 0!==a.preventDefault?a.preventDefault():a.returnValue=!1,l.sliding=!0),(10<r.newPosY||-10>r.newPosY)&&!1===l.sliding&&e(n).off("touchmove.owl"),r.newPosX=Math.max(Math.min(r.newPosX,r.newRelativeX/5),r.maximumPixels+r.newRelativeX/5),!0===r.browser.support3d?r.transition3d(r.newPosX):r.css2move(r.newPosX)}function s(n){n=n.originalEvent||n||t.event;var i;n.target=n.target||n.srcElement,l.dragging=!1,!0!==r.browser.isTouch&&r.$owlWrapper.removeClass("grabbing"),r.dragDirection=0>r.newRelativeX?r.owl.dragDirection="left":r.owl.dragDirection="right",0!==r.newRelativeX&&(i=r.getNewPosition(),r.goTo(i,!1,"drag"),l.targetElement===n.target&&!0!==r.browser.isTouch&&(e(n.target).on("click.disable",function(t){t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e(t.target).off("click.disable")}),n=e._data(n.target,"events").click,i=n.pop(),n.splice(0,0,i))),a("off")}var r=this,l={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};r.isCssFinish=!0,r.$elem.on(r.ev_types.start,".owl-wrapper",function(n){n=n.originalEvent||n||t.event;var o;if(3===n.which)return!1;if(!(r.itemsAmount<=r.options.items)){if(!1===r.isCssFinish&&!r.options.dragBeforeAnimFinish||!1===r.isCss3Finish&&!r.options.dragBeforeAnimFinish)return!1;!1!==r.options.autoPlay&&t.clearInterval(r.autoPlayInterval),!0===r.browser.isTouch||r.$owlWrapper.hasClass("grabbing")||r.$owlWrapper.addClass("grabbing"),r.newPosX=0,r.newRelativeX=0,e(this).css(r.removeTransition()),o=e(this).position(),l.relativePos=o.left,l.offsetX=i(n).x-o.left,l.offsetY=i(n).y-o.top,a("on"),l.sliding=!1,l.targetElement=n.target||n.srcElement}})},getNewPosition:function(){var e=this.closestItem();return e>this.maximumItem?e=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=e=0),e},closestItem:function(){var t=this,n=!0===t.options.scrollPerPage?t.pagesInArray:t.positionsInArray,i=t.newPosX,a=null;return e.each(n,function(o,s){i-t.itemWidth/20>n[o+1]&&i-t.itemWidth/20<s&&"left"===t.moveDirection()?(a=s,t.currentItem=!0===t.options.scrollPerPage?e.inArray(a,t.positionsInArray):o):i+t.itemWidth/20<s&&i+t.itemWidth/20>(n[o+1]||n[o]-t.itemWidth)&&"right"===t.moveDirection()&&(!0===t.options.scrollPerPage?(a=n[o+1]||n[n.length-1],t.currentItem=e.inArray(a,t.positionsInArray)):(a=n[o+1],t.currentItem=o+1))}),t.currentItem},moveDirection:function(){var e;return 0>this.newRelativeX?(e="right",this.playDirection="next"):(e="left",this.playDirection="prev"),e},customEvents:function(){var e=this;e.$elem.on("owl.next",function(){e.next()}),e.$elem.on("owl.prev",function(){e.prev()}),e.$elem.on("owl.play",function(t,n){e.options.autoPlay=n,e.play(),e.hoverStatus="play"}),e.$elem.on("owl.stop",function(){e.stop(),e.hoverStatus="stop"}),e.$elem.on("owl.goTo",function(t,n){e.goTo(n)}),e.$elem.on("owl.jumpTo",function(t,n){e.jumpTo(n)})},stopOnHover:function(){var e=this;!0===e.options.stopOnHover&&!0!==e.browser.isTouch&&!1!==e.options.autoPlay&&(e.$elem.on("mouseover",function(){e.stop()}),e.$elem.on("mouseout",function(){"stop"!==e.hoverStatus&&e.play()}))},lazyLoad:function(){var t,n,i,a,o;if(!1===this.options.lazyLoad)return!1;for(t=0;t<this.itemsAmount;t+=1)n=e(this.$owlItems[t]),"loaded"!==n.data("owl-loaded")&&(i=n.data("owl-item"),a=n.find(".lazyOwl"),"string"!=typeof a.data("src")?n.data("owl-loaded","loaded"):(void 0===n.data("owl-loaded")&&(a.hide(),n.addClass("loading").data("owl-loaded","checked")),(o=!0===this.options.lazyFollow?i>=this.currentItem:!0)&&i<this.currentItem+this.options.items&&a.length&&this.lazyPreload(n,a)))},lazyPreload:function(e,n){function i(){e.data("owl-loaded","loaded").removeClass("loading"),n.removeAttr("data-src"),"fade"===s.options.lazyEffect?n.fadeIn(400):n.show(),"function"==typeof s.options.afterLazyLoad&&s.options.afterLazyLoad.apply(this,[s.$elem])}function a(){r+=1,s.completeImg(n.get(0))||!0===o?i():100>=r?t.setTimeout(a,100):i()}var o,s=this,r=0;"DIV"===n.prop("tagName")?(n.css("background-image","url("+n.data("src")+")"),o=!0):n[0].src=n.data("src"),a()},autoHeight:function(){function n(){var n=e(o.$owlItems[o.currentItem]).height();o.wrapperOuter.css("height",n+"px"),o.wrapperOuter.hasClass("autoHeight")||t.setTimeout(function(){o.wrapperOuter.addClass("autoHeight")},0)}function i(){a+=1,o.completeImg(s.get(0))?n():100>=a?t.setTimeout(i,100):o.wrapperOuter.css("height","")}var a,o=this,s=e(o.$owlItems[o.currentItem]).find("img");void 0!==s.get(0)?(a=0,i()):n()},completeImg:function(e){return!e.complete||"undefined"!=typeof e.naturalWidth&&0===e.naturalWidth?!1:!0},onVisibleItems:function(){var t;for(!0===this.options.addClassActive&&this.$owlItems.removeClass("active"),this.visibleItems=[],t=this.currentItem;t<this.currentItem+this.options.items;t+=1)this.visibleItems.push(t),!0===this.options.addClassActive&&e(this.$owlItems[t]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(e){this.outClass="owl-"+e+"-out",this.inClass="owl-"+e+"-in"},singleItemTransition:function(){var e=this,t=e.outClass,n=e.inClass,i=e.$owlItems.eq(e.currentItem),a=e.$owlItems.eq(e.prevItem),o=Math.abs(e.positionsInArray[e.currentItem])+e.positionsInArray[e.prevItem],s=Math.abs(e.positionsInArray[e.currentItem])+e.itemWidth/2;e.isTransition=!0,e.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":s+"px","-moz-perspective-origin":s+"px","perspective-origin":s+"px"}),a.css({position:"relative",left:o+"px"}).addClass(t).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){e.endPrev=!0,a.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),e.clearTransStyle(a,t)}),i.addClass(n).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){e.endCurrent=!0,i.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),e.clearTransStyle(i,n)})},clearTransStyle:function(e,t){e.css({position:"",left:""}).removeClass(t),this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect"),e(n).off(".owl owl"),e(t).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove()),this.clearEvents(),this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop(),t.clearInterval(this.checkVisible),this.unWrap(),this.$elem.removeData()},reinit:function(t){t=e.extend({},this.userOptions,t),this.unWrap(),this.init(t,this.$elem)},addItem:function(e,t){var n;return e?0===this.$elem.children().length?(this.$elem.append(e),this.setVars(),!1):(this.unWrap(),n=void 0===t||-1===t?-1:t,n>=this.$userItems.length||-1===n?this.$userItems.eq(-1).after(e):this.$userItems.eq(n).before(e),void this.setVars()):!1},removeItem:function(e){return 0===this.$elem.children().length?!1:(e=void 0===e||-1===e?-1:e,this.unWrap(),this.$userItems.eq(e).remove(),void this.setVars())}};e.fn.owlCarousel=function(t){return this.each(function(){if(!0===e(this).data("owl-init"))return!1;e(this).data("owl-init",!0);var n=Object.create(i);n.init(t,this),e.data(this,"owlCarousel",n)})},e.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:t,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document),window.mr_parallax=new mr_parallax,function(e,t){function n(t,n,s,r){t[i](o+n,"wheel"==a?s:function(t){!t&&(t=e.event);var n={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,notRealWheel:1,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==a?(n.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(n.deltaX=-1/40*t.wheelDeltaX)):n.deltaY=t.detail/3,s(n)},r||!1)}var i,a,o="";e.addEventListener?i="addEventListener":(i="attachEvent",o="on"),a="onwheel"in t.createElement("div")?"wheel":void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll",e.addWheelListener=function(e,t,i){n(e,a,t,i),"DOMMouseScroll"==a&&n(e,"MozMousePixelScroll",t,i)}}(window,document),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Share=e()}}(function(){function e(e){return""+e.selector+" .social.bottom,"+e.selector+" .social.top{-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0}"+e.selector+"{width:92px;height:20px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"+e.selector+" [class*=entypo-]:before{font-family:entypo,sans-serif}"+e.selector+" label{font-size:16px;cursor:pointer;margin:0;padding:5px 10px;border-radius:5px;color:#333;transition:all .3s ease}"+e.selector+" label:hover{opacity:.8}"+e.selector+" label span{text-transform:uppercase;font-size:.9em;font-family:Lato,sans-serif;font-weight:700;-webkit-font-smoothing:antialiased;padding-left:6px}"+e.selector+" .social{opacity:0;transition:all .4s ease;margin-left:-15px;visibility:hidden}"+e.selector+" .social.top{-ms-transform-origin:0 0;transform-origin:0 0;margin-top:-90px}"+e.selector+" .social.bottom{-ms-transform-origin:0 0;transform-origin:0 0;margin-top:5px}"+e.selector+" .social.middle.left,"+e.selector+" .social.middle.right{-ms-transform-origin:5% 50%;transform-origin:5% 50%;-webkit-transform-origin:5% 50%;-moz-transform-origin:5% 50%;-o-transform-origin:5% 50%}"+e.selector+" .social.middle{margin-top:-34px}"+e.selector+" .social.middle.right{margin-left:105px}"+e.selector+" .social.networks-1.center,"+e.selector+" .social.networks-1.left,"+e.selector+" .social.right{margin-left:14px}"+e.selector+" .social.load{transition:none!important}"+e.selector+" .social.networks-1{width:60px}"+e.selector+" .social.networks-1.middle.left{margin-left:-70px}"+e.selector+" .social.networks-1 ul{width:60px}"+e.selector+" .social.networks-2,"+e.selector+" .social.networks-2 ul{width:120px}"+e.selector+" .social.networks-2.center{margin-left:-13px}"+e.selector+" .social.networks-2.left{margin-left:-44px}"+e.selector+" .social.networks-2.middle.left{margin-left:-130px}"+e.selector+" .social.networks-3,"+e.selector+" .social.networks-3 ul{width:180px}"+e.selector+" .social.networks-3.center{margin-left:-45px}"+e.selector+" .social.networks-3.left{margin-left:-102px}"+e.selector+" .social.networks-3.middle.left{margin-left:-190px}"+e.selector+" .social.networks-4,"+e.selector+" .social.networks-4 ul{width:240px}"+e.selector+" .social.networks-4.center{margin-left:-75px}"+e.selector+" .social.networks-4.left{margin-left:162px}"+e.selector+" .social.networks-4.middle.left{margin-left:-250px}"+e.selector+" .social.networks-5,"+e.selector+" .social.networks-5 ul{width:300px}"+e.selector+" .social.networks-5.center{margin-left:-105px}"+e.selector+" .social.networks-5.left{margin-left:-225px}"+e.selector+" .social.networks-5.middle.left{margin-left:-320px}"+e.selector+" .social.active{opacity:1;transition:all .4s ease;visibility:visible}"+e.selector+" .social.active.top{-webkit-transform:scale(1)translateY(-10px);-moz-transform:scale(1)translateY(-10px);-o-transform:scale(1)translateY(-10px);-ms-transform:scale(1)translateY(-10px);transform:scale(1)translateY(-10px)}"+e.selector+" .social.active.bottom{-webkit-transform:scale(1)translateY(15px);-moz-transform:scale(1)translateY(15px);-o-transform:scale(1)translateY(15px);-ms-transform:scale(1)translateY(15px);transform:scale(1)translateY(15px)}"+e.selector+" .social.active.middle.right{-webkit-transform:scale(1)translateX(10px);-moz-transform:scale(1)translateX(10px);-o-transform:scale(1)translateX(10px);-ms-transform:scale(1)translateX(10px);transform:scale(1)translateX(10px)}"+e.selector+" .social.active.middle.left{-webkit-transform:scale(1)translateX(-10px);-moz-transform:scale(1)translateX(-10px);-o-transform:scale(1)translateX(-10px);-ms-transform:scale(1)translateX(-10px);transform:scale(1)translateX(-10px)}"+e.selector+" .social ul{position:relative;left:0;right:0;height:46px;color:#fff;margin:auto;padding:0;list-style:none}"+e.selector+" .social ul li{font-size:20px;cursor:pointer;width:60px;margin:0;padding:12px 0;text-align:center;float:left;display:none;height:22px;position:relative;z-index:2;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;transition:all .3s ease}"+e.selector+" .social ul li:hover{color:rgba(0,0,0,.5)}"+e.selector+" .social li[class*=facebook]{background:#3b5998;display:"+e.networks.facebook.display+"}"+e.selector+" .social li[class*=twitter]{background:#6cdfea;display:"+e.networks.twitter.display+"}"+e.selector+" .social li[class*=gplus]{background:#e34429;display:"+e.networks.google_plus.display+"}"+e.selector+" .social li[class*=pinterest]{background:#c5282f;display:"+e.networks.pinterest.display+"}"+e.selector+" .social li[class*=paper-plane]{background:#42c5b0;display:"+e.networks.email.display+"}";
}var t;"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var e,t,n;return n=function(e){return function(n){var i,a;i=t.className.split(/\s+/),a=i.indexOf(n),e(i,a,n),t.className=i.join(" ")}},t=this,e={add:n(function(e,t,n){~t||e.push(n)}),remove:n(function(e,t){~t&&e.splice(t,1)}),toggle:n(function(e,t,n){~t?e.splice(t,1):e.push(n)}),contains:function(e){return!!~t.className.split(/\s+/).indexOf(e)},item:function(e){return t.className.split(/\s+/)[e]||null}},Object.defineProperty(e,"length",{get:function(){return t.className.split(/\s+/).length}}),e}}),String.prototype.to_rfc3986=function(){var e;return e=encodeURIComponent(this),e.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},t=function(){function e(){}return e.prototype.extend=function(e,t,n){var i,a;for(a in t)i=void 0!==e[a],i&&"object"==typeof t[a]?this.extend(e[a],t[a],n):(n||!i)&&(e[a]=t[a])},e.prototype.hide=function(e){return e.style.display="none"},e.prototype.show=function(e){return e.style.display="block"},e.prototype.has_class=function(e,t){return e.classList.contains(t)},e.prototype.add_class=function(e,t){return e.classList.add(t)},e.prototype.remove_class=function(e,t){return e.classList.remove(t)},e.prototype.is_encoded=function(e){return e=e.to_rfc3986(),decodeURIComponent(e)!==e},e.prototype.encode=function(e){return"undefined"==typeof e||this.is_encoded(e)?e:e.to_rfc3986()},e.prototype.popup=function(e,t){var n,i,a,o;return null==t&&(t={}),i={width:500,height:350},i.top=screen.height/2-i.height/2,i.left=screen.width/2-i.width/2,a=function(){var e;e=[];for(n in t)o=t[n],e.push(n+"="+this.encode(o));return e}.call(this).join("&"),a&&(a="?"+a),window.open(e+a,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,left="+i.left+",top="+i.top+",width="+i.width+",height="+i.height)},e}();var n,i=function(e,t){function n(){this.constructor=e}for(var i in t)a.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;return n=function(t){function n(e,t){return this.element=e,this.el={head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]},this.config={enabled_networks:0,protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",url:window.location.href,caption:null,title:this.default_title(),image:this.default_image(),description:this.default_description(),ui:{flyout:"top center",button_text:"Share",button_font:!0,icon_font:!0},networks:{google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null}}},this.setup(this.element,t),this}return i(n,t),n.prototype.setup=function(e,t){var n,i,a,o,s;for(o=document.querySelectorAll(e),this.extend(this.config,t,!0),this.set_global_configuration(),this.normalize_network_configuration(),this.config.ui.icon_font&&this.inject_icons(),this.config.ui.button_font&&this.inject_fonts(),this.config.networks.facebook.enabled&&this.config.networks.facebook.load_sdk&&this.inject_facebook_sdk(),i=n=0,s=o.length;s>n;i=++n)a=o[i],this.setup_instance(e,i)},n.prototype.setup_instance=function(e,t){var n,i,a,o,s,r,l,c,u;for(o=document.querySelectorAll(e)[t],this.hide(o),this.add_class(o,"sharer-"+t),o=document.querySelectorAll(e)[t],this.inject_css(o),this.inject_html(o),this.show(o),s=o.getElementsByTagName("label")[0],i=o.getElementsByClassName("social")[0],c=o.getElementsByTagName("li"),this.add_class(i,"networks-"+this.config.enabled_networks),s.addEventListener("click",function(e){return function(){return e.event_toggle(i)}}(this)),n=this,u=[],t=a=0,r=c.length;r>a;t=++a)l=c[t],u.push(l.addEventListener("click",function(){return n.event_network(o,this),n.event_close(i)}));return u},n.prototype.event_toggle=function(e){return this.has_class(e,"active")?this.event_close(e):this.event_open(e)},n.prototype.event_open=function(e){return this.has_class(e,"load")&&this.remove_class(e,"load"),this.add_class(e,"active")},n.prototype.event_close=function(e){return this.remove_class(e,"active")},n.prototype.event_network=function(e,t){var n;return n=t.getAttribute("data-network"),this.hook("before",n,e),this["network_"+n](),this.hook("after",n,e)},n.prototype.open=function(){return this["public"]("open")},n.prototype.close=function(){return this["public"]("close")},n.prototype.toggle=function(){return this["public"]("toggle")},n.prototype["public"]=function(e){var t,n,i,a,o,s,r;for(s=document.querySelectorAll(this.element),r=[],i=n=0,o=s.length;o>n;i=++n)a=s[i],t=a.getElementsByClassName("social")[0],r.push(this["event_"+e](t));return r},n.prototype.network_facebook=function(){return this.config.networks.facebook.load_sdk?window.FB?FB.ui({method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description}):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})},n.prototype.network_twitter=function(){return this.popup("https://twitter.com/intent/tweet",{text:this.config.networks.twitter.description,url:this.config.networks.twitter.url})},n.prototype.network_google_plus=function(){return this.popup("https://plus.google.com/share",{url:this.config.networks.google_plus.url})},n.prototype.network_pinterest=function(){return this.popup("https://www.pinterest.com/pin/create/button",{url:this.config.networks.pinterest.url,media:this.config.networks.pinterest.image,description:this.config.networks.pinterest.description})},n.prototype.network_email=function(){return this.popup("mailto:",{subject:this.config.networks.email.title,body:this.config.networks.email.description})},n.prototype.inject_icons=function(){},n.prototype.inject_fonts=function(){},n.prototype.inject_stylesheet=function(e){var t;return this.el.head.querySelector('link[href="'+e+'"]')?void 0:(t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),this.el.head.appendChild(t))},n.prototype.inject_css=function(t){var n,i,a,o;return a="."+t.getAttribute("class").split(" ").join("."),this.el.head.querySelector("meta[name='sharer"+a+"']")?void 0:(this.config.selector=a,n=e(this.config),o=document.createElement("style"),o.type="text/css",o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n)),this.el.head.appendChild(o),delete this.config.selector,i=document.createElement("meta"),i.setAttribute("name","sharer"+a),this.el.head.appendChild(i))},n.prototype.inject_html=function(e){return e.innerHTML="<label class='entypo-export'><span>"+this.config.ui.button_text+"</span></label><div class='social load "+this.config.ui.flyout+"'><ul><li class='entypo-pinterest' data-network='pinterest'><i class='fa fa-pinterest fa-lg'></i></li><li class='entypo-twitter' data-network='twitter'><i class='fa fa-twitter fa-lg'></i></li><li class='entypo-facebook' data-network='facebook'><i class='fa fa-facebook fa-lg'></i></li><li class='entypo-gplus' data-network='google_plus'><i class='fa fa-google-plus fa-lg'></i></li><li class='entypo-paper-plane' data-network='email'><i class='fa fa-envelope-o fa-lg'></i></li></ul></div>"},n.prototype.inject_facebook_sdk=function(){var e,t;return window.FB||!this.config.networks.facebook.app_id||this.el.body.querySelector("#fb-root")?void 0:(t=document.createElement("script"),t.text="window.fbAsyncInit=function(){FB.init({appId:'"+this.config.networks.facebook.app_id+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+this.config.protocol+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')",e=document.createElement("div"),e.id="fb-root",this.el.body.appendChild(e),this.el.body.appendChild(t))},n.prototype.hook=function(e,t,n){var i,a;i=this.config.networks[t][e],"function"==typeof i&&(a=i.call(this.config.networks[t],n),void 0!==a&&(a=this.normalize_filter_config_updates(a),this.extend(this.config.networks[t],a,!0),this.normalize_network_configuration()))},n.prototype.default_title=function(){var e;return(e=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))?e.getAttribute("content"):(e=document.querySelector("title"))?e.innerText:void 0},n.prototype.default_image=function(){var e;return(e=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?e.getAttribute("content"):void 0},n.prototype.default_description=function(){var e;return(e=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?e.getAttribute("content"):""},n.prototype.set_global_configuration=function(){var e,t,n,i,a,o;a=this.config.networks,o=[];for(t in a){i=a[t];for(n in i)null==this.config.networks[t][n]&&(this.config.networks[t][n]=this.config[n]);this.config.networks[t].enabled?(e="block",this.config.enabled_networks+=1):e="none",o.push(this.config.networks[t].display=e)}return o},n.prototype.normalize_network_configuration=function(){return this.config.networks.facebook.app_id||(this.config.networks.facebook.load_sdk=!1),this.is_encoded(this.config.networks.twitter.description)||(this.config.networks.twitter.description=encodeURIComponent(this.config.networks.twitter.description)),"number"==typeof this.config.networks.facebook.app_id?this.config.networks.facebook.app_id=this.config.networks.facebook.app_id.toString():void 0},n.prototype.normalize_filter_config_updates=function(e){return this.config.networks.facebook.app_id!==e.app_id&&(console.warn("You are unable to change the Facebook app_id after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),this.config.networks.facebook.load_sdk!==e.load_sdk&&(console.warn("You are unable to change the Facebook load_sdk option after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),e},n}(t)}),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e){var t={init:function(t,n){var i=this;i.elem=n,i.$elem=e(n),i.api="https://api.instagram.com/v1",i.accessData=e.fn.spectragram.accessData,i.options=e.extend({},e.fn.spectragram.options,t)},getRecentMedia:function(e){var t=this,n="/users/"+e+"/media/recent/?"+t.accessData.clientID+"&access_token="+t.accessData.accessToken;t.fetch(n).done(function(e){t.display(e)})},getUserFeed:function(){var t=this,n="/users/search?q="+t.options.query+"&count="+t.options.max+"&access_token="+t.accessData.accessToken;t.fetch(n).done(function(n){n.data.length?t.getRecentMedia(n.data[0].id):e.error("Spectagram.js - Error: the username "+t.options.query+" does not exist.")})},getPopular:function(){var e=this,t="/media/popular?client_id="+e.accessData.clientID+"&access_token="+e.accessData.accessToken;e.fetch(t).done(function(t){e.display(t)})},getRecentTagged:function(){var t=this,n="/tags/"+t.options.query+"/media/recent?client_id="+t.accessData.clientID+"&access_token="+t.accessData.accessToken;t.fetch(n).done(function(n){n.data.length?t.display(n):e.error("Spectagram.js - Error: the tag "+t.options.query+" does not have results.")})},fetch:function(t){var n=this,i=n.api+t;return e.ajax({type:"GET",dataType:"jsonp",cache:!1,url:i})},display:function(t){var n,i=this,a=i.options.size,o=4;if(0===t.data.length)i.$elem.append(e(i.options.wrapEachWith).append(i.options.notFoundMsg));else for(var s=0;o>s;s++)n="small"==a?t.data[s].images.thumbnail.url:"medium"==a?t.data[s].images.low_resolution.url:t.data[s].images.standard_resolution.url,i.$elem.append(e(i.options.wrapEachWith).append("<a title='Pic' target='_blank' href='"+t.data[s].link+"'><div class='crop' style=\"background-image: url('"+n+"')\";></div></a>"));"function"==typeof i.options.complete&&i.options.complete.call(i)}};jQuery.fn.spectragram=function(n,i){jQuery.fn.spectragram.accessData.clientID?this.each(function(){var a=Object.create(t);return a.init(i,this),a[n]?a[n](this):void e.error("Method "+n+" does not exist on jQuery.spectragram")}):e.error("You must define an accessToken and a clientID on jQuery.spectragram")},jQuery.fn.spectragram.options={max:4,query:"coffee",size:"big",wrapEachWith:"<li></li>",complete:null},jQuery.fn.spectragram.accessData={accessToken:"791988178.2d41dbd.97f234bc6dd248f18807726f637719c2",clientID:"2d41dbd502f7436fa1cc66d4cbe0174c"}}(jQuery,window,document),function(e){"use strict";var t=!1;if("undefined"!=typeof module&&module.exports){t=!0;var n=require("request")}var i=!1,a=!1;try{var o=new XMLHttpRequest;"undefined"!=typeof o.withCredentials?i=!0:"XDomainRequest"in window&&(i=!0,a=!0)}catch(s){}var r=Array.prototype.indexOf,l=function(e,t){var n=0,i=e.length;if(r&&e.indexOf===r)return e.indexOf(t);for(;i>n;n++)if(e[n]===t)return n;return-1},c=function(e){return this&&this instanceof c?("string"==typeof e&&(e={key:e}),this.callback=e.callback,this.wanted=e.wanted||[],this.key=e.key,this.simpleSheet=!!e.simpleSheet,this.parseNumbers=!!e.parseNumbers,this.wait=!!e.wait,this.reverse=!!e.reverse,this.postProcess=e.postProcess,this.debug=!!e.debug,this.query=e.query||"",this.orderby=e.orderby,this.endpoint=e.endpoint||"https://spreadsheets.google.com",this.singleton=!!e.singleton,this.simple_url=!!e.simple_url,this.callbackContext=e.callbackContext,this.prettyColumnNames="undefined"==typeof e.prettyColumnNames?!e.proxy:e.prettyColumnNames,"undefined"!=typeof e.proxy&&(this.endpoint=e.proxy.replace(/\/$/,""),this.simple_url=!0,this.singleton=!0,i=!1),this.parameterize=e.parameterize||!1,this.singleton&&("undefined"!=typeof c.singleton&&this.log("WARNING! Tabletop singleton already defined"),c.singleton=this),/key=/.test(this.key)&&(this.log("You passed an old Google Docs url as the key! Attempting to parse."),this.key=this.key.match("key=(.*?)(&|#|$)")[1]),/pubhtml/.test(this.key)&&(this.log("You passed a new Google Spreadsheets url as the key! Attempting to parse."),this.key=this.key.match("d\\/(.*?)\\/pubhtml")[1]),this.key?(this.log("Initializing with key "+this.key),this.models={},this.model_names=[],this.base_json_path="/feeds/worksheets/"+this.key+"/public/basic?alt=",t||i?this.base_json_path+="json":this.base_json_path+="json-in-script",void(this.wait||this.fetch())):void this.log("You need to pass Tabletop a key!")):new c(e)};c.callbacks={},c.init=function(e){return new c(e)},c.sheets=function(){this.log("Times have changed! You'll want to use var tabletop = Tabletop.init(...); tabletop.sheets(...); instead of Tabletop.sheets(...)")},c.prototype={fetch:function(e){"undefined"!=typeof e&&(this.callback=e),this.requestData(this.base_json_path,this.loadSheets)},requestData:function(e,n){if(t)this.serverSideFetch(e,n);else{var o=this.endpoint.split("//").shift()||"http";!i||a&&o!==location.protocol?this.injectScript(e,n):this.xhrFetch(e,n)}},xhrFetch:function(e,t){var n=a?new XDomainRequest:new XMLHttpRequest;n.open("GET",this.endpoint+e);var i=this;n.onload=function(){try{var e=JSON.parse(n.responseText)}catch(a){console.error(a)}t.call(i,e)},n.send()},injectScript:function(e,t){var n,i=document.createElement("script");if(this.singleton)t===this.loadSheets?n="Tabletop.singleton.loadSheets":t===this.loadSheet&&(n="Tabletop.singleton.loadSheet");else{var a=this;n="tt"+ +new Date+Math.floor(1e5*Math.random()),c.callbacks[n]=function(){var e=Array.prototype.slice.call(arguments,0);t.apply(a,e),i.parentNode.removeChild(i),delete c.callbacks[n]},n="Tabletop.callbacks."+n}var o=e+"&callback="+n;this.simple_url?-1!==e.indexOf("/list/")?i.src=this.endpoint+"/"+this.key+"-"+e.split("/")[4]:i.src=this.endpoint+"/"+this.key:i.src=this.endpoint+o,this.parameterize&&(i.src=this.parameterize+encodeURIComponent(i.src)),document.getElementsByTagName("script")[0].parentNode.appendChild(i)},serverSideFetch:function(e,t){var i=this;n({url:this.endpoint+e,json:!0},function(e,n,a){return e?console.error(e):void t.call(i,a)})},isWanted:function(e){return 0===this.wanted.length?!0:-1!==l(this.wanted,e)},data:function(){return 0===this.model_names.length?void 0:this.simpleSheet?(this.model_names.length>1&&this.debug&&this.log("WARNING You have more than one sheet but are using simple sheet mode! Don't blame me when something goes wrong."),this.models[this.model_names[0]].all()):this.models},addWanted:function(e){-1===l(this.wanted,e)&&this.wanted.push(e)},loadSheets:function(e){var n,a,o=[];for(this.foundSheetNames=[],n=0,a=e.feed.entry.length;a>n;n++)if(this.foundSheetNames.push(e.feed.entry[n].title.$t),this.isWanted(e.feed.entry[n].content.$t)){var s=e.feed.entry[n].link.length-1,r=e.feed.entry[n].link[s].href.split("/").pop(),l="/feeds/list/"+this.key+"/"+r+"/public/values?alt=";l+=t||i?"json":"json-in-script",this.query&&(l+="&sq="+this.query),this.orderby&&(l+="&orderby=column:"+this.orderby.toLowerCase()),this.reverse&&(l+="&reverse=true"),o.push(l)}for(this.sheetsToLoad=o.length,n=0,a=o.length;a>n;n++)this.requestData(o[n],this.loadSheet)},sheets:function(e){return"undefined"==typeof e?this.models:"undefined"==typeof this.models[e]?void 0:this.models[e]},sheetReady:function(e){this.models[e.name]=e,-1===l(this.model_names,e.name)&&this.model_names.push(e.name),this.sheetsToLoad--,0===this.sheetsToLoad&&this.doCallback()},loadSheet:function(e){var t=this;new c.Model({data:e,parseNumbers:this.parseNumbers,postProcess:this.postProcess,tabletop:this,prettyColumnNames:this.prettyColumnNames,onReady:function(){t.sheetReady(this)}})},doCallback:function(){0===this.sheetsToLoad&&this.callback.apply(this.callbackContext||this,[this.data(),this])},log:function(e){this.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.log&&Function.prototype.apply.apply(console.log,[console,arguments])}},c.Model=function(e){var t,n,i,a;if(this.column_names=[],this.name=e.data.feed.title.$t,this.tabletop=e.tabletop,this.elements=[],this.onReady=e.onReady,this.raw=e.data,"undefined"==typeof e.data.feed.entry)return e.tabletop.log("Missing data for "+this.name+", make sure you didn't forget column headers"),this.original_columns=[],this.elements=[],void this.onReady.call(this);for(var o in e.data.feed.entry[0])/^gsx/.test(o)&&this.column_names.push(o.replace("gsx$",""));for(this.original_columns=this.column_names,t=0,i=e.data.feed.entry.length;i>t;t++){for(var s=e.data.feed.entry[t],r={},n=0,a=this.column_names.length;a>n;n++){var l=s["gsx$"+this.column_names[n]];"undefined"!=typeof l?e.parseNumbers&&""!==l.$t&&!isNaN(l.$t)?r[this.column_names[n]]=+l.$t:r[this.column_names[n]]=l.$t:r[this.column_names[n]]=""}void 0===r.rowNumber&&(r.rowNumber=t+1),e.postProcess&&e.postProcess(r),this.elements.push(r)}e.prettyColumnNames?this.fetchPrettyColumns():this.onReady.call(this)},c.Model.prototype={all:function(){return this.elements},fetchPrettyColumns:function(){if(!this.raw.feed.link[3])return this.ready();var e=this.raw.feed.link[3].href.replace("/feeds/list/","/feeds/cells/").replace("https://spreadsheets.google.com",""),t=this;this.tabletop.requestData(e,function(e){t.loadPrettyColumns(e)})},ready:function(){this.onReady.call(this)},loadPrettyColumns:function(e){for(var t={},n=this.column_names,i=0,a=n.length;a>i;i++)"undefined"!=typeof e.feed.entry[i].content.$t?t[n[i]]=e.feed.entry[i].content.$t:t[n[i]]=n[i];this.pretty_columns=t,this.prettifyElements(),this.ready()},prettifyElements:function(){var e,t,n,i,a,o=[],a=[];for(t=0,i=this.column_names.length;i>t;t++)a.push(this.pretty_columns[this.column_names[t]]);for(e=0,n=this.elements.length;n>e;e++){var s={};for(t=0,i=this.column_names.length;i>t;t++){var r=this.pretty_columns[this.column_names[t]];s[r]=this.elements[e][this.column_names[t]]}o.push(s)}this.elements=o,this.column_names=a},toArray:function(){var e,t,n,i,a=[];for(e=0,n=this.elements.length;n>e;e++){var o=[];for(t=0,i=this.column_names.length;i>t;t++)o.push(this.elements[e][this.column_names[t]]);a.push(o)}return a}},t?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):e.Tabletop=c}(this),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class=".*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function t(e){e=e.getElementsByTagName("a");for(var t=e.length-1;t>=0;t--)e[t].setAttribute("target","_blank")}function n(e,t){for(var n=[],i=new RegExp("(^| )"+t+"( |$)"),a=e.getElementsByTagName("*"),o=0,s=a.length;s>o;o++)i.test(a[o].className)&&n.push(a[o]);return n}var i="",a=20,o=!0,s=[],r=!1,l=!0,c=!0,u=null,d=!0,p=!0,m=null,h=!0,f=!1,y=!0,v=!0,g=null,b={fetch:function(e){if(void 0===e.maxTweets&&(e.maxTweets=20),void 0===e.enableLinks&&(e.enableLinks=!0),void 0===e.showUser&&(e.showUser=!0),void 0===e.showTime&&(e.showTime=!0),void 0===e.dateFunction&&(e.dateFunction="default"),void 0===e.showRetweet&&(e.showRetweet=!0),void 0===e.customCallback&&(e.customCallback=null),void 0===e.showInteraction&&(e.showInteraction=!0),void 0===e.showImages&&(e.showImages=!1),void 0===e.linksInNewWindow&&(e.linksInNewWindow=!0),void 0===e.showPermalinks&&(e.showPermalinks=!0),r)s.push(e);else{r=!0,i=e.domId,a=e.maxTweets,o=e.enableLinks,c=e.showUser,l=e.showTime,p=e.showRetweet,u=e.dateFunction,m=e.customCallback,h=e.showInteraction,f=e.showImages,y=e.linksInNewWindow,v=e.showPermalinks;var t=document.getElementsByTagName("head")[0];null!==g&&t.removeChild(g),g=document.createElement("script"),g.type="text/javascript",g.src="https://cdn.syndication.twimg.com/widgets/timelines/"+e.id+"?&lang="+(e.lang||"en")+"&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+Math.random(),t.appendChild(g)}},callback:function(s){var r=document.createElement("div");r.innerHTML=s.body,"undefined"==typeof r.getElementsByClassName&&(d=!1),s=[];var g=[],b=[],w=[],x=[],T=[],P=[],k=0;if(d)for(r=r.getElementsByClassName("tweet");k<r.length;)0<r[k].getElementsByClassName("retweet-credit").length?x.push(!0):x.push(!1),(!x[k]||x[k]&&p)&&(s.push(r[k].getElementsByClassName("e-entry-title")[0]),T.push(r[k].getAttribute("data-tweet-id")),g.push(r[k].getElementsByClassName("p-author")[0]),b.push(r[k].getElementsByClassName("dt-updated")[0]),P.push(r[k].getElementsByClassName("permalink")[0]),void 0!==r[k].getElementsByClassName("inline-media")[0]?w.push(r[k].getElementsByClassName("inline-media")[0]):w.push(void 0)),k++;else for(r=n(r,"tweet");k<r.length;)s.push(n(r[k],"e-entry-title")[0]),T.push(r[k].getAttribute("data-tweet-id")),g.push(n(r[k],"p-author")[0]),b.push(n(r[k],"dt-updated")[0]),P.push(n(r[k],"permalink")[0]),void 0!==n(r[k],"inline-media")[0]?w.push(n(r[k],"inline-media")[0]):w.push(void 0),0<n(r[k],"retweet-credit").length?x.push(!0):x.push(!1),k++;for(s.length>a&&(s.splice(a,s.length-a),g.splice(a,g.length-a),b.splice(a,b.length-a),x.splice(a,x.length-a),w.splice(a,w.length-a),P.splice(a,P.length-a)),r=[],k=s.length,x=0;k>x;){if("string"!=typeof u){var C=b[x].getAttribute("datetime"),I=new Date(b[x].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),C=u(I,C);if(b[x].setAttribute("aria-label",C),s[x].innerText)if(d)b[x].innerText=C;else{var I=document.createElement("p"),S=document.createTextNode(C);I.appendChild(S),I.setAttribute("aria-label",C),b[x]=I}else b[x].textContent=C}C="",o?(y&&(t(s[x]),c&&t(g[x])),c&&(C+='<div class="user">'+e(g[x].innerHTML)+"</div>"),C+='<p class="tweet">'+e(s[x].innerHTML)+"</p>",l&&(C=v?C+('<p class="timePosted"><a href="'+P[x]+'">'+b[x].getAttribute("aria-label")+"</a></p>"):C+('<p class="timePosted">'+b[x].getAttribute("aria-label")+"</p>"))):s[x].innerText?(c&&(C+='<p class="user">'+g[x].innerText+"</p>"),C+='<p class="tweet">'+s[x].innerText+"</p>",l&&(C+='<p class="timePosted">'+b[x].innerText+"</p>")):(c&&(C+='<p class="user">'+g[x].textContent+"</p>"),C+='<p class="tweet">'+s[x].textContent+"</p>",l&&(C+='<p class="timePosted">'+b[x].textContent+"</p>")),h&&(C+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+T[x]+'" class="twitter_reply_icon"'+(y?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+T[x]+'" class="twitter_retweet_icon"'+(y?' target="_blank">':">")+'Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+T[x]+'" class="twitter_fav_icon"'+(y?' target="_blank">':">")+"Favorite</a></p>"),f&&void 0!==w[x]&&(I=w[x],void 0!==I?(I=I.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0],I=decodeURIComponent(I).split('"')[1]):I=void 0,C+='<div class="media"><img src="'+I+'" alt="Image from tweet" /></div>'),r.push(C),x++}if(null===m){for(s=r.length,g=0,b=document.getElementById(i),w="<ul>";s>g;)w+="<li>"+r[g]+"</li>",g++;b.innerHTML=w+"</ul>"}}};return window.twitterFetcher=b});var config1={id:"623173244095303680",domId:"tweets",maxTweets:3,showUser:!0,enableLinks:!0,showPermalinks:!1};twitterFetcher.fetch(config1);var ytp=ytp||{};!function(jQuery,ytp){var nAgt=navigator.userAgent;if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.fn.CSSAnimate=function(e,t,n,i,a){function o(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function s(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+$/)?""+e+t:e}return jQuery.support.CSStransition=function(){var e=(document.body||document.documentElement).style;return void 0!==e.transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition}(),this.each(function(){var r=this,l=jQuery(this);r.id=r.id||"CSSA_"+(new Date).getTime();var c=c||{type:"noEvent"};if(r.CSSAIsRunning&&r.eventType==c.type)r.CSSqueue=function(){l.CSSAnimate(e,t,n,i,a)};else if(r.CSSqueue=null,r.eventType=c.type,0!==l.length&&e){if(r.CSSAIsRunning=!0,"function"==typeof t&&(a=t,t=jQuery.fx.speeds._default),"function"==typeof n&&(a=n,n=0),"function"==typeof i&&(a=i,i="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof t)for(var u in jQuery.fx.speeds){if(t==u){t=jQuery.fx.speeds[u];break}t=jQuery.fx.speeds._default}if(t||(t=jQuery.fx.speeds._default),jQuery.support.CSStransition){c={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},c[i]&&(i=c[i]);var d="",p="transitionEnd";jQuery.browser.webkit?(d="-webkit-",p="webkitTransitionEnd"):jQuery.browser.mozilla?(d="-moz-",p="transitionend"):jQuery.browser.opera?(d="-o-",p="otransitionend"):jQuery.browser.msie&&(d="-ms-",p="msTransitionEnd"),c=[];for(m in e)u=m,"transform"===u&&(u=d+"transform",e[u]=e[m],delete e[m]),"filter"===u&&(u=d+"filter",e[u]=e[m],delete e[m]),("transform-origin"===u||"origin"===u)&&(u=d+"transform-origin",e[u]=e[m],delete e[m]),"x"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" translateX("+s(e[m],"px")+")",delete e[m]),"y"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" translateY("+s(e[m],"px")+")",delete e[m]),"z"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" translateZ("+s(e[m],"px")+")",delete e[m]),"rotate"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" rotate("+s(e[m],"deg")+")",delete e[m]),"rotateX"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" rotateX("+s(e[m],"deg")+")",delete e[m]),"rotateY"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" rotateY("+s(e[m],"deg")+")",
delete e[m]),"rotateZ"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" rotateZ("+s(e[m],"deg")+")",delete e[m]),"scale"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" scale("+s(e[m],"")+")",delete e[m]),"scaleX"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" scaleX("+s(e[m],"")+")",delete e[m]),"scaleY"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" scaleY("+s(e[m],"")+")",delete e[m]),"scaleZ"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" scaleZ("+s(e[m],"")+")",delete e[m]),"skew"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" skew("+s(e[m],"deg")+")",delete e[m]),"skewX"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" skewX("+s(e[m],"deg")+")",delete e[m]),"skewY"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" skewY("+s(e[m],"deg")+")",delete e[m]),"perspective"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" perspective("+s(e[m],"px")+")",delete e[m]),0>c.indexOf(u)&&c.push(o(u));var m=c.join(","),h=function(){l.off(p+"."+r.id),clearTimeout(r.timeout),l.css(d+"transition",""),"function"==typeof a&&a(l),r.called=!0,r.CSSAIsRunning=!1,"function"==typeof r.CSSqueue&&(r.CSSqueue(),r.CSSqueue=null)},f={};jQuery.extend(f,e),f[d+"transition-property"]=m,f[d+"transition-duration"]=t+"ms",f[d+"transition-delay"]=n+"ms",f[d+"transition-style"]="preserve-3d",f[d+"transition-timing-function"]=i,setTimeout(function(){l.one(p+"."+r.id,h),l.css(f)},1),r.timeout=setTimeout(function(){l.called||!a?(l.called=!1,r.CSSAIsRunning=!1):(l.css(d+"transition",""),a(l),r.CSSAIsRunning=!1,"function"==typeof r.CSSqueue&&(r.CSSqueue(),r.CSSqueue=null))},t+n+100)}else{for(var m in e)"transform"===m&&delete e[m],"filter"===m&&delete e[m],"transform-origin"===m&&delete e[m],"auto"===e[m]&&delete e[m];a&&"string"!=typeof a||(a="linear"),l.animate(e,t,a)}}})};var getYTPVideoID=function(e){var t,n;return e.indexOf("youtu.be")>0?(t=e.substr(e.lastIndexOf("/")+1,e.length),n=t.indexOf("?list=")>0?t.substr(t.lastIndexOf("="),t.length):null,t=n?t.substr(0,t.lastIndexOf("?")):t):e.indexOf("http")>-1?(t=e.match(/[\\?&]v=([^&#]*)/)[1],n=e.indexOf("list=")>0?e.match(/[\\?&]list=([^&#]*)/)[1]:null):(t=e.length>15?null:e,n=t?null:e),{videoID:t,playlistID:n}};jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"2.8.1",author:"Matteo Bicocchi",defaults:{containment:"body",ratio:"auto",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:!0,vol:100,addRaster:!1,opacity:1,quality:"default",mute:!1,loop:!0,showControls:!0,showAnnotations:!1,showYTLogo:!0,stopMovieOnClick:!1,stopMovieOnBlur:!0,realfullscreen:!0,gaTrack:!0,optimizeDisplay:!0,onReady:function(){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},locationProtocol:"https:",buildPlayer:function(options){return this.each(function(){var YTPlayer=this,$YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0,YTPlayer.opt={},$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&"string"==typeof $YTPlayer.data("property")?eval("("+$YTPlayer.data("property")+")"):$YTPlayer.data("property");"undefined"!=typeof property&&"undefined"!=typeof property.vol&&(property.vol=0==property.vol?property.vol=1:property.vol),jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property),YTPlayer.isRetina=window.retina||window.devicePixelRatio>1;var isIframe=function(){var e=!1;try{self.location.href!=top.location.href&&(e=!0)}catch(t){e=!0}return e};YTPlayer.canGoFullScreen=!(jQuery.browser.msie||jQuery.browser.opera||isIframe()),YTPlayer.canGoFullScreen||(YTPlayer.opt.realfullscreen=!1),$YTPlayer.attr("id")||$YTPlayer.attr("id","video_"+(new Date).getTime());var playerID="mbYTP_"+YTPlayer.id;YTPlayer.isAlone=!1,YTPlayer.hasFocus=!0;var videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).videoID:!1,playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).playlistID:!1;YTPlayer.videoID=videoID,YTPlayer.playlistID=playlistID,YTPlayer.opt.showAnnotations=YTPlayer.opt.showAnnotations?"0":"3";var playerVars={autoplay:0,modestbranding:1,controls:0,showinfo:0,rel:0,enablejsapi:1,version:3,playerapiid:playerID,origin:"*",allowfullscreen:!0,wmode:"transparent",iv_load_policy:YTPlayer.opt.showAnnotations},v=document.createElement("video");v.canPlayType&&jQuery.extend(playerVars,{html5:1}),jQuery.browser.msie&&jQuery.browser.version<9&&(this.opt.opacity=1);var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox"),overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay");if(YTPlayer.isSelf="self"==YTPlayer.opt.containment,YTPlayer.opt.containment=jQuery("self"==YTPlayer.opt.containment?this:YTPlayer.opt.containment),YTPlayer.isBackground="body"==YTPlayer.opt.containment.get(0).tagName.toLowerCase(),!YTPlayer.isBackground||!ytp.backgroundIsInited){var isPlayer=YTPlayer.opt.containment.is(jQuery(this));if(YTPlayer.canPlayOnMobile=isPlayer&&0==jQuery(this).children().length,isPlayer?YTPlayer.isPlayer=!0:$YTPlayer.hide(),jQuery.browser.mobile&&!YTPlayer.canPlayOnMobile)return void $YTPlayer.remove();if(YTPlayer.opt.addRaster){var classN="dot"==YTPlayer.opt.addRaster?"raster-dot":"raster";overlay.addClass(YTPlayer.isRetina?classN+" retina":classN)}else overlay.removeClass(function(e,t){var n=t.split(" "),i=[];return jQuery.each(n,function(e,t){/raster-.*/.test(t)&&i.push(t)}),i.push("retina"),i.join(" ")});var wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+playerID);if(wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0}),playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}),wrapper.append(playerBox),YTPlayer.opt.containment.children().not("script, style").each(function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")}),YTPlayer.isBackground?(jQuery("body").css({boxSizing:"border-box"}),wrapper.css({position:"fixed",top:0,left:0,zIndex:0,webkitTransform:"translateZ(0)"}),$YTPlayer.hide()):"static"==YTPlayer.opt.containment.css("position")&&YTPlayer.opt.containment.css({position:"relative"}),YTPlayer.opt.containment.prepend(wrapper),YTPlayer.wrapper=wrapper,playerBox.css({opacity:1}),jQuery.browser.mobile||(playerBox.after(overlay),YTPlayer.overlay=overlay),YTPlayer.isBackground||overlay.on("mouseenter",function(){$YTPlayer.find(".mb_YTPBar").addClass("visible")}).on("mouseleave",function(){$YTPlayer.find(".mb_YTPBar").removeClass("visible")}),ytp.YTAPIReady)setTimeout(function(){jQuery(document).trigger("YTAPIReady")},100);else{jQuery("#YTAPI").remove();var tag=jQuery("<script></script>").attr({src:jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/player_api?v="+jQuery.mbYTPlayer.version,id:"YTAPI"});jQuery("head title").after(tag)}jQuery(document).on("YTAPIReady",function(){YTPlayer.isBackground&&ytp.backgroundIsInited||YTPlayer.isInit||(YTPlayer.isBackground&&YTPlayer.opt.stopMovieOnClick&&jQuery(document).off("mousedown.ytplayer").on("mousedown.ytplayer",function(e){var t=jQuery(e.target);(t.is("a")||t.parents().is("a"))&&$YTPlayer.pauseYTP()}),YTPlayer.isBackground&&(ytp.backgroundIsInited=!0),YTPlayer.opt.autoPlay="undefined"==typeof YTPlayer.opt.autoPlay?YTPlayer.isBackground?!0:!1:YTPlayer.opt.autoPlay,YTPlayer.opt.vol=YTPlayer.opt.vol?YTPlayer.opt.vol:100,jQuery.mbYTPlayer.getDataFromFeed(YTPlayer),jQuery(YTPlayer).on("YTPChanged",function(){return YTPlayer.isInit?void 0:(YTPlayer.isInit=!0,jQuery.browser.mobile&&YTPlayer.canPlayOnMobile?void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),height:"100%",width:"100%",videoId:YTPlayer.videoID,events:{onReady:function(e){YTPlayer.player=e.target,playerBox.css({opacity:1}),YTPlayer.wrapper.css({opacity:YTPlayer.opt.opacity}),$YTPlayer.optimizeDisplay()},onStateChange:function(){}}}):void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{onReady:function(e){if(YTPlayer.player=e.target,!YTPlayer.isReady){YTPlayer.isReady=!0,YTPlayer.playerEl=YTPlayer.player.getIframe(),$YTPlayer.optimizeDisplay(),YTPlayer.videoID=videoID,jQuery(window).on("resize.YTP",function(){$YTPlayer.optimizeDisplay()}),YTPlayer.opt.showControls&&jQuery(YTPlayer).buildYTPControls();var t=YTPlayer.opt.startAt?YTPlayer.opt.startAt:1;YTPlayer.player.setVolume(0),jQuery(YTPlayer).muteYTPVolume(),jQuery.mbYTPlayer.checkForState(YTPlayer),YTPlayer.checkForStartAt=setInterval(function(){var e=YTPlayer.player.getVideoLoadedFraction()>t/YTPlayer.player.getDuration();YTPlayer.player.getDuration()>0&&YTPlayer.player.getCurrentTime()>=t&&e?(clearInterval(YTPlayer.checkForStartAt),YTPlayer.player.setVolume(0),jQuery(YTPlayer).muteYTPVolume(),"function"==typeof YTPlayer.opt.onReady&&YTPlayer.opt.onReady(YTPlayer),YTPlayer.opt.mute||jQuery(YTPlayer).unmuteYTP(),YTPlayer.player.pauseVideo(),setTimeout(function(){YTPlayer.canTrigger=!0,YTPlayer.opt.autoPlay?($YTPlayer.playYTP(),$YTPlayer.css("background-image","none"),YTPlayer.wrapper.CSSAnimate({opacity:YTPlayer.isAlone?1:YTPlayer.opt.opacity},2e3)):YTPlayer.player.pauseVideo()},100)):(YTPlayer.player.playVideo(),YTPlayer.player.seekTo(t,!0));var n=jQuery.Event("YTPReady");jQuery(YTPlayer).trigger(n)},1e3)}},onStateChange:function(event){if("function"==typeof event.target.getPlayerState){var state=event.target.getPlayerState();if(YTPlayer.state!=state){YTPlayer.state=state;var controls=jQuery("#controlBar_"+YTPlayer.id),eventType;switch(state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPEnd";break;case 1:eventType="YTPStart",controls.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),"undefined"!=typeof _gaq&&eval(YTPlayer.opt.gaTrack)&&_gaq.push(["_trackEvent","YTPlayer","Play",YTPlayer.videoTitle||YTPlayer.videoID.toString()]),"undefined"!=typeof ga&&eval(YTPlayer.opt.gaTrack)&&ga("send","event","YTPlayer","play",YTPlayer.videoTitle||YTPlayer.videoID.toString());break;case 2:eventType="YTPPause",controls.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:jQuery.browser.chrome||YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),eventType="YTPBuffering",jQuery.browser.chrome||YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),controls.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play),setTimeout(function(){controls.show(1e3)},2e3);break;case 5:eventType="YTPCued"}var YTPevent=jQuery.Event(eventType);YTPevent.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(YTPevent)}}},onPlaybackQualityChange:function(e){var t=e.target.getPlaybackQuality(),n=jQuery.Event("YTPQualityChange");n.quality=t,jQuery(YTPlayer).trigger(n)},onError:function(e){150==e.data&&(console.log("Embedding this video is restricted by Youtube."),YTPlayer.isPlayList&&jQuery(YTPlayer).playNext()),2==e.data&&YTPlayer.isPlayList&&jQuery(YTPlayer).playNext(),"function"==typeof YTPlayer.opt.onError&&YTPlayer.opt.onError($YTPlayer,e)}}}))}))})}})},getDataFromFeed:function(e){jQuery.browser.msie&&jQuery.browser.version<=9?("auto"==e.opt.ratio?e.opt.ratio="16/9":e.opt.ratio,e.hasData||(e.hasData=!0,setTimeout(function(){jQuery(e).trigger("YTPChanged")},100))):(jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//gdata.youtube.com/feeds/api/videos/"+e.videoID+"?v=2&alt=jsonc",function(t){e.dataReceived=!0,e.videoData=t.data,jQuery(e).trigger("YTPChanged");var n=jQuery.Event("YTPData");n.prop={};for(var i in e.videoData)n.prop[i]=e.videoData[i];if(jQuery(e).trigger(n),e.videoTitle=e.videoData.title,"auto"==e.opt.ratio&&(e.opt.ratio=e.videoData.aspectRatio&&"widescreen"===e.videoData.aspectRatio?"16/9":"4/3"),!e.hasData&&(e.hasData=!0,e.isPlayer)){var a=e.videoData.thumbnail.hqDefault;e.opt.containment.css({background:"rgba(0,0,0,0.5) url("+a+") center center",backgroundSize:"cover"})}}),setTimeout(function(){e.dataReceived||e.hasData||(e.hasData=!0,jQuery(e).trigger("YTPChanged"))},1500))},getVideoData:function(){var e=this.get(0);return e.videoData},getVideoID:function(){var e=this.get(0);return e.videoID||!1},setVideoQuality:function(e){var t=this.get(0);jQuery.browser.chrome||t.player.setPlaybackQuality(e)},YTPlaylist:function(e,t,n){var i=this.get(0);i.isPlayList=!0,t&&(e=jQuery.shuffle(e)),i.videoID||(i.videos=e,i.videoCounter=0,i.videoLength=e.length,jQuery(i).data("property",e[0]),jQuery(i).mb_YTPlayer()),"function"==typeof n&&jQuery(i).on("YTPChanged",function(){n(i)}),jQuery(i).on("YTPEnd",function(){jQuery(i).playNext()})},playNext:function(){var e=this.get(0);e.videoCounter++,e.videoCounter>=e.videoLength&&(e.videoCounter=0),jQuery(e.playerEl).css({opacity:0}),jQuery(e).changeMovie(e.videos[e.videoCounter])},playPrev:function(){var e=this.get(0);e.videoCounter--,e.videoCounter<0&&(e.videoCounter=e.videoLength-1),jQuery(e.playerEl).css({opacity:0}),jQuery(e).changeMovie(e.videos[e.videoCounter])},changeMovie:function(e){var t=this.get(0);t.opt.startAt=0,t.opt.stopAt=0,t.opt.mute=!0,e&&jQuery.extend(t.opt,e),t.videoID=getYTPVideoID(t.opt.videoURL).videoID,jQuery(t).pauseYTP();var n=jQuery.browser.msie?1e3:0;jQuery(t.playerEl).CSSAnimate({opacity:0},n),setTimeout(function(){var e=jQuery.browser.chrome?"default":t.opt.quality;jQuery(t).getPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+t.videoID),1,e),jQuery(t).playYTP(),jQuery(t).one("YTPStart",function(){t.wrapper.CSSAnimate({opacity:t.isAlone?1:t.opt.opacity},1e3),jQuery(t.playerEl).CSSAnimate({opacity:1},n),t.opt.startAt&&t.player.seekTo(t.opt.startAt),jQuery.mbYTPlayer.checkForState(t),t.opt.autoPlay||jQuery(t).pauseYTP()}),t.opt.mute?jQuery(t).muteYTPVolume():jQuery(t).unmuteYTP()},n),t.opt.addRaster?t.overlay.addClass(t.isRetina?"raster retina":"raster"):t.overlay.removeClass("raster").removeClass("retina"),jQuery("#controlBar_"+t.id).remove(),t.opt.showControls&&jQuery(t).buildYTPControls(),jQuery.mbYTPlayer.getDataFromFeed(t),jQuery(t).optimizeDisplay()},getPlayer:function(){return jQuery(this).get(0).player},playerDestroy:function(){var e=this.get(0);ytp.YTAPIReady=!1,ytp.backgroundIsInited=!1,e.isInit=!1,e.videoID=null;var t=e.wrapper;t.remove(),jQuery("#controlBar_"+e.id).remove()},fullscreen:function(real){function RunPrefixMethod(e,t){for(var n,i,a=["webkit","moz","ms","o",""],o=0;o<a.length&&!e[n];){if(n=t,""==a[o]&&(n=n.substr(0,1).toLowerCase()+n.substr(1)),n=a[o]+n,i=typeof e[n],"undefined"!=i)return a=[a[o]],"function"==i?e[n]():e[n];o++}}function launchFullscreen(e){RunPrefixMethod(e,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}var YTPlayer=this.get(0);"undefined"==typeof real&&(real=YTPlayer.opt.realfullscreen),real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id),fullScreenBtn=controls.find(".mb_OnlyYT"),videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper;if(real){var fullscreenchange=jQuery.browser.mozilla?"mozfullscreenchange":jQuery.browser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){var e=RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen");e?(jQuery(YTPlayer).setVideoQuality("default"),jQuery(YTPlayer).trigger("YTPFullScreenStart")):(YTPlayer.isAlone=!1,fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),jQuery(YTPlayer).setVideoQuality(YTPlayer.opt.quality),videoWrapper.removeClass("fullscreen"),videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0}),YTPlayer.isBackground?jQuery("body").after(controls):YTPlayer.wrapper.before(controls),jQuery(window).resize(),jQuery(YTPlayer).trigger("YTPFullScreenEnd"))})}YTPlayer.isAlone?(real?cancelFullscreen():(videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0})),fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),YTPlayer.isAlone=!1):(real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("fullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},1e3),YTPlayer.wrapper.append(controls),jQuery(YTPlayer).optimizeDisplay(),YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,!0)},500)):videoWrapper.css({zIndex:1e4}).CSSAnimate({opacity:1},1e3),fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite),YTPlayer.isAlone=!0)},playYTP:function(){var e=this.get(0);if("undefined"!=typeof e.player){var t=jQuery("#controlBar_"+e.id),n=t.find(".mb_YTPPlaypause");n.html(jQuery.mbYTPlayer.controls.pause),e.player.playVideo(),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},2e3),jQuery(e).on("YTPStart",function(){jQuery(e).css("background-image","none")})}},toggleLoops:function(){var e=this.get(0),t=e.opt;1==t.loop?t.loop=0:(t.startAt?e.player.seekTo(t.startAt):e.player.playVideo(),t.loop=1)},stopYTP:function(){var e=this.get(0),t=jQuery("#controlBar_"+e.id),n=t.find(".mb_YTPPlaypause");n.html(jQuery.mbYTPlayer.controls.play),e.player.stopVideo()},pauseYTP:function(){var e=this.get(0);e.opt;var t=jQuery("#controlBar_"+e.id),n=t.find(".mb_YTPPlaypause");n.html(jQuery.mbYTPlayer.controls.play),e.player.pauseVideo()},seekToYTP:function(e){var t=this.get(0);t.player.seekTo(e,!0)},setYTPVolume:function(e){var t=this.get(0);e||t.opt.vol||0!=t.player.getVolume()?!e&&t.player.getVolume()>0||e&&t.player.getVolume()==e?jQuery(t).muteYTPVolume():t.opt.vol=e:jQuery(t).unmuteYTP(),t.player.setVolume(t.opt.vol)},muteYTP:function(){var e=this.get(0);e.player.mute(),e.player.setVolume(0);var t=jQuery("#controlBar_"+e.id),n=t.find(".mb_YTPMuteUnmute");n.html(jQuery.mbYTPlayer.controls.unmute),jQuery(e).addClass("isMuted"),jQuery(e).trigger("YTPMuted")},unmuteYTP:function(){var e=this.get(0);e.player.unMute(),e.player.setVolume(e.opt.vol);var t=jQuery("#controlBar_"+e.id),n=t.find(".mb_YTPMuteUnmute");n.html(jQuery.mbYTPlayer.controls.mute),jQuery(e).removeClass("isMuted"),jQuery(e).trigger("YTPUnmuted")},manageYTPProgress:function(){var e=this.get(0),t=jQuery("#controlBar_"+e.id),n=t.find(".mb_YTPProgress"),i=t.find(".mb_YTPLoaded"),a=t.find(".mb_YTPseekbar"),o=n.outerWidth(),s=Math.floor(e.player.getCurrentTime()),r=Math.floor(e.player.getDuration()),l=s*o/r,c=0,u=100*e.player.getVideoLoadedFraction();return i.css({left:c,width:u+"%"}),a.css({left:0,width:l}),{totalTime:r,currentTime:s}},buildYTPControls:function(){var YTPlayer=this.get(0),data=YTPlayer.opt;if(data.showYTLogo=data.showYTLogo||data.printUrl,!jQuery("#controlBar_"+YTPlayer.id).length){var controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?1e4:1e3}).hide();YTPlayer.controlBar=controlBar;var buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){1==YTPlayer.player.getPlayerState()?jQuery(YTPlayer).pauseYTP():jQuery(YTPlayer).playYTP()}),MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){0==YTPlayer.player.getVolume()?jQuery(YTPlayer).unmuteYTP():jQuery(YTPlayer).muteYTP()}),idx=jQuery("<span/>").addClass("mb_YTPTime"),vURL=data.videoURL?data.videoURL:"";vURL.indexOf("http")<0&&(vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL);var movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")}),onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).fullscreen(data.realfullscreen)}),progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(e){timeBar.css({width:e.clientX-timeBar.offset().left}),YTPlayer.timeW=e.clientX-timeBar.offset().left,controlBar.find(".mb_YTPLoaded").css({width:0});var t=Math.floor(YTPlayer.player.getDuration());YTPlayer["goto"]=timeBar.outerWidth()*t/progressBar.outerWidth(),YTPlayer.player.seekTo(parseFloat(YTPlayer["goto"]),!0),controlBar.find(".mb_YTPLoaded").css({width:0})}),loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute");progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(idx),data.showYTLogo&&buttonBar.append(movieUrl),(YTPlayer.isBackground||eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground)&&buttonBar.append(onlyVideo),controlBar.append(buttonBar).append(progressBar),YTPlayer.isBackground?jQuery("body").after(controlBar):(controlBar.addClass("inlinePlayer"),YTPlayer.wrapper.before(controlBar))}},checkForState:function(YTPlayer){var interval=YTPlayer.opt.showControls?10:1e3;clearInterval(YTPlayer.getState),YTPlayer.getState=setInterval(function(){var prog=jQuery(YTPlayer).manageYTPProgress(),$YTPlayer=jQuery(YTPlayer),controlBar=jQuery("#controlBar_"+YTPlayer.id),data=YTPlayer.opt,startAt=YTPlayer.opt.startAt?YTPlayer.opt.startAt:1,stopAt=YTPlayer.opt.stopAt>YTPlayer.opt.startAt?YTPlayer.opt.stopAt:0;if(stopAt=stopAt<YTPlayer.player.getDuration()?stopAt:0,YTPlayer.player.time!=prog.currentTime){var YTPevent=jQuery.Event("YTPTime");YTPevent.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(YTPevent)}if(YTPlayer.player.time=prog.currentTime,0==YTPlayer.player.getVolume()?$YTPlayer.addClass("isMuted"):$YTPlayer.removeClass("isMuted"),YTPlayer.opt.showControls&&(prog.totalTime?controlBar.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(prog.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(prog.totalTime)):controlBar.find(".mb_YTPTime").html("-- : -- / -- : --")),eval(YTPlayer.opt.stopMovieOnBlur)&&(document.hasFocus()?document.hasFocus()&&!YTPlayer.hasFocus&&-1!=YTPlayer.state&&0!=YTPlayer.state&&(YTPlayer.hasFocus=!0,$YTPlayer.playYTP()):1==YTPlayer.state&&(YTPlayer.hasFocus=!1,$YTPlayer.pauseYTP())),1==YTPlayer.player.getPlayerState()&&(parseFloat(YTPlayer.player.getDuration()-3)<YTPlayer.player.getCurrentTime()||stopAt>0&&parseFloat(YTPlayer.player.getCurrentTime())>stopAt)){if(YTPlayer.isEnded)return;if(YTPlayer.isEnded=!0,setTimeout(function(){YTPlayer.isEnded=!1},2e3),YTPlayer.isPlayList){clearInterval(YTPlayer.getState);var YTPEnd=jQuery.Event("YTPEnd");return YTPEnd.time=YTPlayer.player.time,void jQuery(YTPlayer).trigger(YTPEnd)}data.loop?YTPlayer.player.seekTo(startAt,!0):(YTPlayer.player.pauseVideo(),YTPlayer.wrapper.CSSAnimate({opacity:0},1e3,function(){var e=jQuery.Event("YTPEnd");if(e.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(e),YTPlayer.player.seekTo(startAt,!0),!YTPlayer.isBackground){var t=YTPlayer.videoData.thumbnail.hqDefault;jQuery(YTPlayer).css({background:"rgba(0,0,0,0.5) url("+t+") center center",backgroundSize:"cover"})}}))}},interval)},formatTime:function(e){var t=Math.floor(e/60),n=Math.floor(e-60*t);return(9>=t?"0"+t:t)+" : "+(9>=n?"0"+n:n)}},jQuery.fn.toggleVolume=function(){var e=this.get(0);return e?e.player.isMuted()?(jQuery(e).unmuteYTP(),!0):(jQuery(e).muteYTP(),!1):void 0},jQuery.fn.optimizeDisplay=function(){var e=this.get(0),t=e.opt,n=jQuery(e.playerEl),i={},a=e.wrapper;i.width=a.outerWidth(),i.height=a.outerHeight();var o=24,s=100,r={};t.optimizeDisplay?(r.width=i.width+i.width*o/100,r.height="16/9"==t.ratio?Math.ceil(9*i.width/16):Math.ceil(3*i.width/4),r.marginTop=-((r.height-i.height)/2),r.marginLeft=-(i.width*(o/2)/100),r.height<i.height&&(r.height=i.height+i.height*o/100,r.width="16/9"==t.ratio?Math.floor(16*i.height/9):Math.floor(4*i.height/3),r.marginTop=-(i.height*(o/2)/100),r.marginLeft=-((r.width-i.width)/2)),r.width+=s,r.height+=s,r.marginTop-=s/2,r.marginLeft-=s/2):(r.width="100%",r.height="100%",r.marginTop=0,r.marginLeft-=0),n.css({width:r.width,height:r.height,marginTop:r.marginTop,marginLeft:r.marginLeft})},jQuery.shuffle=function(e){for(var t=e.slice(),n=t.length,i=n;i--;){var a=parseInt(Math.random()*n),o=t[i];t[i]=t[a],t[a]=o}return t},jQuery.fn.YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.YTPlaylist=jQuery.mbYTPlayer.YTPlaylist,jQuery.fn.playNext=jQuery.mbYTPlayer.playNext,jQuery.fn.playPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.changeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.getVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.getPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.playerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.fullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.buildYTPControls=jQuery.mbYTPlayer.buildYTPControls,jQuery.fn.playYTP=jQuery.mbYTPlayer.playYTP,jQuery.fn.toggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.stopYTP=jQuery.mbYTPlayer.stopYTP,jQuery.fn.pauseYTP=jQuery.mbYTPlayer.pauseYTP,jQuery.fn.seekToYTP=jQuery.mbYTPlayer.seekToYTP,jQuery.fn.muteYTP=jQuery.mbYTPlayer.muteYTP,jQuery.fn.unmuteYTP=jQuery.mbYTPlayer.unmuteYTP,jQuery.fn.setYTPVolume=jQuery.mbYTPlayer.setYTPVolume,jQuery.fn.setVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.manageYTPProgress=jQuery.mbYTPlayer.manageYTPProgress,jQuery.fn.getDataFromFeed=jQuery.mbYTPlayer.getVideoData,jQuery.fn.mb_YTPlayer=jQuery.fn.YTPlayer,jQuery.fn.muteYTPVolume=jQuery.mbYTPlayer.muteYTP,jQuery.fn.unmuteYTPVolume=jQuery.mbYTPlayer.unmuteYTP}(jQuery,ytp);