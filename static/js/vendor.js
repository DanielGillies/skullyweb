function youmaxSaveToken(e){e.status.signed_in&&(youmaxLoggedInUser.youmaxAccessToken=e.access_token,jQuery(".youmax-add-comment-button").removeAttr("disabled").html('<i class="fa fa-send fa-2x"></i>'))}function mr_parallax(){function e(e){for(var t=0;t<e.length;t++)if("undefined"!=typeof document.body.style[e[t]])return e[t];return null}function t(){E=void 0==window.mr_variant?!1:!0,E&&(j=$(".viu").get(0),void 0!=j&&(j.scrollBy=function(e,t){this.scrollTop+=t})),void 0!=j&&(j.addEventListener("scroll",s,!1),window.addWheelListener(j,l,!1),window.addEventListener("resize",function(){f=Math.max(document.documentElement.clientHeight,window.innerHeight||0),m=n(),I.profileParallaxElements()},!1),i())}function n(){var e=0;return e=E?$(".viu").find("nav:first").outerHeight(!0):$(document).find("nav:first").outerHeight(!0)}function o(e,t,n,o){var i=e-1;return i/=o,e/=o,i--,e--,n*(e*e*e*e*e+1)+t-(n*(i*i*i*i*i+1)+t)}function i(){if(h){for(var e=c.length,t=r();e--;)a(c[e],t);h=!1}y&&(w+=-b*o(g,0,_,Y),(w>C||-C>w)&&(j.scrollBy(0,w),w=0),g++,g>Y&&(g=0,y=!1,v=!0,b=0,x=0,T=0,w=0)),u(i)}function a(e,t){if(E){if(t+f>e.elemTop&&t<e.elemBottom)if(e.isFirstSection){var n="translate3d(0, "+t/2+"px, 0)";e.imageHolder.style[p]=n}else{var n="translate3d(0, "+(t-e.elemTop-m)/2+"px, 0)";e.imageHolder.style[p]=n}}else if(t+f>e.elemTop&&t<e.elemBottom)if(e.isFirstSection){var n="translate3d(0, "+t/2+"px, 0)";e.imageHolder.style[p]=n}else{var n="translate3d(0, "+(t+f-e.elemTop)/2+"px, 0)";e.imageHolder.style[p]=n}}function r(){return j!=window?j.scrollTop:0==document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop}function s(){h=!0}function l(e){e.preventDefault&&e.preventDefault(),b=e.notRealWheel?-e.deltaY/4:1==e.deltaMode?-e.deltaY/3:100===Math.abs(e.deltaY)?-e.deltaY/120:-e.deltaY/40,b=-P>b?-P:b,b=b>P?P:b,y=!0,g=k}var c,u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,d=["transform","msTransform","webkitTransform","mozTransform","oTransform"],p=e(d),f=Math.max(document.documentElement.clientHeight,window.innerHeight||0),m=0,h=!1,y=!1,v=!0,g=0,b=0,x=0,T=0,w=0,P=2,k=4,_=300,C=1,Y=30,w=0,j=window,I=this,E=void 0==window.mr_variant?!1:!0;$(document).ready(function(){"use strict";f=Math.max(document.documentElement.clientHeight,window.innerHeight||0),/Android|iPad|iPhone|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)?$(".parallax").removeClass("parallax"):u&&(window.mr_parallax.profileParallaxElements(),t())}),$(window).load(function(){f=Math.max(document.documentElement.clientHeight,window.innerHeight||0),m=n(),window.mr_parallax.profileParallaxElements()}),this.profileParallaxElements=function(){c=[],m=n(),selector=".parallax > .background-image-holder, .parallax ul.slides > li > .background-image-holder",E&&(selector=".viu .parallax > .background-image-holder, .viu .parallax ul.slides > li > .background-image-holder"),$(selector).each(function(e,t){var n=$(this).closest(".parallax"),o=E?n.position().top:n.offset().top;c.push({section:n.get(0),outerHeight:n.outerHeight(),elemTop:o,elemBottom:o+n.outerHeight(),isFirstSection:n.is(":first-of-type")?!0:!1,imageHolder:$(this).get(0)}),E?E&&(n.is(":first-of-type")?I.mr_setTranslate3DTransform($(this).get(0),0==r()?0:r()/2):I.mr_setTranslate3DTransform($(this).get(0),(r()-o-m)/2)):n.is(":first-of-type")?I.mr_setTranslate3DTransform($(this).get(0),0==r()?0:r()/2):I.mr_setTranslate3DTransform($(this).get(0),(r()+f-o-m)/2)})},this.mr_setTranslate3DTransform=function(e,t){e.style[p]="translate3d(0, "+t+"px, 0)"}}function onYouTubePlayerAPIReady(){ytp.YTAPIReady||(ytp.YTAPIReady=!0,jQuery(document).trigger("YTAPIReady"))}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){e.fn.avgrund=function(t){var n={width:380,height:280,showClose:!1,showCloseText:"",closeByEscape:!0,closeByDocument:!0,holderClass:"",overlayClass:"",enableStackAnimation:!1,onBlurContainer:"",openOnEvent:!0,setEvent:"click",onLoad:!1,onUnload:!1,onClosing:!1,template:"<p>This is test popin content!</p>"};return t=e.extend(n,t),this.each(function(){function n(e){t.closeByEscape&&27===e.keyCode&&a()}function o(n){console.log(e(n.target)),t.closeByDocument?e(n.target).is(".btn")||e(n.target).is(".sharebut")||e(n.target).is(".ti-facebook2")||e(n.target).is(".ti-twitter-alt2")||e(n.target).is(".ti-google2")?e(n.target).is(".avgrund-overlay, .avgrund-close")&&(n.preventDefault(),a()):(console.log("BREAK WINDOW"),n.preventDefault(),a()):e(n.target).is(".avgrund-close")&&(n.preventDefault(),a())}function i(){"function"==typeof t.onLoad&&t.onLoad(r),setTimeout(function(){s.addClass("avgrund-active")},100);var i=e('<div class="avgrund-popin '+t.holderClass+'"></div>');i.append(u),s.append(i),e(".avgrund-popin").css({width:l+"px",height:c+"px","margin-left":"-"+(l/2+10)+"px","margin-top":"-"+(c/2+10)+"px"}),t.showClose&&e(".avgrund-popin").append('<a href="#" class="avgrund-close">'+t.showCloseText+"</a>"),t.enableStackAnimation&&e(".avgrund-popin").addClass("stack"),s.bind("keyup",n).bind("click",o),e("body").css("overflow","hidden")}function a(){return"function"==typeof t.onClosing&&t.onClosing(r)===!1?!1:(s.unbind("keyup",n).unbind("click",o).removeClass("avgrund-active"),setTimeout(function(){e(".avgrund-popin").remove()},500),"function"==typeof t.onUnload&&t.onUnload(r),void e("body").css("overflow","auto"))}var r=e(this),s=e("body"),l=t.width>640?640:t.width,c=t.height>600?600:t.height,u="function"==typeof t.template?t.template(r):t.template;s.addClass("avgrund-ready"),0===e(".avgrund-overlay").length&&s.append('<div class="avgrund-overlay '+t.overlayClass+'"></div>'),""!==t.onBlurContainer&&e(t.onBlurContainer).addClass("avgrund-blur"),t.openOnEvent?r.bind(t.setEvent,function(t){t.stopPropagation(),e(t.target).is("a")&&t.preventDefault(),i()}):i()})}}),function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}var n=e.prototype;n.getListeners=function(e){var t,n,o=this._getEvents();if("object"==typeof e){t={};for(n in o)o.hasOwnProperty(n)&&e.test(n)&&(t[n]=o[n])}else t=o[e]||(o[e]=[]);return t},n.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},n.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},n.addListener=function(e,n){var o,i=this.getListenersAsObject(e),a="object"==typeof n;for(o in i)i.hasOwnProperty(o)&&-1===t(i[o],n)&&i[o].push(a?n:{listener:n,once:!1});return this},n.on=n.addListener,n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=n.addOnceListener,n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,n){var o,i,a=this.getListenersAsObject(e);for(i in a)a.hasOwnProperty(i)&&(o=t(a[i],n),-1!==o&&a[i].splice(o,1));return this},n.off=n.removeListener,n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,n){var o,i,a=e?this.removeListener:this.addListener,r=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(o=n.length;o--;)a.call(this,t,n[o]);else for(o in t)t.hasOwnProperty(o)&&(i=t[o])&&("function"==typeof i?a.call(this,o,i):r.call(this,o,i));return this},n.removeEvent=function(e){var t,n=typeof e,o=this._getEvents();if("string"===n)delete o[e];else if("object"===n)for(t in o)o.hasOwnProperty(t)&&e.test(t)&&delete o[t];else delete this._events;return this},n.emitEvent=function(e,t){var n,o,i,a,r=this.getListenersAsObject(e);for(i in r)if(r.hasOwnProperty(i))for(o=r[i].length;o--;)n=r[i][o],a=n.listener.apply(this,t||[]),(a===this._getOnceReturnValue()||n.once===!0)&&this.removeListener(e,r[i][o].listener);return this},n.trigger=n.emitEvent,n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){"use strict";var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(t,n,o){t[n+o]=o.handleEvent?function(){var t=e.event;t.target=t.target||t.srcElement,o.handleEvent.call(o,t)}:function(){var n=e.event;n.target=n.target||n.srcElement,o.call(t,n)},t.attachEvent("on"+n,t[n+o])});var o=function(){};t.removeEventListener?o=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(o=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(o){e[t+n]=void 0}});var i={bind:n,unbind:o};"function"==typeof define&&define.amd?define(i):e.eventie=i}(this),function(e){"use strict";function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===l.call(e)}function o(e){var t=[];if(n(e))t=e;else if("number"==typeof e.length)for(var o=0,i=e.length;i>o;o++)t.push(e[o]);else t.push(e);return t}function i(e,n){function i(e,n,r){if(!(this instanceof i))return new i(e,n);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=t({},this.options),"function"==typeof n?r=n:t(this.options,n),r&&this.on("always",r),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var s=this;setTimeout(function(){s.check()})}function l(e){this.img=e}i.prototype=new e,i.prototype.options={},i.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);for(var o=n.querySelectorAll("img"),i=0,a=o.length;a>i;i++){var r=o[i];this.addImage(r)}}},i.prototype.addImage=function(e){var t=new l(e);this.images.push(t)},i.prototype.check=function(){function e(e,i){return t.options.debug&&s&&r.log("confirm",e,i),t.progress(e),n++,n===o&&t.complete(),!0}var t=this,n=0,o=this.images.length;if(this.hasAnyBroken=!1,!o)return void this.complete();for(var i=0;o>i;i++){var a=this.images[i];a.on("confirm",e),a.check()}},i.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify(t,e)})},i.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},a&&(a.fn.imagesLoaded=function(e,t){var n=new i(this,e,t);return n.jqDeferred.promise(a(this))});var c={};return l.prototype=new e,l.prototype.check=function(){var e=c[this.img.src];if(e)return void this.useCached(e);if(c[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this.proxyImage=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.img.src},l.prototype.useCached=function(e){if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else{var t=this;e.on("confirm",function(e){return t.confirm(e.isLoaded,"cache emitted confirmed"),!0})}},l.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},l.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},l.prototype.unbindProxyEvents=function(){n.unbind(this.proxyImage,"load",this),n.unbind(this.proxyImage,"error",this)},i}var a=e.jQuery,r=e.console,s=void 0!==r,l=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],i):e.imagesLoaded=i(e.EventEmitter,e.eventie)}(window),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){a(function(){var t,n;for(t=0;t<e.length;t++)n=e[t],n.obj.css(n.css)})}var n,o,i;i=function(e,t){return function(){return e.apply(t,arguments)}},o={align:"center",autoResize:!1,comparator:null,container:e("body"),direction:void 0,ignoreInactiveItems:!0,itemWidth:0,fillEmptySpace:!1,flexibleWidth:0,offset:2,outerOffset:0,onLayoutChanged:void 0,possibleFilters:[],resizeDelay:50,verticalOffset:void 0};var a=window.requestAnimationFrame||function(e){e()},r=e(window);n=function(){function n(t,n){this.handler=t,this.columns=this.containerWidth=this.resizeTimer=null,this.activeItemCount=0,this.itemHeightsDirty=!0,this.placeholders=[],e.extend(!0,this,o,n),this.verticalOffset=this.verticalOffset||this.offset,this.update=i(this.update,this),this.onResize=i(this.onResize,this),this.onRefresh=i(this.onRefresh,this),this.getItemWidth=i(this.getItemWidth,this),this.layout=i(this.layout,this),this.layoutFull=i(this.layoutFull,this),this.layoutColumns=i(this.layoutColumns,this),this.clear=i(this.clear,this),this.getActiveItems=i(this.getActiveItems,this),this.refreshPlaceholders=i(this.refreshPlaceholders,this),this.sortElements=i(this.sortElements,this),this.autoResize&&r.bind("resize.wookmark",this.onResize),this.container.bind("refreshWookmark",this.onRefresh)}return n.prototype.update=function(t){this.itemHeightsDirty=!0,e.extend(!0,this,t)},n.prototype.onResize=function(){clearTimeout(this.resizeTimer),this.itemHeightsDirty=0!==this.flexibleWidth,this.resizeTimer=setTimeout(this.layout,this.resizeDelay)},n.prototype.onRefresh=function(){this.itemHeightsDirty=!0,this.layout()},n.prototype.refreshPlaceholders=function(t,n){for(var o,i,a,r,s,l,c=this.placeholders.length,u=this.columns.length,d=this.container.innerHeight();u>c;c++)o=e('<div class="wookmark-placeholder"/>').appendTo(this.container),this.placeholders.push(o);for(l=this.offset+2*parseInt(this.placeholders[0].css("borderLeftWidth"),10),c=0;c<this.placeholders.length;c++)if(o=this.placeholders[c],a=this.columns[c],c>=u||!a[a.length-1])o.css("display","none");else{if(i=a[a.length-1],!i)continue;s=i.data("wookmark-top")+i.data("wookmark-height")+this.verticalOffset,r=d-s-l,o.css({position:"absolute",display:r>0?"block":"none",left:c*t+n,top:s,width:t-l,height:r})}},n.prototype.getActiveItems=function(){return this.ignoreInactiveItems?this.handler.not(".inactive"):this.handler},n.prototype.getItemWidth=function(){var e=this.itemWidth,t=this.container.width()-2*this.outerOffset,n=this.handler.eq(0),o=this.flexibleWidth;if(void 0===this.itemWidth||0===this.itemWidth&&!this.flexibleWidth?e=n.outerWidth():"string"==typeof this.itemWidth&&this.itemWidth.indexOf("%")>=0&&(e=parseFloat(this.itemWidth)/100*t),o){"string"==typeof o&&o.indexOf("%")>=0&&(o=parseFloat(o)/100*t);var i=t+this.offset,a=~~(.5+i/(o+this.offset)),r=~~(i/(e+this.offset)),s=Math.max(a,r),l=Math.min(o,~~((t-(s-1)*this.offset)/s));e=Math.max(e,l),this.handler.css("width",e)}return e},n.prototype.layout=function(e){if(this.container.is(":visible")){var t,n=this.getItemWidth()+this.offset,o=this.container.width(),i=o-2*this.outerOffset,a=~~((i+this.offset)/n),r=0,s=0,l=0,c=this.getActiveItems(),u=c.length;if(this.itemHeightsDirty||!this.container.data("itemHeightsInitialized")){for(;u>l;l++)t=c.eq(l),t.data("wookmark-height",t.outerHeight());this.itemHeightsDirty=!1,this.container.data("itemHeightsInitialized",!0)}a=Math.max(1,Math.min(a,u)),r=this.outerOffset,"center"==this.align&&(r+=~~(.5+(i-(a*n-this.offset))>>1)),this.direction=this.direction||("right"==this.align?"right":"left"),s=e||null===this.columns||this.columns.length!=a||this.activeItemCount!=u?this.layoutFull(n,a,r):this.layoutColumns(n,r),this.activeItemCount=u,this.container.css("height",s),this.fillEmptySpace&&this.refreshPlaceholders(n,r),void 0!==this.onLayoutChanged&&"function"==typeof this.onLayoutChanged&&this.onLayoutChanged()}},n.prototype.sortElements=function(e){return"function"==typeof this.comparator?e.sort(this.comparator):e},n.prototype.layoutFull=function(n,o,i){var a,r,s=0,l=0,c=e.makeArray(this.getActiveItems()),u=c.length,d=null,p=null,f=[],m=[],h="left"==this.align?!0:!1;for(this.columns=[],c=this.sortElements(c);f.length<o;)f.push(this.outerOffset),this.columns.push([]);for(;u>s;s++){for(a=e(c[s]),d=f[0],p=0,l=0;o>l;l++)f[l]<d&&(d=f[l],p=l);a.data("wookmark-top",d),r=i,(p>0||!h)&&(r+=p*n),(m[s]={obj:a,css:{position:"absolute",top:d}}).css[this.direction]=r,f[p]+=a.data("wookmark-height")+this.verticalOffset,this.columns[p].push(a)}return t(m),Math.max.apply(Math,f)},n.prototype.layoutColumns=function(e,n){for(var o,i,a,r,s=[],l=[],c=0,u=0,d=0;c<this.columns.length;c++){for(s.push(this.outerOffset),i=this.columns[c],r=c*e+n,o=s[c],u=0;u<i.length;u++,d++)a=i[u].data("wookmark-top",o),(l[d]={obj:a,css:{top:o}}).css[this.direction]=r,o+=a.data("wookmark-height")+this.verticalOffset;s[c]=o}return t(l),Math.max.apply(Math,s)},n.prototype.clear=function(){clearTimeout(this.resizeTimer),r.unbind("resize.wookmark",this.onResize),this.container.unbind("refreshWookmark",this.onRefresh),this.handler.wookmarkInstance=null},n}(),e.fn.wookmark=function(e){return this.wookmarkInstance?this.wookmarkInstance.update(e||{}):this.wookmarkInstance=new n(this,e||{}),this.wookmarkInstance.layout(!0),this.show()}});var youmaxLoggedInUser={};!function(e){var t=function(t,n,o){var i="",a=!1,r=o.data("youmax_global_options"),s=r.apiKey,l=r.maxResults;null!=n&&(i="&pageToken="+n,a=!0),apiPlaylistVideosURL="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+t+"&maxResults="+l+i+"&key="+s,e.ajax({url:apiPlaylistVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){S(e,a,o)},error:function(e){alert(e)},beforeSend:T})},n=function(t,n,i){var a="",r=!1,s=i.data("youmax_global_options"),l=s.apiKey,c=s.maxResults;null!=n&&(a="&pageToken="+n,r=!0);var u=t.substring(t.indexOf("_")+1);r?(apiEventVideosURL="https://www.googleapis.com/youtube/v3/search?part=snippet&eventType=completed&order=date&channelId="+u+"&type=video&maxResults="+c+a+"&key="+l,e.ajax({url:apiEventVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){L(e,i,!1,!0)},error:function(e){alert(e)},beforeSend:T})):(eventCache={items:[],nextPageToken:"youmax-generated"},eventCacheStatus=[],i.data("eventcache",eventCache),i.data("eventcachestatus",eventCacheStatus),apiEventVideosURL="https://www.googleapis.com/youtube/v3/search?part=snippet&eventType=live&order=date&channelId="+u+"&type=video&maxResults=50&key="+l,e.ajax({url:apiEventVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){o(e,i,"live")},error:function(e){alert(e)},beforeSend:T}),setTimeout(function(){apiEventVideosURL="https://www.googleapis.com/youtube/v3/search?part=snippet&eventType=upcoming&order=date&channelId="+u+"&type=video&maxResults=50&key="+l,e.ajax({url:apiEventVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){o(e,i,"upcoming")},error:function(e){alert(e)},beforeSend:T})},200),setTimeout(function(){-1!=s.loadMode.indexOf("paginate")&&(c=50),apiEventVideosURL="https://www.googleapis.com/youtube/v3/search?part=snippet&eventType=completed&order=date&channelId="+u+"&type=video&maxResults="+c+"&key="+l,e.ajax({url:apiEventVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){o(e,i,"completed")},error:function(e){alert(e)},beforeSend:T})},400))},o=function(e,t,n){eventCache=t.data("eventcache"),eventCacheStatus=t.data("eventcachestatus");var o=t.data("youmax_global_options");null!=e.items&&e.items.length>0&&(eventCache.items=eventCache.items.concat(e.items)),"completed"==n&&(eventCache.nextPageToken=e.nextPageToken),eventCacheStatus.push(n),eventCacheStatus.length>=3&&-1!=eventCacheStatus.indexOf("live")&&-1!=eventCacheStatus.indexOf("upcoming")&&-1!=eventCacheStatus.indexOf("completed")&&(-1!=o.loadMode.indexOf("paginate")?(cache=eventCache.items,cacheIndex=-1-o.maxResults,t.data("cache",cache),t.data("cacheindex",cacheIndex),t.find("#youmax-next-div").data("nextpagetoken",eventCache.nextPageToken),u(t,"next")):L(eventCache,t,!1,!0)),t.data("eventcache",eventCache),t.data("eventcachestatus",eventCacheStatus)},i=function(t,n,o,i){var a=n.data("youmax_global_options"),r=n.data("youmax_translator_text");apiVideoDetailURL="https://www.googleapis.com/youtube/v3/videos?part=statistics%2Csnippet&id="+t+"&key="+a.apiKey,e.ajax({url:apiVideoDetailURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(a){$baseElement=e('<div id="'+t+'"><div class="youmax-video-list-title">'+a.items[0].snippet.title+'</div><div class="youmax-video-list-date">'+A(a.items[0].snippet.publishedAt,r)+"</div></div>"),$baseElement.data("description",a.items[0].snippet.description),$baseElement.data("likes",k(a.items[0].statistics.likeCount)),$baseElement.data("views",P(a.items[0].statistics.viewCount)),$baseElement.data("channelid",a.items[0].snippet.channelId),W($baseElement,o,i,n)},error:function(e){alert(e)},beforeSend:T})},a=function(t,n,o){var i="",a=!1,r=n.data("youmax_global_options"),s=r.apiKey,l=r.maxResults;null!=o&&(i="&pageToken="+o,a=!0),apiVideoCommentsURL="https://www.googleapis.com/youtube/v3/commentThreads?part=id%2Csnippet&videoId="+t+i+"&maxResults="+l+"&key="+s+"&order="+r.commentOrder,e.ajax({url:apiVideoCommentsURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){E(e,a,n)},error:function(e){alert(e)},beforeSend:T})},r=function(){e.ajaxSetup({cache:!0}),e.getScript("https://apis.google.com/js/platform.js").done(function(e,t){}).fail(function(e,t,n){})},l=function(t,n,o){var i="",a=!1,r=o.data("youmax_global_options"),s=r.apiKey,l=r.maxResults;null!=n&&(i="&pageToken="+n,a=!0);var c=t.substring(t.indexOf("_")+1);apiChannelPlaylistsURL="https://www.googleapis.com/youtube/v3/playlists?part=contentDetails,snippet&channelId="+c+"&maxResults="+l+i+"&key="+s,e.ajax({url:apiChannelPlaylistsURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){Q(e,a,o)},error:function(e){alert(e)},beforeSend:T})},c=function(t){var n=t.data("youmax_global_options");t.empty(),t.append('<div id="youmax-header"><div id="youmax-header-wrapper"></div></div>'),t.append('<div id="youmax-tabs"></div>'),t.append('<div id="youmax-select-box"><select id="youmax-select"></select></div>'),"popup"!=n.displayVideo&&t.append('<div id="youmax-encloser"></div>'),t.append('<div id="youmax-showing-title"></div>');var o="";"paginate-sides"==n.loadMode&&(o="youmax-small-container"),t.append('<div id="youmax-video-list-div" class="'+o+'"><ul id="tiles"></ul></div>');var i=null,a=null,r=null,s="";"small"==n.loadButtonSize&&(s='class="youmax-small"'),"loadmore"==n.loadMode?(t.append('<button type="button" id="youmax-load-more-div" '+s+'><i class="fa fa-plus fa-5x"></i></button>'),i=t.find("#youmax-load-more-div")):"paginate-bottom"==n.loadMode?(t.append('<div class="youmax-pagination"><div class="youmax-pagination-button-wrapper youmax-left-wrapper"><button type="button" id="youmax-previous-div" '+s+'><i class="fa fa-caret-left fa-5x"></i></button></div><div class="youmax-pagination-button-wrapper youmax-right-wrapper"><button type="button" id="youmax-next-div" '+s+'><i class="fa fa-caret-right fa-5x"></i></button></div></div>'),r=t.find("#youmax-next-div"),a=t.find("#youmax-previous-div")):"paginate-sides"==n.loadMode&&(t.append('<div class="youmax-pagination-button-wrapper youmax-left-wrapper youmax-side-nav"><button type="button" id="youmax-previous-div" '+s+'><i class="fa fa-caret-left fa-5x"></i></button></div><div class="youmax-pagination-button-wrapper youmax-right-wrapper youmax-side-nav"><button type="button" id="youmax-next-div" '+s+'><i class="fa fa-caret-right fa-5x"></i></button></div>'),r=t.find("#youmax-next-div"),a=t.find("#youmax-previous-div")),null!=i&&(i.data("nextpagetoken",""),i.click(function(){f(t)})),null!=a&&a.click(function(){u(t,"previous")}),null!=r&&r.click(function(){u(t,"next")}),t.find("#youmax-tabs").on("click",".youmax-tab",function(){t.find("#youmax-load-more-div").removeAttr("disabled"),K(this.id,t)}),t.find("#youmax-select").change(function(){var n=e(this).find(":selected").val();K(n,t)}),t.on("click",".youmax-show-button",function(){q(this.id,t)}),t.on("click",".youmax-more-button",function(){G(t)}),e.getScript("https://apis.google.com/js/client:platform.js").done(function(e,n){t.on("click",".youmax-add-comment-button",function(){d(this,t)})}).fail(function(e,t,n){}),t.on("keyup","#youmax-search-box,#youmax-search-box-header",function(n){return 13==n.keyCode?(searchText="query_"+e(this).val(),K(searchText,t),!1):void 0}),-1!=n.skin.indexOf("clean")&&(t.on("mouseenter","#tiles li",function(){e(this).find(".youmax-duration").show(),e(this).find(".youmax-definition").show(),e(this).find(".youmax-clean-overlay-holder").hide()}),t.on("mouseleave","#tiles li",function(){e(this).find(".youmax-duration").hide(),e(this).find(".youmax-definition").hide(),e(this).find(".youmax-clean-overlay-holder").show()})),t.on("click","#youmax-back-to-playlists",function(){t.find("span[id^=playlists_].youmax-tab").first().click()}),t.on("click","#youmax-search-box-header",function(){e(this).find("#youmax-search-holder-header").toggle()}),t.on("click","#youmax-search-box-header",function(e){return!1})},u=function(t,n){var o={items:[],nextPageToken:"youmax-generated"};cache=t.data("cache"),cacheIndex=t.data("cacheindex");var i,a=t.data("youmax_global_options");videoType=e(".youmax-tab-hover").attr("id").split("_")[0],"previous"==n?cacheIndex>=0?(i=cacheIndex-a.maxResults+1,0>i&&(i=0),o.items=cache.slice(i,i+a.maxResults),-1!=videoType.indexOf("playlist")?Q(o,!1,t):-1!=videoType.indexOf("search")?(eventType=e(".youmax-tab-hover").data("eventType"),L(o,t,!1,eventType)):-1!=videoType.indexOf("event")?L(o,t,!1,!0):S(o,!1,t),cacheIndex-=a.maxResults):t.find("#youmax-previous-div").html('<i class="fa fa-close fa-5x"></i>'):"next"==n&&(cacheIndex+a.maxResults+1>=cache.length?f(t):(i=cacheIndex+a.maxResults+1,o.items=cache.slice(i,i+a.maxResults),-1!=videoType.indexOf("playlist")?Q(o,!1,t):-1!=videoType.indexOf("search")?(eventType=e(".youmax-tab-hover").data("eventType"),L(o,t,!1,eventType)):-1!=videoType.indexOf("event")?L(o,t,!1,!0):S(o,!1,t),cacheIndex+=a.maxResults),cacheIndex<-1&&(cacheIndex=-1)),t.data("cache",cache),t.data("cacheindex",cacheIndex)},d=function(t,n){e(t).html('<i class="fa fa-ellipsis-h fa-2x"></i>').attr("disabled","disabled");var o=n.data("youmax_global_options"),i=youmaxLoggedInUser.youmaxAccessToken;if(null!=i&&""!=i){var a=n.find(".youmax-comment-textbox").val();if(null==a||""==a.trim())return alert("Please enter a valid comment.."),void n.find(".youmax-add-comment-button").removeAttr("disabled").html('<i class="fa fa-send fa-2x"></i>');a=a.trim(),videoId=n.find(".youmax-encloser-comment-button.youmax-show-button").attr("id"),channelId=n.find(".youmax-encloser-comment-button.youmax-show-button").data("channelid"),p(n,videoId,i,o.apiKey,a,channelId)}else gapi.auth.signIn({clientid:o.clientId,cookiepolicy:"single_host_origin",callback:"youmaxSaveToken",scope:"https://www.googleapis.com/auth/youtube.force-ssl"})},p=function(t,n,o,i,a,r){var s=t.data("youmax_global_options"),l="https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&shareOnGooglePlus=false&fields=snippet&key="+s.apiKey,c='{"snippet":{"channelId":"'+r+'","videoId":"'+n+'","topLevelComment":{"snippet":{"textOriginal":"'+a+'"}}}}';e.ajax({url:l,type:"post",crossDomain:!0,data:c,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+o),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Content-Length",c.length)},success:function(e,n){var o=e.snippet.topLevelComment.snippet.authorDisplayName,i=e.snippet.topLevelComment.snippet.authorProfileImageUrl,r=t.data("youmax_translator_text");t.find("#youmax-encloser-comments").prepend('<div  class="youmax-video-comment"><div class="youmax-from"><div class="youmax-from-img" style="background-image:url(\''+i+'\');"></div><div class="youmax-from-name">'+o+'</div><div class="youmax-published">'+r.now+'</div></div><div class="youmax-comment"><span class="youmax-comment-content">'+a+"</span><div></div>"),t.find(".youmax-add-comment-button").removeAttr("disabled").html('<i class="fa fa-send fa-2x"></i>'),t.find(".youmax-comment-textbox").val("")},error:function(e,t,n){alert("Could not Post - "+n)}})},f=function(e){$youmaxLoadMoreDiv=m(e),e.find("#youmax-encloser").empty().hide();var o=e.find(".youmax-tab.youmax-tab-hover").attr("id"),i=$youmaxLoadMoreDiv.data("nextpagetoken");null!=i&&"undefined"!=i&&""!=i?-1!=o.indexOf("search_")?U(o,i,e):-1!=o.indexOf("playlists_")?l(o,i,e):-1!=o.indexOf("query_")?H(o,i,e):-1!=o.indexOf("events_")?n(o,i,e):t(o,i,e):h(e)},m=function(e){var t,n=e.data("youmax_global_options");return"loadmore"==n.loadMode?(t=e.find("#youmax-load-more-div"),t.html('<i class="fa fa-ellipsis-h fa-5x"></i>')):-1!=n.loadMode.indexOf("paginate")&&(t=e.find("#youmax-next-div"),t.html('<i class="fa fa-ellipsis-h fa-5x"></i>')),t.addClass("youmax-load-more-div-click"),t},h=function(e){var t,n=e.data("youmax_global_options");"loadmore"==n.loadMode?(t=e.find("#youmax-load-more-div"),t.html('<i class="fa fa-close fa-5x"></i>')):-1!=n.loadMode.indexOf("paginate")&&(t=e.find("#youmax-next-div"),t.html('<i class="fa fa-close fa-5x"></i>')),t.removeClass("youmax-load-more-div-click")},y=function(t,n){var o=n.data("youmax_global_options"),i=o.apiKey;o.channelId=t,apiUrl="https://www.googleapis.com/youtube/v3/channels?part=brandingSettings%2Csnippet%2Cstatistics%2CcontentDetails&id="+t+"&key="+i,e.ajax({url:apiUrl,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){Y(e,n)},error:function(e){alert(e)},beforeSend:T})},v=function(t,n){e.ajax({url:t,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){y(e.items[0].id,n)},error:function(e){alert(e)},beforeSend:T})},g=function(t,n){e.ajax({url:t,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){restrictedChannels=n.data("restrictToChannels"),restrictedChannels.push(e.items[0].id),n.data("restrictToChannels",restrictedChannels)},error:function(e){alert(e)},beforeSend:T})},b=function(t,n){var o=n.data("youmax_global_options"),i=o.apiKey;apiPlaylistDetailsURL="https://www.googleapis.com/youtube/v3/playlists?part=snippet&id="+t+"&key="+i,e.ajax({url:apiPlaylistDetailsURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){j(e,n)},error:function(e){alert(e)},beforeSend:T})},x=function(t,n,o){var i=n.data("youmax_global_options"),a=i.apiKey,r="";o&&(r="%2CliveStreamingDetails"),apiVideoStatURL="https://www.googleapis.com/youtube/v3/videos?part=statistics%2CcontentDetails"+r+"&id="+t+"&key="+a,e.ajax({url:apiVideoStatURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){I(e,n,o)},error:function(e){alert(e)},beforeSend:T})},T=function(e){e&&e.overrideMimeType&&e.overrideMimeType("application/j-son;charset=UTF-8")},w=function(e){return e=parseInt(e,10),1e3>e||(e=1e6>e?Math.round(e/1e3)+"K":1e9>e?(e/1e6).toFixed(1)+"M":(e/1e9).toFixed(1)+"B"),e},P=w,k=w,_=function(e){var t="";if(null==e||"0"==e)return"";for(;e.length>0;){if(!(e.length>3)){t=e+t;break}t=","+e.substring(e.length-3)+t,e=e.substring(0,e.length-3)}return t},C=function(e){var t,n;e=e.replace("PT","").replace("S","").replace("M",":").replace("H",":");var o=e.split(":");n=o[0];for(var i=1;i<o.length;i++)t=o[i],""==t?n+=":00":(t=parseInt(t,10),n+=10>t?":0"+t:":"+t);return 1==o.length&&(n="0:"+n),n},Y=function(t,n){var o=n.data("youmax_global_options"),i=n.data("youmax_translator_text"),a=t.items[0];
channelId=a.id,channelTitle=a.snippet.title,channelImage=a.snippet.thumbnails["default"].url,channelSubscribers=w(a.statistics.subscriberCount),channelViews=w(a.statistics.viewCount),channelBackgroundImage=a.brandingSettings.image.bannerImageUrl,channelUploadsPlaylistId=a.contentDetails.relatedPlaylists.uploads,channelVideos=w(a.statistics.videoCount),channelDescription=a.snippet.description,userWebsite=o.userWebsite,n.find("#youmax-header").css("background-image","url("+channelBackgroundImage+")"),n.find("#youmax-header-wrapper").append('<a href="https://www.youtube.com/channel/'+channelId+'" target="_blank"><div class="youmax-channel-icon"><img src="'+channelImage+'"/></div><div class="youmax-channel-data-holder"><div class="youmax-channel-title">'+channelTitle+'</div>  <div id="youmax-header-counts" class="youmax-generic-header-counts"><span class="youmax-header-posts" title="'+i.videos+'"><span class="youmax-count"><i class="fa fa-video-camera"></i>'+channelVideos+'</span> </span><span class="youmax-header-following" title="'+i.views+'"><span class="youmax-count"><i class="fa fa-user"></i>'+channelViews+"</span></span></div>  </div></a>"),-1!=o.skin.indexOf("clean")?(n.find("#youmax-header-wrapper").append('<div id="youmax-header-info"><div id="youmax-header-title">'+channelTitle+'</div><div class="youmax-subscribe-clean-wrapper"><div class="youmax-subscribe"><div class="g-ytsubscribe" data-channelid="'+channelId+'" data-layout="default" data-count="default"></div></div></div><div id="youmax-header-bio">'+channelDescription+'</div><div id="youmax-header-website"><a href="'+userWebsite+'" target="_blank">'+userWebsite+'</a></div><div id="youmax-header-counts"><span class="youmax-header-posts"><span class="youmax-count">'+channelVideos+"</span> "+i.videos+'</span><span class="youmax-header-following"><span class="youmax-count">'+channelViews+"</span> "+i.views+"</span></div></div>"),n.find("#youmax-select-box").prepend('<div id="youmax-search-holder"><input id="youmax-search-box" type="text"/><i class="fa fa-search youmax-search-icon"></i></div>'),n.find("#youmax-select-box").append('<i class="fa fa-caret-down"></i>')):(n.find("#youmax-header-wrapper").append('<div id="youmax-stat-holder"><div id="youmax-search-holder-header"><input id="youmax-search-box-header" type="text" placeholder="Search"/><i class="fa fa-search youmax-search-icon-header"></i></div></div>'),n.find("#youmax-header-wrapper").append('&nbsp;&nbsp;&nbsp;&nbsp;<div class="youmax-subscribe"><div class="g-ytsubscribe" data-channelid="'+channelId+'" data-layout="default" data-count="default"></div></div>'),n.find("#youmax-select-box").prepend('<div id="youmax-search-holder"><input id="youmax-search-box" type="text"/><i class="fa fa-search youmax-search-icon"></i></div>'),n.find("#youmax-select-box").append('<i class="fa fa-caret-down"></i>'),n.find("#youmax-select-box").wrap('<div class="youmax-select-box-wrapper">')),n.find("#youmax-tabs").prepend('<span id="'+channelUploadsPlaylistId+'" class="youmax-tab" >'+i.uploads+'</span><span id="playlists_'+channelId+'" class="youmax-tab" >'+i.playlists+"</span>"),n.find("#youmax-select").prepend('<option value="'+channelUploadsPlaylistId+'" class="youmax-option-highlight" >'+i.uploads+'</option><option value="playlists_'+channelId+'" class="youmax-option-highlight" >'+i.playlists+"</option>"),o.showEvents&&(n.find("#youmax-tabs").append('<span id="events_'+channelId+'" class="youmax-tab" >'+i.events+"</span>"),n.find("#youmax-select").append('<option value="events_'+channelId+'" class="youmax-option-highlight" >'+i.events+"</option>")),o.alwaysUseDropdown&&(n.find("#youmax-select-box").css("display","block"),n.find("#youmax-tabs").hide(),n.find("#youmax-stat-holder").hide()),"u"==o.selectedTab.charAt(0)?e("#"+channelUploadsPlaylistId).click():"l"==o.selectedTab.charAt(0)?e("#playlists_"+channelId).click():"e"==o.selectedTab.charAt(0)&&e("#events_"+channelId).click(),r()},j=function(t,n){var o=n.data("youmax_global_options"),i=t.items;$youmaxTabs=n.find("#youmax-tabs"),$youmaxSelect=n.find("#youmax-select");for(var a=0;a<i.length;a++)playlistId=i[a].id,playlistTitle=i[a].snippet.title,playlistTitle.length>o.maxPlaylistNameLength?playlistTitleShort=playlistTitle.substring(0,o.maxPlaylistNameLength)+"..":playlistTitleShort=playlistTitle,$youmaxTabs.append('<span id="'+playlistId+'" class="youmax-tab" >'+playlistTitleShort+"</span>"),$youmaxSelect.append('<option value="'+playlistId+'" >'+playlistTitle+"</option>");"p"==o.selectedTab.charAt(0)&&(playlistSelect=o.selectedTab.charAt(1)-1,null!=i[playlistSelect]&&e("#"+i[playlistSelect].id).click())},I=function(t,n,o){for(var i,a=n.data("youmax_global_options"),r=t.items,s=0;s<r.length;s++)videoId=r[s].id,videoViewCount=r[s].statistics.viewCount,videoViewCount=P(videoViewCount),videoDuration=r[s].contentDetails.duration,videoDuration=C(videoDuration),videoDefinition=r[s].contentDetails.definition.toUpperCase(),videoLikeCount=r[s].statistics.likeCount,videoLikeCount=k(videoLikeCount),videoCommentCount=r[s].statistics.commentCount,videoCommentCount=k(videoCommentCount),i=n.find("#youmax-video-list-div #"+videoId),i.find(".youmax-video-list-views").append(videoViewCount+' <span class="youmax-views-text">views</span> '),i.data("views",videoViewCount),i.data("likes",videoLikeCount),-1!=a.skin.indexOf("clean")?(o&&(actualEndTime=r[s].liveStreamingDetails.actualEndTime,actualStartTime=r[s].liveStreamingDetails.actualStartTime,scheduledStartTime=r[s].liveStreamingDetails.scheduledStartTime,null!=actualEndTime?i.append('<div class="youmax-event-tag">Completed Event</div>'):null!=actualStartTime?(watching=_(r[s].liveStreamingDetails.concurrentViewers),i.append('<div class="youmax-event-tag youmax-event-live"><div class="youmax-live-icon"><i class="fa fa-circle"></i></div>Live Event</div>')):null!=scheduledStartTime&&(scheduledAt=D(scheduledStartTime),i.append('<div class="youmax-event-tag youmax-event-upcoming">Upcoming Event</div>'))),i.append('<div class="youmax-duration"><i class="fa fa-heart fa-1x"></i>'+videoLikeCount+"</div>"),i.append('<div class="youmax-definition"><i class="fa fa-volume-off fa-1x"></i>'+videoViewCount+"</div>"),i.find(".youmax-clean-time").append(videoDuration)):(o?(actualEndTime=r[s].liveStreamingDetails.actualEndTime,actualStartTime=r[s].liveStreamingDetails.actualStartTime,scheduledStartTime=r[s].liveStreamingDetails.scheduledStartTime,null!=actualEndTime?(i.append('<div class="youmax-definition youmax-event-tag">Completed Event</div>'),i.append('<div class="youmax-duration">'+videoDuration+"</div>")):null!=actualStartTime?(watching=_(r[s].liveStreamingDetails.concurrentViewers),i.append('<div class="youmax-definition youmax-event-tag youmax-event-live"><div class="youmax-live-icon"><i class="fa fa-circle"></i></div>Live Event</div>'),i.append('<div class="youmax-duration">'+watching+" watching</div>")):null!=scheduledStartTime&&(scheduledAt=D(scheduledStartTime),i.append('<div class="youmax-definition youmax-event-tag youmax-event-upcoming">Upcoming Event</div>'),i.append('<div class="youmax-duration">'+scheduledAt+"</div>"))):(i.append('<div class="youmax-duration">'+videoDuration+"</div>"),i.append('<div class="youmax-definition">'+videoDefinition+"</div>")),-1!=a.skin.indexOf("block")&&i.append('<div class="youmax-like-comment-holder"><div class="youmax-like-box"><i class="fa fa-heart"></i>'+videoLikeCount+'</div><div class="youmax-comment-box"><i class="fa fa-comment"></i>'+videoCommentCount+"</div></div>"));-1!=a.skin.indexOf("block")&&e(window).resize()},E=function(e,t,n){var o=n.find("#youmax-encloser-comments"),i=(n.data("youmax_global_options"),n.data("youmax_translator_text"));t||o.empty();var a=e.items,r=e.nextPageToken,s=n.find(".youmax-encloser-comment-button.youmax-more-button");if(null!=r&&"undefined"!=r&&""!=r?s.data("nextpagetoken",r):s.data("nextpagetoken",""),s.data("nextpagetoken",r),null==a||0==a.length)return o.append('<div id="" class="youmax-video-comment"><div class="youmax-comment" ><span class="youmax-comment-content" style="text-align:center;">No more comments found.</span><div></div>'),n.find(".youmax-encloser-comment-button.youmax-more-button").data("nextpagetoken",""),void R(n);for(var l=0;l<a.length;l++)comment=a[l].snippet.topLevelComment.snippet.textDisplay,null!=comment&&""!=comment&&(commentPublished=a[l].snippet.topLevelComment.snippet.publishedAt,authorName=a[l].snippet.topLevelComment.snippet.authorDisplayName,authorImage=a[l].snippet.topLevelComment.snippet.authorProfileImageUrl,o.append('<div  class="youmax-video-comment"><div class="youmax-from"><div class="youmax-from-img" style="background-image:url(\''+authorImage+'\');"></div><div class="youmax-from-name">'+authorName+'</div><div class="youmax-published">'+A(commentPublished,i)+' </div></div><div class="youmax-comment"><span class="youmax-comment-content">'+comment+"</span><div></div>"));R(n)},S=function(e,t,n){var o=[],i=n.find("ul");t||0==n.find(".youmax-tab-hover").length&&n.find("#youmax-showing-title").append('<div id="'+n.data("youmax_current_playlist_id")+'" class="youmax-tab youmax-tab-hover youmax-showing-search-title"><i title="Back to Playlists" id="youmax-back-to-playlists" class="fa fa-chevron-circle-left fa-lg"></i> <i class="fa fa-bars fa-lg youmax-showing-playlist-icon"></i>'+n.data("youmax_current_playlist_name")+"</div>").show();var a,r=e.items,s=e.nextPageToken,l=n.data("youmax_global_options"),c=n.data("youmax_translator_text");"loadmore"==l.loadMode?a=n.find("#youmax-load-more-div"):-1!=l.loadMode.indexOf("paginate")&&(a=n.find("#youmax-next-div"),i.empty()),null!=s&&"undefined"!=s&&""!=s?-1==s.indexOf("youmax-generated")&&a.data("nextpagetoken",s):a.data("nextpagetoken","");for(var u=0;u<r.length;u++)videoId=r[u].snippet.resourceId.videoId,videoTitle=r[u].snippet.title,videoDescription=r[u].snippet.description,channelId=r[u].snippet.channelId,null!=r[u].snippet.thumbnails?(videoThumbnail=r[u].snippet.thumbnails.medium.url,videoUploaded=r[u].snippet.publishedAt,o.push(videoId),i.append('<li id="'+videoId+'" href="https://www.youtube.com/watch?v='+videoId+'" data-description="'+videoDescription+'" data-channelid="'+channelId+'"><img src="'+videoThumbnail+'"><p><span class="youmax-video-list-title">'+videoTitle+'</span><span class="youmax-video-list-description">'+videoDescription+'</span><span class="youmax-view-date-holder"><span class="youmax-video-list-views"></span><span class="youmax-views-date-separator">|</span><span class="youmax-video-list-date">'+A(videoUploaded,c)+'</span></span></p><div class="youmax-clean-overlay-holder"><span class="youmax-clean-title">'+videoTitle+'</span><span class="youmax-clean-time"></span></span></div></li>')):videoThumbnail="";z(n),x(o,n),-1==l.loadMode.indexOf("paginate")||null!=s&&-1!=s.indexOf("youmax-generated")||r.length>0&&(cache=n.data("cache"),cacheIndex=n.data("cacheindex"),cache=cache.concat(r),cacheIndex=cache.length-r.length-1,n.data("cache",cache),n.data("cacheindex",cacheIndex))},Q=function(e,t,n){var o,i=n.find("ul"),a=e.items,r=e.nextPageToken,s=n.data("youmax_global_options"),l=n.data("youmax_translator_text");"loadmore"==s.loadMode?o=n.find("#youmax-load-more-div"):-1!=s.loadMode.indexOf("paginate")&&(o=n.find("#youmax-next-div"),i.empty()),null!=r&&"undefined"!=r&&""!=r?-1==r.indexOf("youmax-generated")&&o.data("nextpagetoken",r):o.data("nextpagetoken","");for(var c=0;c<a.length;c++)playlistId=a[c].id,videoCount=a[c].contentDetails.itemCount,playlistTitle=a[c].snippet.title,null!=a[c].snippet.thumbnails?(playlistThumbnail=a[c].snippet.thumbnails.medium.url,playlistUploaded=a[c].snippet.publishedAt,i.append('<li id="'+playlistId+'" href="https://www.youtube.com/watch?v='+playlistId+'" ><img src="'+playlistThumbnail+'"><div class="youmax-playlist-video-count-wrapper"><div class="youmax-playlist-video-count-box"><span class="youmax-playlist-video-count">'+videoCount+'</span><br>VIDEOS<br><div class="youmax-playlist-line-wrapper"><span class="youmax-playlist-line"></span><br><span class="youmax-playlist-line"></span><br><span class="youmax-playlist-line"></span></div></div></div><p><span class="youmax-video-list-title">'+playlistTitle+'</span><span class="youmax-video-list-views youmax-video-list-date-playlist">'+A(playlistUploaded,l)+' </span></p><div class="youmax-clean-playlist-title">'+playlistTitle+"</div></li>")):playlistThumbnail="";z(n,"playlist"),-1==s.loadMode.indexOf("paginate")||null!=r&&-1!=r.indexOf("youmax-generated")||a.length>0&&(cache=n.data("cache"),cacheIndex=n.data("cacheindex"),cache=cache.concat(a),cacheIndex=cache.length-a.length-1,n.data("cache",cache),n.data("cacheindex",cacheIndex))},O=function(e,t,n,o){if(t=t.replace(/%20/g," "),!n&&(0==o.find(".youmax-tab-hover").length&&o.find("#youmax-showing-title").append('<div id="query_'+t+'" class="youmax-tab youmax-tab-hover youmax-showing-search-title"><i class="fa fa-search fa-1x youmax-showing-search-icon"></i>'+t+"</div>").show(),null==e.items||0==e.items.length)){var i=o.find("ul");i.empty().append('<div class="youmax-not-found"><span style="opacity:0;">.</span><br><br><br><br><br><br>Loading...<br><br><br><br><br><br><span style="opacity:0;">.</span></div>')}L(e,o)},L=function(e,t,n,o){var i=[],a=t.find("ul"),r=t.data("youmax_global_options"),s=t.data("youmax_translator_text"),l=e.items;if(!n){var c,u=e.nextPageToken;"loadmore"==r.loadMode?c=t.find("#youmax-load-more-div"):-1!=r.loadMode.indexOf("paginate")&&(c=t.find("#youmax-next-div"),a.empty()),null!=u&&"undefined"!=u&&""!=u?-1==u.indexOf("youmax-generated")&&c.data("nextpagetoken",u):c.data("nextpagetoken","")}if(null!=l&&0!=l.length){t.find(".youmax-not-found").remove();for(var d=0;d<l.length;d++)n?videoId=l[d].id:videoId=l[d].id.videoId,a.find("#"+videoId).length>0||(videoTitle=l[d].snippet.title,null!=l[d].snippet.thumbnails?(videoThumbnail=l[d].snippet.thumbnails.medium.url,o&&(eventType=l[d].snippet.liveBroadcastContent,"upcoming"==eventType?videoThumbnail=videoThumbnail.replace(".jpg","_live.jpg"):"live"==eventType?videoThumbnail=videoThumbnail.replace(".jpg","_live.jpg"):"completed"==eventType),videoUploaded=l[d].snippet.publishedAt,videoDescription=l[d].snippet.description,channelId=l[d].snippet.channelId,i.push(videoId),a.append('<li id="'+videoId+'" href="https://www.youtube.com/watch?v='+videoId+'" data-description="'+videoDescription+'" data-channelid="'+channelId+'"><img src="'+videoThumbnail+'"><p><span class="youmax-video-list-title">'+videoTitle+'</span><span class="youmax-video-list-description">'+videoDescription+'</span><span class="youmax-view-date-holder"><span class="youmax-video-list-views"></span><span class="youmax-views-date-separator">|</span><span class="youmax-video-list-date">'+A(videoUploaded,s)+'</span></span></p><div class="youmax-clean-overlay-holder"><span class="youmax-clean-title">'+videoTitle+'</span><span class="youmax-clean-time"></span></span></div></li>')):videoThumbnail="");z(t),x(i,t,o),-1==r.loadMode.indexOf("paginate")||null!=u&&-1!=u.indexOf("youmax-generated")||l.length>0&&(cache=t.data("cache"),cacheIndex=t.data("cacheindex"),cache=cache.concat(l),cacheIndex=cache.length-l.length-1,t.data("cache",cache),t.data("cacheindex",cacheIndex))}},D=function(e){var t=new Date(e);return month=["Jan","Feb","","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t.getMinutes()<10?minutes="0"+t.getMinutes():minutes=t.getMinutes(),t.getDate()+" "+month[t.getMonth()+1]+" "+t.getHours()+":"+minutes+" GMT"},A=function(e,t){return null==e||""==e||"undefined"==e?"?":(dateDiffMS=Math.abs(new Date-new Date(e)),dateDiffHR=dateDiffMS/1e3/60/60,dateDiffHR>24?(dateDiffDY=dateDiffHR/24,dateDiffDY>30?(dateDiffMH=dateDiffDY/30,dateDiffMH>12?(dateDiffYR=dateDiffMH/12,dateDiffYR=Math.round(dateDiffYR),dateDiffYR<=1?dateDiffYR+" "+t.year+" "+t.ago:dateDiffYR+" "+t.years+" "+t.ago):(dateDiffMH=Math.round(dateDiffMH),dateDiffMH<=1?dateDiffMH+" "+t.month+" "+t.ago:dateDiffMH+" "+t.months+" "+t.ago)):(dateDiffDY=Math.round(dateDiffDY),dateDiffDY<=1?dateDiffDY+" "+t.day+" "+t.ago:dateDiffDY+" "+t.days+" "+t.ago)):(dateDiffHR=Math.round(dateDiffHR),dateDiffHR<1?t.now:1==dateDiffHR?dateDiffHR+" "+t.hour+" "+t.ago:dateDiffHR+" "+t.hours+" "+t.ago))},z=function(t,n){var o=t.data("youmax_global_options"),i=t.find("ul");i.imagesLoaded(function(){t.find(".youmax-loading-div").remove();var a={autoResize:!0,container:t.find("#youmax-video-list-div"),offset:o.innerOffset,itemWidth:o.minItemWidth,flexibleWidth:o.maxItemWidth,outerOffset:o.outerOffset},r=i.find("li");r.wookmark(a),"playlist"==n?"playall"==o.playlistAction?B(t,!0):t.find("#youmax-video-list-div li").click(function(){K(this.id,t),youmax_current_playlist_name=e(this).find(".youmax-video-list-title").text(),t.data("youmax_current_playlist_name",youmax_current_playlist_name),t.data("youmax_current_playlist_id",this.id)}):B(t),M(t)})},M=function(e){var t,n=e.data("youmax_global_options");"loadmore"==n.loadMode?(t=e.find("#youmax-load-more-div"),t.html('<i class="fa fa-plus fa-5x"></i>')):-1!=n.loadMode.indexOf("paginate")&&(t=e.find("#youmax-next-div"),t.html('<i class="fa fa-caret-right fa-5x"></i>'),e.find("#youmax-previous-div").html('<i class="fa fa-caret-left fa-5x"></i>')),t.removeClass("youmax-load-more-div-click")},R=function(e){var t=e.find(".youmax-encloser-comment-button.youmax-more-button");t.removeClass("youmax-load-more-comments-clicked"),t.html('<i class="fa fa-plus fa-3x"></i>')},B=function(t,n){var o="",a=t.data("youmax_global_options");t.data("youmax_translator_text");"popup"==a.displayVideo?(o=n?a.videoProtocol+"//www.youtube.com/embed?listType=playlist&list=%id%&rel=0":a.videoProtocol+"//www.youtube.com/embed/%id%?rel=0",a.autoPlayVideo&&(o+="&autoplay=1"),o+=a.showTitleInVideoPlayer?"&showinfo=1":"&showinfo=0",o+="&theme="+a.videoPlayerTheme,t.find("#youmax-video-list-div li").magnificPopup({type:"iframe",gallery:{enabled:!0},iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe><div id="photo-detail-holder"> <div class="photo-popup-title"></div> <div class="photo-popup-description"></div> <div class="photo-popup-stats"><span class="media-views"></span><span class="media-likes"> </span><span class="media-uploaded"></span></div> <div id="youmax-encloser-comment-holder" class="youmax-encloser-comment-holder-popup"> <div class="youmax-video-comment youmax-commentbox-holder"> <div type="button" class="youmax-share-video-button btn"><i class="fa fa-share fa-2x"></i></div> </div> <div id="youmax-encloser-comments"></div> </div> </div></div>',patterns:{youtube:{src:o}}},preloader:!1,showCloseBtn:!0,closeBtnInside:!1,closeOnContentClick:!1,closeOnBgClick:!0,enableEscapeKey:!0,modal:!1,alignTop:a.alignPopupToTop,removalDelay:100,mainClass:" ",prependTo:t.get(),callbacks:{change:function(n,o,i){var a=e(this.currItem.el.context);V(a,t)}}})):("inline"==a.displayVideo||"newpage"==a.displayVideo)&&(t.find("#youmax-video-list-div li").click(function(){$baseElement=e(this),W($baseElement,!0,!0,t,n)}),"inline"==a.displayVideo&&a.displayFirstVideoOnLoad&&setTimeout(function(){t.find("#youmax-video-list-div li:first").click()},100),"inline"==a.displayVideo&&""!=a.featuredVideo&&(videoId=a.featuredVideo.substring(a.featuredVideo.lastIndexOf("?v=")+3),i(videoId,t,!1,!1),a.featuredVideo="",t.data("youmax_global_options",a)))},V=function(e,t){var n=t.data("youmax_global_options"),o=t.data("youmax_translator_text");video_likes=e.data("likes"),video_views=e.data("views"),video_description=e.data("description"),video_uploaded=e.find(".youmax-video-list-date").text(),video_id=e.attr("id"),video_title=e.find(".youmax-video-list-title").text(),channel_id=e.data("channelid"),setTimeout(function(){null!=video_title&&t.find(".photo-popup-title").html(video_title),null!=video_description&&(video_description=video_description.replace(/\n/g,"<br>"),t.find(".photo-popup-description").html(video_description)),null!=video_likes&&t.find(".media-likes").html(video_likes+" "+o.likes),null!=video_views&&t.find(".media-views").html(video_views+" "+o.views),null!=video_uploaded&&t.find(".media-uploaded").html(video_uploaded),t.find(".youmax-show-button.youmax-popup-show-button").attr("id",video_id).show(),t.find(".youmax-show-button.youmax-popup-show-button").data("channelid",channel_id),t.find(".youmax-encloser-comment-button.youmax-more-button").data("start-index",1),t.find("#youmax-encloser-comment-holder").hide(),n.autoLoadComments&&q(video_id,t),"youtube"==n.shareLink?shareLink="https://youtu.be/"+video_id:shareLink=window.location.href,config={networks:{facebook:{app_id:n.facebookAppId},email:{enabled:!1},pinterest:{enabled:!1}},ui:{flyout:"top center",button_text:'SHARE <i class="fa fa-2x fa-share"></i>'},url:shareLink},new Share(".youmax-share-video-button",config)},100)},W=function(t,n,o,i,a){var r=i.data("youmax_global_options");i.data("youmax_translator_text");i.find("#youmax-encloser").empty().append('<div class="fluid-width-video-wrapper" style="padding-top:'+100*r.aspectRatio+'%;"><iframe id="youmax-encloser-video" style="width:100%;" src="" frameborder="0" allowfullscreen></iframe></div><div id="youmax-encloser-comment-wrapper"><div id="photo-detail-holder"><div class="photo-popup-title"></div><div class="photo-popup-description"></div><div class="photo-popup-stats"><span class="media-views"></span><span class="media-likes"> </span><span class="media-uploaded"></span></div> <div class="youmax-show-button-wrapper"><div class="youmax-encloser-comment-button youmax-show-button youmax-popup-show-button"><i class="fa fa-comments fa-3x"></i></div></div> <div id="youmax-encloser-comment-holder" class="youmax-encloser-comment-holder-popup"><div class="youmax-video-comment youmax-commentbox-holder"><div type="button" class="youmax-share-video-button"><i class="fa fa-share fa-2x"></i></div></div><div id="youmax-encloser-comments"><div class="youmax-encloser-comment-button youmax-more-button"><i class="fa fa-plus fa-3x"></i></div></div> </div> </div>'),$youmaxEncloserIframe=i.find("#youmax-encloser-video"),$youmaxEncloserIframe.attr("src",""),$youmaxEncloserIframe.parents("#youmax-encloser").show(),n&&e("html, body").animate({scrollTop:$youmaxEncloserIframe.offset().top-50},"slow"),videoId=t.attr("id"),a?frame_source=r.videoProtocol+"//www.youtube.com/embed?listType=playlist&list="+videoId+"&rel=0":frame_source=r.videoProtocol+"//www.youtube.com/embed/"+videoId+"?rel=0",r.autoPlayVideo&&(frame_source+="&autoplay=1"),r.showTitleInVideoPlayer?frame_source+="&showinfo=1":frame_source+="&showinfo=0",frame_source+="&theme="+r.videoPlayerTheme,$youmaxEncloserIframe.attr("src",frame_source),V(t,i),"newpage"==r.displayVideo&&(r.linkNewPages&&o?-1==location.href.indexOf("?v=")&&-1==location.href.indexOf("&v=")?location.href+=(location.search.length?"&":"?")+"v="+videoId:(location_href=location.href.match(/(v=.+?)($|&)/,""),location.href=location.href.replace(location_href[1],"v="+videoId)):(i.find("#youmax-video-list-div li").remove(),i.find("#youmax-video-list-div").css("height","20px"),i.find("#youmax-load-more-div").attr("disabled","disabled"),i.find(".youmax-tab-hover").removeClass("youmax-tab-hover"),i.find(".youmax-encloser-comment-button.youmax-show-button").click(),i.find("#youmax-showing-title").empty().hide()))},F=function(t,n,o,i,a,r,l,c,u){searchTabId="search_"+l+"_"+e.now(),u.find("#youmax-tabs").append('<span id="'+searchTabId+'" class="youmax-tab" >'+t+"</span>"),u.find("#youmax-select").append('<option value="'+searchTabId+'" >'+t+"</option>"),$searchTab=u.find("#"+searchTabId),$searchTab.data("restrictToChannels",[]);for(var d=n.split(","),p=0;p<d.length;p++)null!=d[p]&&(s=d[p].indexOf("/user/"),-1!=s?(userId=d[p].substring(s+6),apiUrl="https://www.googleapis.com/youtube/v3/channels?part=id&forUsername="+userId+"&key="+c,g(apiUrl,$searchTab)):(s=d[p].indexOf("/channel/"),-1!=s?(channelId=d[p].substring(s+9),restrictedChannels=$searchTab.data("restrictToChannels"),restrictedChannels.push(channelId),$searchTab.data("restrictToChannels",restrictedChannels)):$searchTab.data("restrictToChannels","")));s=o.indexOf("/watch?v="),-1!=s?(videoId=o.substring(s+9),$searchTab.data("relatedTo",videoId)):$searchTab.data("relatedTo",""),null!=i?$searchTab.data("searchQuery",i):$searchTab.data("searchQuery",""),$searchTab.data("searchOrder",a),null!=r?$searchTab.data("eventType",r):$searchTab.data("eventType","");var f=u.data("youmax_global_options");"s"==f.selectedTab.charAt(0)&&(searchSelect=f.selectedTab.charAt(1),l.toString()==searchSelect&&e("#"+searchTabId).click())},U=function(t,n,o){var i="",a=!1,r=o.data("youmax_global_options"),s=r.apiKey,l=r.maxResults;null!=n&&(i="&pageToken="+n,a=!0),$searchTab=e("#"+t),restrictedChannels=$searchTab.data("restrictToChannels"),relatedTo=$searchTab.data("relatedTo"),searchQuery=$searchTab.data("searchQuery"),searchOrder=$searchTab.data("searchOrder"),eventType=$searchTab.data("eventType");var c=[],u="";null!=searchQuery&&""!=searchQuery&&(searchQuery=searchQuery.replace(/ /g,"%20"),u="&q="+searchQuery);var d="";null!=relatedTo&&""!=relatedTo&&(d="&relatedToVideoId="+relatedTo);var p="",f=!1;null!=eventType&&""!=eventType&&(p="&eventType="+eventType,f=!0);var m="";null!=searchOrder&&""!=searchOrder&&(m="&order="+searchOrder);var h="";null!=restrictedChannels&&restrictedChannels.length>0&&(h="&channelId="+restrictedChannels[0]),restrictedChannels.length>0&&(l/=restrictedChannels.length),c.push("https://www.googleapis.com/youtube/v3/search?part=snippet"+u+d+p+m+h+"&type=video&maxResults="+l+i+"&key="+s);for(var y=1;y<restrictedChannels.length;y++)c.push("https://www.googleapis.com/youtube/v3/search?part=snippet"+u+d+p+m+"&channelId="+restrictedChannels[y]+"&type=video&maxResults="+l+i+"&key="+s);for(var y=0;y<c.length;y++)apiPlaylistVideosURL=c[y],e.ajax({url:apiPlaylistVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){L(e,o,!1,f)},error:function(e){alert(e)},beforeSend:T})},H=function(t,n,o){var i="",a=!1,r=o.data("youmax_global_options"),s=r.apiKey,l=r.maxResults;if(null!=n&&(i="&pageToken="+n,a=!0),t=t.substring(t.indexOf("_")+1),null!=t&&""!=t.trim()){t=t.trim().replace(/ /g,"%20");var c="";"channel"==r.searchBoxScope&&(c="&channelId="+r.channelId),apiSearchURL="https://www.googleapis.com/youtube/v3/search?part=snippet&q="+t+"&order=relevance"+c+"&type=video&maxResults="+l+i+"&key="+s,e.ajax({url:apiSearchURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){O(e,t,a,o)},error:function(e){alert(e)},beforeSend:T}),null!=r.playlistSearchFile&&""!=r.playlistSearchFile&&e.ajax({url:r.playlistSearchFile,type:"GET",async:!0,cache:!0,dataType:"json",success:function(e){N(e,t,a,o)},error:function(e){},beforeSend:T})}},N=function(t,n,o,i){var a=i.data("youmax_global_options");searchList=t.searchList,searchQueryList=n.toLowerCase().split("%20"),searchResult=[];for(var r=0;r<searchList.length;r++)for(var s=0;s<searchQueryList.length;s++){if(-1!=searchList[r].videoTitle.indexOf(searchQueryList[s])){searchResult.push(searchList[r].videoId);break}if(-1!=searchList[r].videoDescription.indexOf(searchQueryList[s])){searchResult.push(searchList[r].videoId);break}}searchResult.length>0&&(apiGetVideosURL="https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+searchResult+"&key="+a.apiKey,e.ajax({url:apiGetVideosURL,type:"GET",async:!0,cache:!0,dataType:"jsonp",success:function(e){L(e,i,!0)},error:function(e){alert(e)},beforeSend:T}))},$=function(e){e.find("#youmax-video-list-div>ul").empty(),e.find("#youmax-encloser").empty(),e.find("#youmax-encloser-video").attr("src",""),e.find("#youmax-video-list-div>ul").append('<div class="youmax-loading-div" style="text-align:center; height:200px; font:14px Calibri;"><span style="opacity:0;">.</span><br><br><br><br>Loading...<br><br><br><br><br><br><span style="opacity:0;">.</span></div>'),e.find("#youmax-showing-title").empty().hide()},q=function(e,t){t.find(".youmax-encloser-comment-button.youmax-show-button").hide(),t.find("#youmax-encloser-comment-holder").show(),t.find("#youmax-encloser-comments").empty().append("<div class='youmax-loading-comments-div'>loading...</div>"),a(e,t)},G=function(e){var t=e.find(".youmax-encloser-comment-button.youmax-more-button");t.addClass("youmax-load-more-comments-clicked"),t.html('<i class="fa fa-ellipsis-h fa-3x"></i>');var n=t.data("nextpagetoken");null!=n&&"undefined"!=n&&""!=n?(videoId=e.find(".youmax-encloser-comment-button.youmax-show-button").attr("id"),a(videoId,e,n)):(t.removeClass("youmax-load-more-comments-clicked"),t.html('<i class="fa fa-close fa-3x"></i>'))},K=function(o,i){cache=[],i.data("cache",cache),i.find("#youmax-encloser").hide(),i.find("#youmax-encloser-video").attr("src",""),$(i),-1!=o.indexOf("search_")?U(o,null,i):-1!=o.indexOf("playlists_")?l(o,null,i):-1!=o.indexOf("query_")?H(o,null,i):-1!=o.indexOf("events_")?n(o,null,i):t(o,null,i),i.find(".youmax-tab").removeClass("youmax-tab-hover"),e("#"+o).addClass("youmax-tab-hover"),i.find("#youmax-select").val(o)},X=function(e){var t=e.data("youmax_global_options"),n={search:"Search",uploads:"Uploads",playlists:"Playlists",events:"Events",views:"views",likes:"likes",videos:"videos",subscribers:"subscribers",year:"year",years:"years",month:"month",months:"months",day:"day",days:"days",hour:"hour",hours:"hours",ago:"ago",now:"just now",thoughts:"Share your Thoughts..."};e.data("youmax_translator_text",n),null!=t.translatorFile&&""!=t.translatorFile?Z(e):ee(e)},Z=function(t){var n=t.data("youmax_global_options");e.ajax({url:n.translatorFile,type:"GET",async:!0,cache:!0,dataType:"json",success:function(e){J(e,t)},error:function(e){ee(t)},beforeSend:T})},J=function(e,t){youmax_translator_text=e.translator,t.data("youmax_translator_text",youmax_translator_text),ee(t)},ee=function(e){c(e),ie(e),te(e),ne(e),oe(e)},te=function(e){var t,n=e.data("youmax_global_options");null!=n.channel&&(t=n.channel.indexOf("/user/"),-1!=t?(userId=n.channel.substring(t+6),apiUrl="https://www.googleapis.com/youtube/v3/channels?part=id&forUsername="+userId+"&key="+n.apiKey,v(apiUrl,e)):(t=n.channel.indexOf("/channel/"),-1!=t?(channelId=n.channel.substring(t+9),y(channelId,e)):alert("Could Not Find Channel..")))},ne=function(t){var n,o=t.data("youmax_global_options"),i=[];if(e.isArray(o.playList))for(var a=0;a<o.playList.length;a++)n=o.playList[a].indexOf("list="),-1!=n&&(playlistId=o.playList[a].substring(n+5),i.push(playlistId));b(i,t)},oe=function(t){var n=t.data("youmax_global_options"),o={name:"Search",restrictToChannels:"",relatedTo:"",searchQuery:"",searchOrder:"",eventType:""};if(e.isArray(n.searchTab))for(var i=0;i<n.searchTab.length;i++)searchOptions=n.searchTab[i],null!=searchOptions&&F(searchOptions.name||o.name,searchOptions.restrictToChannels||o.restrictToChannels,searchOptions.relatedTo||o.relatedTo,searchOptions.searchQuery||o.searchQuery,searchOptions.searchOrder||o.searchOrder,searchOptions.eventType||o.eventType,i+1,n.apiKey,t)},ie=function(e){var t=e.data("youmax_global_options");"newpage"==t.displayVideo&&t.linkNewPages&&ae(e)},ae=function(e){if(-1!=location.href.indexOf("v=")){location_href=location.href.match(/v=(.+?)($|&)/,""),videoId=location_href[1],i(videoId,e,!1,!1);var t=e.data("youmax_global_options");t.selectedTab="xxx",e.data("youmax_global_options",t),e.addClass("newpage")}};e.fn.youmax=function(t){var n={},o=this;("white"==t.skin||"grey"==t.skin||"blue"==t.skin||"clean"==t.skin||"block"==t.skin)&&(document.createStyleSheet?document.createStyleSheet("./css/youmax_"+t.skin+".min.css"):e("head").append("<link rel='stylesheet' href='./css/youmax_"+t.skin+".min.css' type='text/css' />")),n.apiKey=t.apiKey,n.channel=t.channel,n.playList=t.playList,n.searchTab=t.searchTab,n.clientId=t.clientId||"",n.maxResults=t.maxResults||18,n.innerOffset=t.innerOffset||40,n.outerOffset=t.outerOffset||40,n.minItemWidth=t.minItemWidth||250,n.maxItemWidth=t.maxItemWidth||400,n.displayVideo=t.displayVideo||"popup",
n.aspectRatio=.5625,n.selectedTab=t.selectedTab||"u",n.alwaysUseDropdown=t.alwaysUseDropdown,n.maxPlaylistNameLength=22,n.autoPlayVideo=t.autoPlayVideo||!1,n.displayFirstVideoOnLoad=t.displayFirstVideoOnLoad||!1,n.linkNewPages=t.linkNewPages||!1,n.videoProtocol=t.videoProtocol||"http:",n.featuredVideo=t.featuredVideo||"",n.searchBoxScope=t.searchBoxScope||"channel",n.autoLoadComments=t.autoLoadComments||!1,n.alignPopupToTop=t.alignPopupToTop||!1,n.commentOrder=t.commentOrder||"time",n.playlistSearchFile=t.playlistSearchFile||"",n.skin=t.skin||"",n.userWebsite=t.userWebsite||"",n.videoMode=t.videoMode||"wide",n.shareLink=t.shareLink||"youtube",n.facebookAppId=t.facebookAppId||"",n.widgetMode=t.widgetMode||!1,n.viewCountType=t.viewCountType||"abbr",n.showEvents=t.showEvents||!1,n.likeCommentCountType=t.likeCommentCountType||"abbr",n.loadMode=t.loadMode||"loadmore",n.hideHeader=t.hideHeader||!1,n.hideNavigation=t.hideNavigation||!1,n.loadButtonSize=t.loadButtonSize||"large",n.playlistAction=t.playlistAction||"showvideos",n.videoPlayerTheme=t.videoPlayerTheme||"dark",n.hideComments=t.hideComments||!1,n.minVideoContainerHeight=t.minVideoContainerHeight||10,n.hideVideoThumbnails=t.hideVideoThumbnails||!1,n.hideLoadMore=t.hideLoadMore||!1,n.showTitleInVideoPlayer=t.showTitleInVideoPlayer,n.translatorFile=t.translatorFile||"",n.hideVideoDetails=t.hideVideoDetails||!1,o.data("youmax_global_options",n),P="comma"==n.viewCountType?_:w,k="comma"==n.likeCommentCountType?_:w,-1!=n.skin.indexOf("clean")&&(n.alwaysUseDropdown=!0),"paginate-sides"==n.loadMode&&(n.loadButtonSize="small",n.playlistAction="playall"),(null==n.showTitleInVideoPlayer||""===n.showTitleInVideoPlayer)&&(n.showTitleInVideoPlayer=!0);var i=[],a=-1,r={items:[],nextPageToken:"youmax-generated"},s=[];o.data("cache",i),o.data("cacheindex",a),o.data("eventcache",r),o.data("eventcachestatus",s),document.createStyleSheet?document.createStyleSheet(n.videoProtocol+"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"):e("head").append("<link rel='stylesheet' href='"+n.videoProtocol+"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css' type='text/css' />"),t.maxContainerWidth=t.maxContainerWidth||1e3,o.css("max-width",t.maxContainerWidth+"px");var l="";return"wide"==n.videoMode&&(l+="#youmax-encloser {max-width: 100%;}	#youmax-encloser-comment-wrapper {max-width: 880px;margin: 20px auto auto;}"),n.widgetMode&&o.addClass("youmax-widget"),n.hideHeader&&(l+="#youmax-header{display:none !important;} .youmax-select-box-wrapper {padding-top: 3px;}"),n.hideNavigation&&(l+="#youmax-tabs,.youmax-select-box-wrapper,#youmax-select-box{display:none !important;}"),n.hideVideoDetails&&(l+=".photo-popup-title,.photo-popup-description,.photo-popup-stats{display:none !important;}"),n.hideVideoDetails&&n.hideComments&&(l+="#photo-detail-holder{display:none !important;}"),n.hideVideoThumbnails&&(l+="#youmax-video-list-div{display:none !important;}"),n.hideLoadMore&&(l+="#youmax-load-more-div,.youmax-pagination,.youmax-pagination-button-wrapper{display:none !important;}"),n.minVideoContainerHeight>0&&(l+="#youmax-video-list-div{min-height:"+n.minVideoContainerHeight+"px;}"),t.maxContainerWidth<900&&o.addClass("lt900"),t.maxContainerWidth<800&&o.addClass("lt800"),t.maxContainerWidth<650&&o.addClass("lt650"),t.maxContainerWidth<450&&o.addClass("lt400"),t.maxContainerWidth>1e3&&o.addClass("gt100"),e("head").append("<style class='youmax-added-styles'>"+l+"</style>"),X(o),this}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){var t,n,o,i,a,r,s="Close",l="BeforeClose",c="AfterClose",u="BeforeAppend",d="MarkupParse",p="Open",f="Change",m="mfp",h="."+m,y="mfp-ready",v="mfp-removing",g="mfp-prevent-close",b=function(){},x=!!window.jQuery,T=e(window),w=function(e,n){t.ev.on(m+e+h,n)},P=function(t,n,o,i){var a=document.createElement("div");return a.className="mfp-"+t,o&&(a.innerHTML=o),i?n&&n.appendChild(a):(a=e(a),n&&a.appendTo(n)),a},k=function(n,o){t.ev.triggerHandler(m+n,o),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(o)?o:[o]))},_=function(n){return n===r&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),r=n),t.currTemplate.closeBtn},C=function(){e.magnificPopup.instance||(t=new b,t.init(),e.magnificPopup.instance=t)},Y=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};b.prototype={constructor:b,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isIE8=-1!==n.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=Y(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),o=e(document),t.popupsCache={}},open:function(n){var i;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var r,s=n.items;for(i=0;i<s.length;i++)if(r=s[i],r.parsed&&(r=r.el[0]),r===n.el[0]){t.index=i;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],a="",n.mainEl&&n.mainEl.length?t.ev=n.mainEl.eq(0):t.ev=o,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=P("bg").on("click"+h,function(){t.close()}),t.wrap=P("wrap").attr("tabindex",-1).on("click"+h,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=P("container",t.wrap)),t.contentContainer=P("content"),t.st.preloader&&(t.preloader=P("preloader",t.container,t.st.tLoading));var l=e.magnificPopup.modules;for(i=0;i<l.length;i++){var c=l[i];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}k("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(w(d,function(e,t,n,o){n.close_replaceWith=_(o.type)}),a+=" mfp-close-btn-in"):t.wrap.append(_())),t.st.alignTop&&(a+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:T.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:o.height(),position:"absolute"}),t.st.enableEscapeKey&&o.on("keyup"+h,function(e){27===e.keyCode&&t.close()}),T.on("resize"+h,function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var u=t.wH=T.height(),f={};if(t.fixedContentPos&&t._hasScrollBar(u)){var m=t._getScrollbarSize();m&&(f.marginRight=m)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):f.overflow="hidden");var v=t.st.mainClass;return t.isIE7&&(v+=" mfp-ie7"),v&&t._addClassToMFP(v),t.updateItemHTML(),k("BuildControls"),e("html").css(f),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||e(document.body)),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(y),t._setFocus()):t.bgOverlay.addClass(y),o.on("focusin"+h,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),k(p),n},close:function(){t.isOpen&&(k(l),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(v),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){k(s);var n=v+" "+y+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var i={marginRight:""};t.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}o.off("keyup"+h+" focusin"+h),t.ev.off(h),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,k(c)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,o=window.innerHeight*n;t.wrap.css("height",o),t.wH=o}else t.wH=e||T.height();t.fixedContentPos||t.wrap.css("height",t.wH),k("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var o=n.type;if(k("BeforeChange",[t.currItem?t.currItem.type:"",o]),t.currItem=n,!t.currTemplate[o]){var a=t.st[o]?t.st[o].markup:!1;k("FirstMarkupParse",a),a?t.currTemplate[o]=e(a):t.currTemplate[o]=!0}i&&i!==n.type&&t.container.removeClass("mfp-"+i+"-holder");var r=t["get"+o.charAt(0).toUpperCase()+o.slice(1)](n,t.currTemplate[o]);t.appendContent(r,o),n.preloaded=!0,k(f,n),i=n.type,t.container.prepend(t.contentContainer),k("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(_()):t.content=e:t.content="",k(u),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var o,i=t.items[n];if(i.tagName?i={el:e(i)}:(o=i.type,i={data:i,src:i.src}),i.el){for(var a=t.types,r=0;r<a.length;r++)if(i.el.hasClass("mfp-"+a[r])){o=a[r];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=o||t.st.type||"inline",i.index=n,i.parsed=!0,t.items[n]=i,k("ElementParse",i),t.items[n]},addGroup:function(e,n){var o=function(o){o.mfpEl=this,t._openClick(o,e,n)};n||(n={});var i="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(i).on(i,o)):(n.isObj=!1,n.delegate?e.off(i).on(i,n.delegate,o):(n.items=e,e.off(i).on(i,o)))},_openClick:function(n,o,i){var a=void 0!==i.midClick?i.midClick:e.magnificPopup.defaults.midClick;if(a||2!==n.which&&!n.ctrlKey&&!n.metaKey){var r=void 0!==i.disableOn?i.disableOn:e.magnificPopup.defaults.disableOn;if(r)if(e.isFunction(r)){if(!r.call(t))return!0}else if(T.width()<r)return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),i.el=e(n.mfpEl),i.delegate&&(i.items=o.find(i.delegate)),t.open(i)}},updateStatus:function(e,o){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),o||"loading"!==e||(o=t.st.tLoading);var i={status:e,text:o};k("UpdateStatus",i),e=i.status,o=i.text,t.preloader.html(o),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(g)){var o=t.st.closeOnContentClick,i=t.st.closeOnBgClick;if(o&&i)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(o)return!0}else if(i&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?o.height():document.body.scrollHeight)>(e||T.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,o){var i;o.data&&(n=e.extend(o.data,n)),k(d,[t,n,o]),e.each(n,function(e,n){if(void 0===n||n===!1)return!0;if(i=e.split("_"),i.length>1){var o=t.find(h+"-"+i[0]);if(o.length>0){var a=i[1];"replaceWith"===a?o[0]!==n[0]&&o.replaceWith(n):"img"===a?o.is("img")?o.attr("src",n):o.replaceWith('<img src="'+n+'" class="'+o.attr("class")+'" />'):o.attr(i[1],n)}}else t.find(h+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:b.prototype,modules:[],open:function(t,n){return C(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(n){C();var o=e(this);if("string"==typeof n)if("open"===n){var i,a=x?o.data("magnificPopup"):o[0].magnificPopup,r=parseInt(arguments[1],10)||0;a.items?i=a.items[r]:(i=o,a.delegate&&(i=i.find(a.delegate)),i=i.eq(r)),t._openClick({mfpEl:i},o,a)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),x?o.data("magnificPopup",n):o[0].magnificPopup=n,t.addGroup(o,n);return o};var j,I=function(){return void 0===j&&(j=void 0!==document.createElement("p").style.MozTransform),j};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,o=".zoom";if(n.enabled&&t.supportsTransition){var i,a,r=n.duration,c=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),o="all "+n.duration/1e3+"s "+n.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},a="transition";return i["-webkit-"+a]=i["-moz-"+a]=i["-o-"+a]=i[a]=o,t.css(i),t},u=function(){t.content.css("visibility","visible")};w("BuildControls"+o,function(){if(t._allowZoom()){if(clearTimeout(i),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void u();a=c(e),a.css(t._getOffset()),t.wrap.append(a),i=setTimeout(function(){a.css(t._getOffset(!0)),i=setTimeout(function(){u(),setTimeout(function(){a.remove(),e=a=null,k("ZoomAnimationEnded")},16)},r)},16)}}),w(l+o,function(){if(t._allowZoom()){if(clearTimeout(i),t.st.removalDelay=r,!e){if(e=t._getItemToZoom(),!e)return;a=c(e)}a.css(t._getOffset(!0)),t.wrap.append(a),t.content.css("visibility","hidden"),setTimeout(function(){a.css(t._getOffset())},16)}}),w(s+o,function(){t._allowZoom()&&(u(),a&&a.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var o;o=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var i=o.offset(),a=parseInt(o.css("padding-top"),10),r=parseInt(o.css("padding-bottom"),10);i.top-=e(window).scrollTop()-a;var s={width:o.width(),height:(x?o.innerHeight():o[0].offsetHeight)-r-a};return I()?s["-moz-transform"]=s.transform="translate("+i.left+"px,"+i.top+"px)":(s.left=i.left,s.top=i.top),s}}});var E="iframe",S="//about:blank",Q=function(e){if(t.currTemplate[E]){var n=t.currTemplate[E].find("iframe");n.length&&(e||(n[0].src=S),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(E,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(E),w("BeforeChange",function(e,t,n){t!==n&&(t===E?Q():n===E&&Q(!0))}),w(s+"."+E,function(){Q()})},getIframe:function(n,o){var i=n.src,a=t.st.iframe;e.each(a.patterns,function(){return i.indexOf(this.index)>-1?(this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1):void 0});var r={};return a.srcAction&&(r[a.srcAction]=i),t._parseMarkup(o,r,n),t.updateStatus("ready"),o}}});var O=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},L=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,i=".mfp-gallery",r=Boolean(e.fn.mfpFastClick);return t.direction=!0,n&&n.enabled?(a+=" mfp-gallery",w(p+i,function(){n.navigateByImgClick&&t.wrap.on("click"+i,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),o.on("keydown"+i,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),w("UpdateStatus"+i,function(e,n){n.text&&(n.text=L(n.text,t.currItem.index,t.items.length))}),w(d+i,function(e,o,i,a){var r=t.items.length;i.counter=r>1?L(n.tCounter,a.index,r):""}),w("BuildControls"+i,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var o=n.arrowMarkup,i=t.arrowLeft=e(o.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(g),a=t.arrowRight=e(o.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(g),s=r?"mfpFastClick":"click";i[s](function(){t.prev()}),a[s](function(){t.next()}),t.isIE7&&(P("b",i[0],!1,!0),P("a",i[0],!1,!0),P("b",a[0],!1,!0),P("a",a[0],!1,!0)),t.container.append(i.add(a))}}),w(f+i,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void w(s+i,function(){o.off(i),t.wrap.off("click"+i),t.arrowLeft&&r&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null})):!1},next:function(){t.direction=!0,t.index=O(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=O(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,o=Math.min(n[0],t.items.length),i=Math.min(n[1],t.items.length);for(e=1;e<=(t.direction?i:o);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?o:i);e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=O(n),!t.items[n].preloaded){var o=t.items[n];o.parsed||(o=t.parseEl(n)),k("LazyLoad",o),"image"===o.type&&(o.img=e('<img class="mfp-img" />').on("load.mfploader",function(){o.hasSize=!0}).on("error.mfploader",function(){o.hasSize=!0,o.loadError=!0,k("LazyLoadError",o)}).attr("src",o.src)),o.preloaded=!0}}}}),function(){var t=1e3,n="ontouchstart"in window,o=function(){T.off("touchmove"+a+" touchend"+a)},i="mfpFastClick",a="."+i;e.fn.mfpFastClick=function(i){return e(this).each(function(){var r,s=e(this);if(n){var l,c,u,d,p,f;s.on("touchstart"+a,function(e){d=!1,f=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],c=p.clientX,u=p.clientY,T.on("touchmove"+a,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,f=p.length,p=p[0],(Math.abs(p.clientX-c)>10||Math.abs(p.clientY-u)>10)&&(d=!0,o())}).on("touchend"+a,function(e){o(),d||f>1||(r=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){r=!1},t),i())})})}s.on("click"+a,function(){r||i()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+a+" click"+a),n&&T.off("touchmove"+a+" touchend"+a)}}(),C()}),!function(e){function t(){}function n(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function i(t,n){e.fn[t]=function(i){if("string"==typeof i){for(var r=o.call(arguments,1),s=0,l=this.length;l>s;s++){var c=this[s],u=e.data(c,t);if(u)if(e.isFunction(u[i])&&"_"!==i.charAt(0)){var d=u[i].apply(u,r);if(void 0!==d)return d}else a("no such method '"+i+"' for "+t+" instance");else a("cannot call methods on "+t+" prior to initialization; attempted to call '"+i+"'")}return this}return this.each(function(){var o=e.data(this,t);o?(o.option(i),o._init()):(o=new n(this,i),e.data(this,t,o))})}}if(e){var a="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){n(t),i(e,t)},e.bridget}}var o=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n("object"==typeof exports?require("jquery"):e.jQuery)}(window),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,o=function(){};n.addEventListener?o=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(o=function(e,n,o){e[n+o]=o.handleEvent?function(){var n=t(e);o.handleEvent.call(o,n)}:function(){var n=t(e);o.call(e,n)},e.attachEvent("on"+n,e[n+o])});var i=function(){};n.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(o){e[t+n]=void 0}});var a={bind:o,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",a):"object"==typeof exports?module.exports=a:e.eventie=a}(window),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var o=e.prototype,i=this,a=i.EventEmitter;o.getListeners=function(e){var t,n,o=this._getEvents();if(e instanceof RegExp){t={};for(n in o)o.hasOwnProperty(n)&&e.test(n)&&(t[n]=o[n])}else t=o[e]||(o[e]=[]);return t},o.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},o.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},o.addListener=function(e,n){var o,i=this.getListenersAsObject(e),a="object"==typeof n;for(o in i)i.hasOwnProperty(o)&&-1===t(i[o],n)&&i[o].push(a?n:{listener:n,once:!1});return this},o.on=n("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=n("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,n){var o,i,a=this.getListenersAsObject(e);for(i in a)a.hasOwnProperty(i)&&(o=t(a[i],n),-1!==o&&a[i].splice(o,1));return this},o.off=n("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var o,i,a=e?this.removeListener:this.addListener,r=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(o=n.length;o--;)a.call(this,t,n[o]);else for(o in t)t.hasOwnProperty(o)&&(i=t[o])&&("function"==typeof i?a.call(this,o,i):r.call(this,o,i));return this},o.removeEvent=function(e){var t,n=typeof e,o=this._getEvents();if("string"===n)delete o[e];else if(e instanceof RegExp)for(t in o)o.hasOwnProperty(t)&&e.test(t)&&delete o[t];else delete this._events;return this},o.removeAllListeners=n("removeEvent"),o.emitEvent=function(e,t){var n,o,i,a,r=this.getListenersAsObject(e);for(i in r)if(r.hasOwnProperty(i))for(o=r[i].length;o--;)n=r[i][o],n.once===!0&&this.removeListener(e,n.listener),a=n.listener.apply(this,t||[]),a===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},o.trigger=n("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=a,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:i.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof o[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,i=0,a=n.length;a>i;i++)if(t=n[i]+e,"string"==typeof o[t])return t}}var n="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e),n=-1===e.indexOf("%")&&!isNaN(t);return n&&t}function n(){}function o(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=r.length;n>t;t++){var o=r[t];e[o]=0}return e}function i(n){function i(){if(!p){p=!0;var o=e.getComputedStyle;if(c=function(){var e=o?function(e){return o(e,null)}:function(e){return e.currentStyle};return function(t){var n=e(t);return n||a("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),u=n("boxSizing")){var i=document.createElement("div");i.style.width="200px",i.style.padding="1px 2px 3px 4px",i.style.borderStyle="solid",i.style.borderWidth="1px 2px 3px 4px",i.style[u]="border-box";var r=document.body||document.documentElement;r.appendChild(i);var s=c(i);d=200===t(s.width),r.removeChild(i)}}}function s(e){if(i(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var n=c(e);if("none"===n.display)return o();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var s=a.isBorderBox=!(!u||!n[u]||"border-box"!==n[u]),p=0,f=r.length;f>p;p++){var m=r[p],h=n[m];h=l(e,h);var y=parseFloat(h);a[m]=isNaN(y)?0:y}var v=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,b=a.marginLeft+a.marginRight,x=a.marginTop+a.marginBottom,T=a.borderLeftWidth+a.borderRightWidth,w=a.borderTopWidth+a.borderBottomWidth,P=s&&d,k=t(n.width);k!==!1&&(a.width=k+(P?0:v+T));var _=t(n.height);return _!==!1&&(a.height=_+(P?0:g+w)),a.innerWidth=a.width-(v+T),a.innerHeight=a.height-(g+w),a.outerWidth=a.width+b,a.outerHeight=a.height+x,a}}function l(t,n){if(e.getComputedStyle||-1===n.indexOf("%"))return n;var o=t.style,i=o.left,a=t.runtimeStyle,r=a&&a.left;return r&&(a.left=t.currentStyle.left),o.left=n,n=o.pixelLeft,o.left=i,r&&(a.left=r),n}var c,u,d,p=!1;return s}var a="undefined"==typeof console?n:function(e){console.error(e)},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],i):"object"==typeof exports?module.exports=i(require("desandro-get-style-property")):e.getSize=i(e.getStyleProperty)}(window),function(e){function t(e){"function"==typeof e&&(t.isReady?e():r.push(e))}function n(e){var n="readystatechange"===e.type&&"complete"!==a.readyState;t.isReady||n||o()}function o(){t.isReady=!0;for(var e=0,n=r.length;n>e;e++){var o=r[e];o()}}function i(i){return"complete"===a.readyState?o():(i.bind(a,"DOMContentLoaded",n),i.bind(a,"readystatechange",n),i.bind(e,"load",n)),t}var a=e.document,r=[];t.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],i):"object"==typeof exports?module.exports=i(require("eventie")):e.docReady=i(e.eventie)}(window),function(e){function t(e,t){return e[r](t)}function n(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function o(e,t){n(e);for(var o=e.parentNode.querySelectorAll(t),i=0,a=o.length;a>i;i++)if(o[i]===e)return!0;return!1}function i(e,o){return n(e),t(e,o)}var a,r=function(){if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0,o=t.length;o>n;n++){var i=t[n],a=i+"MatchesSelector";if(e[a])return a}}();if(r){var s=document.createElement("div"),l=t(s,"div");a=l?t:i}else a=o;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return a}):"object"==typeof exports?module.exports=a:window.matchesSelector=a}(Element.prototype),function(e,t){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(n,o){return t(e,n,o)}):"object"==typeof exports?module.exports=t(e,require("doc-ready"),require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.docReady,e.matchesSelector)}(window,function(e,t,n){var o={};o.extend=function(e,t){for(var n in t)e[n]=t[n];return e},o.modulo=function(e,t){return(e%t+t)%t};var i=Object.prototype.toString;o.isArray=function(e){return"[object Array]"==i.call(e)},o.makeArray=function(e){var t=[];if(o.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t},o.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,o=e.length;o>n;n++)if(e[n]===t)return n;return-1},o.removeFrom=function(e,t){var n=o.indexOf(e,t);-1!=n&&e.splice(n,1)},o.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},o.setText=function(){function e(e,n){t=t||(void 0!==document.documentElement.textContent?"textContent":"innerText"),e[t]=n}var t;return e}(),o.getParent=function(e,t){for(;e!=document.body;)if(e=e.parentNode,n(e,t))return e},o.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},o.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.filterFindElements=function(e,t){e=o.makeArray(e);for(var i=[],a=0,r=e.length;r>a;a++){var s=e[a];if(o.isElement(s))if(t){n(s,t)&&i.push(s);for(var l=s.querySelectorAll(t),c=0,u=l.length;u>c;c++)i.push(l[c])}else i.push(s)}return i},o.debounceMethod=function(e,t,n){var o=e.prototype[t],i=t+"Timeout";e.prototype[t]=function(){var e=this[i];e&&clearTimeout(e);var t=arguments,a=this;this[i]=setTimeout(function(){o.apply(a,t),delete a[i]},n||100)}},o.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()};var a=e.console;return o.htmlInit=function(n,i){t(function(){for(var t=o.toDashed(i),r=document.querySelectorAll(".js-"+t),s="data-"+t+"-options",l=0,c=r.length;c>l;l++){var u,d=r[l],p=d.getAttribute(s);try{u=p&&JSON.parse(p)}catch(f){a&&a.error("Error parsing "+s+" on "+d.nodeName.toLowerCase()+(d.id?"#"+d.id:"")+": "+f);continue}var m=new n(d,u),h=e.jQuery;h&&h.data(d,i,m)}})},o}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(n,o,i,a){return t(e,n,o,i,a)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(e.Outlayer={},e.Outlayer.Item=t(e,e.EventEmitter,e.getSize,e.getStyleProperty,e.fizzyUIUtils))}(window,function(e,t,n,o,i){function a(e){for(var t in e)return!1;return t=null,!0}function r(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}function s(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var l=e.getComputedStyle,c=l?function(e){return l(e,null)}:function(e){return e.currentStyle},u=o("transition"),d=o("transform"),p=u&&d,f=!!o("perspective"),m={
WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],h=["transform","transition","transitionDuration","transitionProperty"],y=function(){for(var e={},t=0,n=h.length;n>t;t++){var i=h[t],a=o(i);a&&a!==i&&(e[i]=a)}return e}();i.extend(r.prototype,t.prototype),r.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.getSize=function(){this.size=n(this.element)},r.prototype.css=function(e){var t=this.element.style;for(var n in e){var o=y[n]||n;t[o]=e[n]}},r.prototype.getPosition=function(){var e=c(this.element),t=this.layout.options,n=t.isOriginLeft,o=t.isOriginTop,i=e[n?"left":"right"],a=e[o?"top":"bottom"],r=this.layout.size,s=-1!=i.indexOf("%")?parseFloat(i)/100*r.width:parseInt(i,10),l=-1!=a.indexOf("%")?parseFloat(a)/100*r.height:parseInt(a,10);s=isNaN(s)?0:s,l=isNaN(l)?0:l,s-=n?r.paddingLeft:r.paddingRight,l-=o?r.paddingTop:r.paddingBottom,this.position.x=s,this.position.y=l},r.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={},o=t.isOriginLeft?"paddingLeft":"paddingRight",i=t.isOriginLeft?"left":"right",a=t.isOriginLeft?"right":"left",r=this.position.x+e[o];n[i]=this.getXValue(r),n[a]="";var s=t.isOriginTop?"paddingTop":"paddingBottom",l=t.isOriginTop?"top":"bottom",c=t.isOriginTop?"bottom":"top",u=this.position.y+e[s];n[l]=this.getYValue(u),n[c]="",this.css(n),this.emitEvent("layout",[this])},r.prototype.getXValue=function(e){var t=this.layout.options;return t.percentPosition&&!t.isHorizontal?e/this.layout.size.width*100+"%":e+"px"},r.prototype.getYValue=function(e){var t=this.layout.options;return t.percentPosition&&t.isHorizontal?e/this.layout.size.height*100+"%":e+"px"},r.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,o=this.position.y,i=parseInt(e,10),a=parseInt(t,10),r=i===this.position.x&&a===this.position.y;if(this.setPosition(e,t),r&&!this.isTransitioning)return void this.layoutPosition();var s=e-n,l=t-o,c={};c.transform=this.getTranslate(s,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},r.prototype.getTranslate=function(e,t){var n=this.layout.options;return e=n.isOriginLeft?e:-e,t=n.isOriginTop?t:-t,f?"translate3d("+e+"px, "+t+"px, 0)":"translate("+e+"px, "+t+"px)"},r.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},r.prototype.moveTo=p?r.prototype._transitionTo:r.prototype.goTo,r.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},r.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},r.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(e);var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);var o=this.element.offsetHeight;o=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var v="opacity,"+s(y.transform||"transform");r.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(m,this,!1))},r.prototype.transition=r.prototype[u?"_transition":"_nonTransition"],r.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},r.prototype.onotransitionend=function(e){this.ontransitionend(e)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};r.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=g[e.propertyName]||e.propertyName;if(delete t.ingProperties[n],a(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd){var o=t.onEnd[n];o.call(this),delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])}},r.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(m,this,!1),this.isTransitioning=!1},r.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var b={transitionProperty:"",transitionDuration:""};return r.prototype.removeTransitionStyles=function(){this.css(b)},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},r.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var e=this;this.once("transitionEnd",function(){e.removeElem()}),this.hide()},r.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={},n=this.getHideRevealTransitionEndProperty("visibleStyle");t[n]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},r.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},r.prototype.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},r.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={},n=this.getHideRevealTransitionEndProperty("hiddenStyle");t[n]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},r.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},r.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,o,i,a,r){return t(e,n,o,i,a,r)}):"object"==typeof exports?module.exports=t(e,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=t(e,e.eventie,e.EventEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,function(e,t,n,o,i,a){function r(e,t){var n=i.getQueryElement(e);if(!n)return void(s&&s.error("Bad element for "+this.constructor.namespace+": "+(n||e)));this.element=n,l&&(this.$element=l(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(t);var o=++u;this.element.outlayerGUID=o,d[o]=this,this._create(),this.options.isInitLayout&&this.layout()}var s=e.console,l=e.jQuery,c=function(){},u=0,d={};return r.namespace="outlayer",r.Item=a,r.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},i.extend(r.prototype,n.prototype),r.prototype.option=function(e){i.extend(this.options,e)},r.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},r.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},r.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,o=[],i=0,a=t.length;a>i;i++){var r=t[i],s=new n(r,this);o.push(s)}return o},r.prototype._filterFindItemElements=function(e){return i.filterFindElements(e,this.options.itemSelector)},r.prototype.getItemElements=function(){for(var e=[],t=0,n=this.items.length;n>t;t++)e.push(this.items[t].element);return e},r.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},r.prototype._init=r.prototype.layout,r.prototype._resetLayout=function(){this.getSize()},r.prototype.getSize=function(){this.size=o(this.element)},r.prototype._getMeasurement=function(e,t){var n,a=this.options[e];a?("string"==typeof a?n=this.element.querySelector(a):i.isElement(a)&&(n=a),this[e]=n?o(n)[t]:a):this[e]=0},r.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},r.prototype._getItemsForLayout=function(e){for(var t=[],n=0,o=e.length;o>n;n++){var i=e[n];i.isIgnored||t.push(i)}return t},r.prototype._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){for(var n=[],o=0,i=e.length;i>o;o++){var a=e[o],r=this._getItemLayoutPosition(a);r.item=a,r.isInstant=t||a.isLayoutInstant,n.push(r)}this._processLayoutQueue(n)}},r.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},r.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;n>t;t++){var o=e[t];this._positionItem(o.item,o.x,o.y,o.isInstant)}},r.prototype._positionItem=function(e,t,n,o){o?e.goTo(t,n):e.moveTo(t,n)},r.prototype._postLayout=function(){this.resizeContainer()},r.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},r.prototype._getContainerSize=c,r.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},r.prototype._emitCompleteOnItems=function(e,t){function n(){i.dispatchEvent(e+"Complete",null,[t])}function o(){r++,r===a&&n()}var i=this,a=t.length;if(!t||!a)return void n();for(var r=0,s=0,l=t.length;l>s;s++){var c=t[s];c.once(e,o)}},r.prototype.dispatchEvent=function(e,t,n){var o=t?[t].concat(n):n;if(this.emitEvent(e,o),l)if(this.$element=this.$element||l(this.element),t){var i=l.Event(t);i.type=e,this.$element.trigger(i,n)}else this.$element.trigger(e,n)},r.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},r.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},r.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;n>t;t++){var o=e[t];this.ignore(o)}}},r.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,n=e.length;n>t;t++){var o=e[t];i.removeFrom(this.stamps,o),this.unignore(o)}},r.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=i.makeArray(e)):void 0},r.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var n=this.stamps[e];this._manageStamp(n)}}},r.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},r.prototype._manageStamp=c,r.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,i=o(e),a={left:t.left-n.left-i.marginLeft,top:t.top-n.top-i.marginTop,right:n.right-t.right-i.marginRight,bottom:n.bottom-t.bottom-i.marginBottom};return a},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.bindResize=function(){this.isResizeBound||(t.bind(e,"resize",this),this.isResizeBound=!0)},r.prototype.unbindResize=function(){this.isResizeBound&&t.unbind(e,"resize",this),this.isResizeBound=!1},r.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},r.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},r.prototype.needsResizeLayout=function(){var e=o(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},r.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},r.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},r.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},r.prototype.reveal=function(e){this._emitCompleteOnItems("reveal",e);for(var t=e&&e.length,n=0;t&&t>n;n++){var o=e[n];o.reveal()}},r.prototype.hide=function(e){this._emitCompleteOnItems("hide",e);for(var t=e&&e.length,n=0;t&&t>n;n++){var o=e[n];o.hide()}},r.prototype.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},r.prototype.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},r.prototype.getItem=function(e){for(var t=0,n=this.items.length;n>t;t++){var o=this.items[t];if(o.element===e)return o}},r.prototype.getItems=function(e){e=i.makeArray(e);for(var t=[],n=0,o=e.length;o>n;n++){var a=e[n],r=this.getItem(a);r&&t.push(r)}return t},r.prototype.remove=function(e){var t=this.getItems(e);if(this._emitCompleteOnItems("remove",t),t&&t.length)for(var n=0,o=t.length;o>n;n++){var a=t[n];a.remove(),i.removeFrom(this.items,a)}},r.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;n>t;t++){var o=this.items[t];o.destroy()}this.unbindResize();var i=this.element.outlayerGUID;delete d[i],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},r.data=function(e){e=i.getQueryElement(e);var t=e&&e.outlayerGUID;return t&&d[t]},r.create=function(e,t){function n(){r.apply(this,arguments)}return Object.create?n.prototype=Object.create(r.prototype):i.extend(n.prototype,r.prototype),n.prototype.constructor=n,n.defaults=i.extend({},r.defaults),i.extend(n.defaults,t),n.prototype.settings={},n.namespace=e,n.data=r.data,n.Item=function(){a.apply(this,arguments)},n.Item.prototype=new a,i.htmlInit(n,e),l&&l.bridget&&l.bridget(e,n),n},r.Item=a,r}),function(e,t){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):e.Masonry=t(e.Outlayer,e.getSize,e.fizzyUIUtils)}(window,function(e,t,n){var o=e.create("masonry");return o.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},o.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var o=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,a=i/o,r=o-i%o,s=r&&1>r?"round":"floor";a=Math[s](a),this.cols=Math.max(a,1)},o.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},o.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,o=t&&1>t?"round":"ceil",i=Math[o](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var a=this._getColGroup(i),r=Math.min.apply(Math,a),s=n.indexOf(a,r),l={x:this.columnWidth*s,y:r},c=r+e.size.outerHeight,u=this.cols+1-a.length,d=0;u>d;d++)this.colYs[s+d]=c;return l},o.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],n=this.cols+1-e,o=0;n>o;o++){var i=this.colYs.slice(o,o+e);t[o]=Math.max.apply(Math,i)}return t},o.prototype._manageStamp=function(e){var n=t(e),o=this._getElementOffset(e),i=this.options.isOriginLeft?o.left:o.right,a=i+n.outerWidth,r=Math.floor(i/this.columnWidth);r=Math.max(0,r);var s=Math.floor(a/this.columnWidth);s-=a%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var l=(this.options.isOriginTop?o.top:o.bottom)+n.outerHeight,c=r;s>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},o.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},o.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},o.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},o}),window.Modernizr=function(e,t,n){function o(e){b.cssText=e}function i(e,t){return o(P.join(e+";")+(t||""))}function a(e,t){return typeof e===t}function r(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var o in e){var i=e[o];if(!r(i,"-")&&b[i]!==n)return"pfx"==t?i:!0}return!1}function l(e,t,o){for(var i in e){var r=t[e[i]];if(r!==n)return o===!1?e[i]:a(r,"function")?r.bind(o||t):r}return!1}function c(e,t,n){var o=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+_.join(o+" ")+o).split(" ");return a(t,"string")||a(t,"undefined")?s(i,t):(i=(e+" "+C.join(o+" ")+o).split(" "),l(i,t,n))}function u(){m.input=function(n){for(var o=0,i=n.length;i>o;o++)E[n[o]]=n[o]in x;return E.list&&(E.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),E}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),m.inputtypes=function(e){for(var o,i,a,r=0,s=e.length;s>r;r++)x.setAttribute("type",i=e[r]),o="text"!==x.type,o&&(x.value=T,x.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(i)&&x.style.WebkitAppearance!==n?(y.appendChild(x),a=t.defaultView,o=a.getComputedStyle&&"textfield"!==a.getComputedStyle(x,null).WebkitAppearance&&0!==x.offsetHeight,y.removeChild(x)):/^(search|tel)$/.test(i)||(o=/^(url|email)$/.test(i)?x.checkValidity&&x.checkValidity()===!1:x.value!=T)),I[e[r]]=!!o;return I}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,p,f="2.8.3",m={},h=!0,y=t.documentElement,v="modernizr",g=t.createElement(v),b=g.style,x=t.createElement("input"),T=":)",w={}.toString,P=" -webkit- -moz- -o- -ms- ".split(" "),k="Webkit Moz O ms",_=k.split(" "),C=k.toLowerCase().split(" "),Y={svg:"http://www.w3.org/2000/svg"},j={},I={},E={},S=[],Q=S.slice,O=function(e,n,o,i){var a,r,s,l,c=t.createElement("div"),u=t.body,d=u||t.createElement("body");if(parseInt(o,10))for(;o--;)s=t.createElement("div"),s.id=i?i[o]:v+(o+1),c.appendChild(s);return a=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),c.id=v,(u?c:d).innerHTML+=a,d.appendChild(c),u||(d.style.background="",d.style.overflow="hidden",l=y.style.overflow,y.style.overflow="hidden",y.appendChild(d)),r=n(c,e),u?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),y.style.overflow=l),!!r},L=function(){function e(e,i){i=i||t.createElement(o[e]||"div"),e="on"+e;var r=e in i;return r||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(e,""),r=a(i[e],"function"),a(i[e],"undefined")||(i[e]=n),i.removeAttribute(e))),i=null,r}var o={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),D={}.hasOwnProperty;p=a(D,"undefined")||a(D.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(e,t){return D.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=Q.call(arguments,1),o=function(){if(this instanceof o){var i=function(){};i.prototype=t.prototype;var a=new i,r=t.apply(a,n.concat(Q.call(arguments)));return Object(r)===r?r:a}return t.apply(e,n.concat(Q.call(arguments)))};return o}),j.flexbox=function(){return c("flexWrap")},j.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},j.canvastext=function(){return!!m.canvas&&!!a(t.createElement("canvas").getContext("2d").fillText,"function")},j.webgl=function(){return!!e.WebGLRenderingContext},j.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:O(["@media (",P.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},j.geolocation=function(){return"geolocation"in navigator},j.postmessage=function(){return!!e.postMessage},j.websqldatabase=function(){return!!e.openDatabase},j.indexedDB=function(){return!!c("indexedDB",e)},j.hashchange=function(){return L("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},j.history=function(){return!!e.history&&!!history.pushState},j.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},j.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},j.rgba=function(){return o("background-color:rgba(150,255,150,.5)"),r(b.backgroundColor,"rgba")},j.hsla=function(){return o("background-color:hsla(120,40%,100%,.5)"),r(b.backgroundColor,"rgba")||r(b.backgroundColor,"hsla")},j.multiplebgs=function(){return o("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},j.backgroundsize=function(){return c("backgroundSize")},j.borderimage=function(){return c("borderImage")},j.borderradius=function(){return c("borderRadius")},j.boxshadow=function(){return c("boxShadow")},j.textshadow=function(){return""===t.createElement("div").style.textShadow},j.opacity=function(){return i("opacity:.55"),/^0.55$/.test(b.opacity)},j.cssanimations=function(){return c("animationName")},j.csscolumns=function(){return c("columnCount")},j.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return o((e+"-webkit- ".split(" ").join(t+e)+P.join(n+e)).slice(0,-e.length)),r(b.backgroundImage,"gradient")},j.cssreflections=function(){return c("boxReflect")},j.csstransforms=function(){return!!c("transform")},j.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in y.style&&O("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight}),e},j.csstransitions=function(){return c("transition")},j.fontface=function(){var e;return O('@font-face {font-family:"font";src:url("https://")}',function(n,o){var i=t.getElementById("smodernizr"),a=i.sheet||i.styleSheet,r=a?a.cssRules&&a.cssRules[0]?a.cssRules[0].cssText:a.cssText||"":"";e=/src/i.test(r)&&0===r.indexOf(o.split(" ")[0])}),e},j.generatedcontent=function(){var e;return O(["#",v,"{font:0/0 a}#",v,':after{content:"',T,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},j.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(o){}return n},j.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(o){}return n},j.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},j.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},j.webworkers=function(){return!!e.Worker},j.applicationcache=function(){return!!e.applicationCache},j.svg=function(){return!!t.createElementNS&&!!t.createElementNS(Y.svg,"svg").createSVGRect},j.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==Y.svg},j.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(w.call(t.createElementNS(Y.svg,"animate")))},j.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(w.call(t.createElementNS(Y.svg,"clipPath")))};for(var A in j)p(j,A)&&(d=A.toLowerCase(),m[d]=j[A](),S.push((m[d]?"":"no-")+d));return m.input||u(),m.addTest=function(e,t){if("object"==typeof e)for(var o in e)p(e,o)&&m.addTest(o,e[o]);else{if(e=e.toLowerCase(),m[e]!==n)return m;t="function"==typeof t?t():t,"undefined"!=typeof h&&h&&(y.className+=" "+(t?"":"no-")+e),m[e]=t}return m},o(""),g=x=null,function(e,t){function n(e,t){var n=e.createElement("p"),o=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",o.insertBefore(n.lastChild,o.firstChild)}function o(){var e=g.elements;return"string"==typeof e?e.split(" "):e}function i(e){var t=v[e[h]];return t||(t={},y++,e[h]=y,v[y]=t),t}function a(e,n,o){if(n||(n=t),u)return n.createElement(e);o||(o=i(n));var a;return a=o.cache[e]?o.cache[e].cloneNode():m.test(e)?(o.cache[e]=o.createElem(e)).cloneNode():o.createElem(e),!a.canHaveChildren||f.test(e)||a.tagUrn?a:o.frag.appendChild(a)}function r(e,n){if(e||(e=t),u)return e.createDocumentFragment();n=n||i(e);for(var a=n.frag.cloneNode(),r=0,s=o(),l=s.length;l>r;r++)a.createElement(s[r]);return a}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?a(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+o().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function l(e){e||(e=t);var o=i(e);return g.shivCSS&&!c&&!o.hasCSS&&(o.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),u||s(e,o),e}var c,u,d="3.7.0",p=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,m=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",y=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,u=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){c=!0,u=!0}}();var g={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:p.shivCSS!==!1,supportsUnknownElements:u,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:l,createElement:a,createDocumentFragment:r};e.html5=g,l(t)}(this,t),m._version=f,m._prefixes=P,m._domPrefixes=C,m._cssomPrefixes=_,m.hasEvent=L,m.testProp=function(e){return s([e])},m.testAllProps=c,m.testStyles=O,m.prefixed=function(e,t,n){return t?c(e,t,n):c(e,"pfx")},y.className=y.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+S.join(" "):""),m}(this,this.document),function(e,t,n){function o(e){return"[object Function]"==y.call(e)}function i(e){return"string"==typeof e}function a(){}function r(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=v.shift();g=1,e?e.t?m(function(){("c"==e.t?p.injectCss:p.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):g=0}function l(e,n,o,i,a,l,c){function u(t){if(!f&&r(d.readyState)&&(b.r=f=1,!g&&s(),d.onload=d.onreadystatechange=null,t)){"img"!=e&&m(function(){T.removeChild(d)},50);for(var o in C[n])C[n].hasOwnProperty(o)&&C[n][o].onload()}}var c=c||p.errorTimeout,d=t.createElement(e),f=0,y=0,b={t:o,s:n,e:a,a:l,x:c};1===C[n]&&(y=1,C[n]=[]),"object"==e?d.data=n:(d.src=n,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,y)},v.splice(i,0,b),"img"!=e&&(y||2===C[n]?(T.insertBefore(d,x?null:h),m(u,c)):C[n].push(d))}function c(e,t,n,o,a){return g=0,t=t||"j",i(e)?l("c"==t?P:w,e,t,this.i++,n,o,a):(v.splice(this.i++,0,e),1==v.length&&s()),this}function u(){var e=p;return e.loader={load:c,i:0},e}var d,p,f=t.documentElement,m=e.setTimeout,h=t.getElementsByTagName("script")[0],y={}.toString,v=[],g=0,b="MozAppearance"in f.style,x=b&&!!t.createRange().compareNode,T=x?f:h.parentNode,f=e.opera&&"[object Opera]"==y.call(e.opera),f=!!t.attachEvent&&!f,w=b?"object":f?"script":"img",P=f?"script":w,k=Array.isArray||function(e){return"[object Array]"==y.call(e)},_=[],C={},Y={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};p=function(e){function t(e){var t,n,o,e=e.split("!"),i=_.length,a=e.pop(),r=e.length,a={url:a,origUrl:a,prefixes:e};for(n=0;r>n;n++)o=e[n].split("="),(t=Y[o.shift()])&&(a=t(a,o));for(n=0;i>n;n++)a=_[n](a);return a}function r(e,i,a,r,s){var l=t(e),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(i&&(i=o(i)?i:i[e]||i[r]||i[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,i,a,r,s):(C[l.url]?l.noexec=!0:C[l.url]=1,a.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(o(i)||o(c))&&a.load(function(){u(),i&&i(l.origUrl,s,r),c&&c(l.origUrl,s,r),C[l.url]=2})))}function s(e,t){function n(e,n){if(e){if(i(e))n||(d=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}),r(e,d,t,0,c);else if(Object(e)===e)for(l in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!n&&!--s&&(o(d)?d=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}:d[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(p[l])),r(e[l],d,t,l,c))}else!n&&f()}var s,l,c=!!e.test,u=e.load||e.both,d=e.callback||a,p=d,f=e.complete||a;n(c?e.yep:e.nope,!!u),u&&n(u)}var l,c,d=this.yepnope.loader;if(i(e))r(e,0,d,0);else if(k(e))for(l=0;l<e.length;l++)c=e[l],i(c)?r(c,0,d,0):k(c)?p(c):Object(c)===c&&s(c,d);else Object(e)===e&&s(e,d)},p.addPrefix=function(e,t){Y[e]=t},p.addFilter=function(e){_.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",d=function(){t.removeEventListener("DOMContentLoaded",d,0),t.readyState="complete"},0)),e.yepnope=u(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,o,i,l,c){var u,d,f=t.createElement("script"),i=i||p.errorTimeout;f.src=e;for(d in o)f.setAttribute(d,o[d]);n=c?s:n||a,f.onreadystatechange=f.onload=function(){!u&&r(f.readyState)&&(u=1,n(),f.onload=f.onreadystatechange=null)},m(function(){u||(u=1,n(1))},i),l?f.onload():h.parentNode.insertBefore(f,h)},e.yepnope.injectCss=function(e,n,o,i,r,l){var c,i=t.createElement("link"),n=l?s:n||a;i.href=e,i.rel="stylesheet",i.type="text/css";for(c in o)i.setAttribute(c,o[c]);r||(h.parentNode.insertBefore(i,h),m(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},window.mr_parallax=new mr_parallax,function(e,t){function n(t,n,r,s){t[o](a+n,"wheel"==i?r:function(t){!t&&(t=e.event);var n={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,notRealWheel:1,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==i?(n.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(n.deltaX=-1/40*t.wheelDeltaX)):n.deltaY=t.detail/3,r(n)},s||!1)}var o,i,a="";e.addEventListener?o="addEventListener":(o="attachEvent",a="on"),i="onwheel"in t.createElement("div")?"wheel":void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll",
e.addWheelListener=function(e,t,o){n(e,i,t,o),"DOMMouseScroll"==i&&n(e,"MozMousePixelScroll",t,o)}}(window,document),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Share=e()}}(function(){function e(e){return""+e.selector+" .social.bottom,"+e.selector+" .social.top{-webkit-transform-origin:0 0;-moz-transform-origin:0 0;-o-transform-origin:0 0}"+e.selector+"{width:92px;height:20px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"+e.selector+" [class*=entypo-]:before{font-family:entypo,sans-serif}"+e.selector+" label{font-size:16px;cursor:pointer;margin:0;padding:5px 10px;border-radius:5px;color:#333;transition:all .3s ease}"+e.selector+" label:hover{opacity:.8}"+e.selector+" label span{text-transform:uppercase;font-size:.9em;font-family:Lato,sans-serif;font-weight:700;-webkit-font-smoothing:antialiased;padding-left:6px}"+e.selector+" .social{opacity:0;transition:all .4s ease;margin-left:-15px;visibility:hidden}"+e.selector+" .social.top{-ms-transform-origin:0 0;transform-origin:0 0;margin-top:-90px}"+e.selector+" .social.bottom{-ms-transform-origin:0 0;transform-origin:0 0;margin-top:5px}"+e.selector+" .social.middle.left,"+e.selector+" .social.middle.right{-ms-transform-origin:5% 50%;transform-origin:5% 50%;-webkit-transform-origin:5% 50%;-moz-transform-origin:5% 50%;-o-transform-origin:5% 50%}"+e.selector+" .social.middle{margin-top:-34px}"+e.selector+" .social.middle.right{margin-left:105px}"+e.selector+" .social.networks-1.center,"+e.selector+" .social.networks-1.left,"+e.selector+" .social.right{margin-left:14px}"+e.selector+" .social.load{transition:none!important}"+e.selector+" .social.networks-1{width:60px}"+e.selector+" .social.networks-1.middle.left{margin-left:-70px}"+e.selector+" .social.networks-1 ul{width:60px}"+e.selector+" .social.networks-2,"+e.selector+" .social.networks-2 ul{width:120px}"+e.selector+" .social.networks-2.center{margin-left:-13px}"+e.selector+" .social.networks-2.left{margin-left:-44px}"+e.selector+" .social.networks-2.middle.left{margin-left:-130px}"+e.selector+" .social.networks-3,"+e.selector+" .social.networks-3 ul{width:180px}"+e.selector+" .social.networks-3.center{margin-left:-45px}"+e.selector+" .social.networks-3.left{margin-left:-102px}"+e.selector+" .social.networks-3.middle.left{margin-left:-190px}"+e.selector+" .social.networks-4,"+e.selector+" .social.networks-4 ul{width:240px}"+e.selector+" .social.networks-4.center{margin-left:-75px}"+e.selector+" .social.networks-4.left{margin-left:162px}"+e.selector+" .social.networks-4.middle.left{margin-left:-250px}"+e.selector+" .social.networks-5,"+e.selector+" .social.networks-5 ul{width:300px}"+e.selector+" .social.networks-5.center{margin-left:-105px}"+e.selector+" .social.networks-5.left{margin-left:-225px}"+e.selector+" .social.networks-5.middle.left{margin-left:-320px}"+e.selector+" .social.active{opacity:1;transition:all .4s ease;visibility:visible}"+e.selector+" .social.active.top{-webkit-transform:scale(1)translateY(-10px);-moz-transform:scale(1)translateY(-10px);-o-transform:scale(1)translateY(-10px);-ms-transform:scale(1)translateY(-10px);transform:scale(1)translateY(-10px)}"+e.selector+" .social.active.bottom{-webkit-transform:scale(1)translateY(15px);-moz-transform:scale(1)translateY(15px);-o-transform:scale(1)translateY(15px);-ms-transform:scale(1)translateY(15px);transform:scale(1)translateY(15px)}"+e.selector+" .social.active.middle.right{-webkit-transform:scale(1)translateX(10px);-moz-transform:scale(1)translateX(10px);-o-transform:scale(1)translateX(10px);-ms-transform:scale(1)translateX(10px);transform:scale(1)translateX(10px)}"+e.selector+" .social.active.middle.left{-webkit-transform:scale(1)translateX(-10px);-moz-transform:scale(1)translateX(-10px);-o-transform:scale(1)translateX(-10px);-ms-transform:scale(1)translateX(-10px);transform:scale(1)translateX(-10px)}"+e.selector+" .social ul{position:relative;left:0;right:0;height:46px;color:#fff;margin:auto;padding:0;list-style:none}"+e.selector+" .social ul li{font-size:20px;cursor:pointer;width:60px;margin:0;padding:12px 0;text-align:center;float:left;display:none;height:22px;position:relative;z-index:2;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;transition:all .3s ease}"+e.selector+" .social ul li:hover{color:rgba(0,0,0,.5)}"+e.selector+" .social li[class*=facebook]{background:#3b5998;display:"+e.networks.facebook.display+"}"+e.selector+" .social li[class*=twitter]{background:#6cdfea;display:"+e.networks.twitter.display+"}"+e.selector+" .social li[class*=gplus]{background:#e34429;display:"+e.networks.google_plus.display+"}"+e.selector+" .social li[class*=pinterest]{background:#c5282f;display:"+e.networks.pinterest.display+"}"+e.selector+" .social li[class*=paper-plane]{background:#42c5b0;display:"+e.networks.email.display+"}"}var t;"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var e,t,n;return n=function(e){return function(n){var o,i;o=t.className.split(/\s+/),i=o.indexOf(n),e(o,i,n),t.className=o.join(" ")}},t=this,e={add:n(function(e,t,n){~t||e.push(n)}),remove:n(function(e,t){~t&&e.splice(t,1)}),toggle:n(function(e,t,n){~t?e.splice(t,1):e.push(n)}),contains:function(e){return!!~t.className.split(/\s+/).indexOf(e)},item:function(e){return t.className.split(/\s+/)[e]||null}},Object.defineProperty(e,"length",{get:function(){return t.className.split(/\s+/).length}}),e}}),String.prototype.to_rfc3986=function(){var e;return e=encodeURIComponent(this),e.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},t=function(){function e(){}return e.prototype.extend=function(e,t,n){var o,i;for(i in t)o=void 0!==e[i],o&&"object"==typeof t[i]?this.extend(e[i],t[i],n):(n||!o)&&(e[i]=t[i])},e.prototype.hide=function(e){return e.style.display="none"},e.prototype.show=function(e){return e.style.display="block"},e.prototype.has_class=function(e,t){return e.classList.contains(t)},e.prototype.add_class=function(e,t){return e.classList.add(t)},e.prototype.remove_class=function(e,t){return e.classList.remove(t)},e.prototype.is_encoded=function(e){return e=e.to_rfc3986(),decodeURIComponent(e)!==e},e.prototype.encode=function(e){return"undefined"==typeof e||this.is_encoded(e)?e:e.to_rfc3986()},e.prototype.popup=function(e,t){var n,o,i,a;return null==t&&(t={}),o={width:500,height:350},o.top=screen.height/2-o.height/2,o.left=screen.width/2-o.width/2,i=function(){var e;e=[];for(n in t)a=t[n],e.push(n+"="+this.encode(a));return e}.call(this).join("&"),i&&(i="?"+i),window.open(e+i,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,left="+o.left+",top="+o.top+",width="+o.width+",height="+o.height)},e}();var n,o=function(e,t){function n(){this.constructor=e}for(var o in t)i.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;return n=function(t){function n(e,t){return this.element=e,this.el={head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]},this.config={enabled_networks:0,protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",url:window.location.href,caption:null,title:this.default_title(),image:this.default_image(),description:this.default_description(),ui:{flyout:"top center",button_text:"Share",button_font:!0,icon_font:!0},networks:{google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null}}},this.setup(this.element,t),this}return o(n,t),n.prototype.setup=function(e,t){var n,o,i,a,r;for(a=document.querySelectorAll(e),this.extend(this.config,t,!0),this.set_global_configuration(),this.normalize_network_configuration(),this.config.ui.icon_font&&this.inject_icons(),this.config.ui.button_font&&this.inject_fonts(),this.config.networks.facebook.enabled&&this.config.networks.facebook.load_sdk&&this.inject_facebook_sdk(),o=n=0,r=a.length;r>n;o=++n)i=a[o],this.setup_instance(e,o)},n.prototype.setup_instance=function(e,t){var n,o,i,a,r,s,l,c,u;for(a=document.querySelectorAll(e)[t],this.hide(a),this.add_class(a,"sharer-"+t),a=document.querySelectorAll(e)[t],this.inject_css(a),this.inject_html(a),this.show(a),r=a.getElementsByTagName("label")[0],o=a.getElementsByClassName("social")[0],c=a.getElementsByTagName("li"),this.add_class(o,"networks-"+this.config.enabled_networks),r.addEventListener("click",function(e){return function(){return e.event_toggle(o)}}(this)),n=this,u=[],t=i=0,s=c.length;s>i;t=++i)l=c[t],u.push(l.addEventListener("click",function(){return n.event_network(a,this),n.event_close(o)}));return u},n.prototype.event_toggle=function(e){return this.has_class(e,"active")?this.event_close(e):this.event_open(e)},n.prototype.event_open=function(e){return this.has_class(e,"load")&&this.remove_class(e,"load"),this.add_class(e,"active")},n.prototype.event_close=function(e){return this.remove_class(e,"active")},n.prototype.event_network=function(e,t){var n;return n=t.getAttribute("data-network"),this.hook("before",n,e),this["network_"+n](),this.hook("after",n,e)},n.prototype.open=function(){return this["public"]("open")},n.prototype.close=function(){return this["public"]("close")},n.prototype.toggle=function(){return this["public"]("toggle")},n.prototype["public"]=function(e){var t,n,o,i,a,r,s;for(r=document.querySelectorAll(this.element),s=[],o=n=0,a=r.length;a>n;o=++n)i=r[o],t=i.getElementsByClassName("social")[0],s.push(this["event_"+e](t));return s},n.prototype.network_facebook=function(){return this.config.networks.facebook.load_sdk?window.FB?FB.ui({method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description}):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})},n.prototype.network_twitter=function(){return this.popup("https://twitter.com/intent/tweet",{text:this.config.networks.twitter.description,url:this.config.networks.twitter.url})},n.prototype.network_google_plus=function(){return this.popup("https://plus.google.com/share",{url:this.config.networks.google_plus.url})},n.prototype.network_pinterest=function(){return this.popup("https://www.pinterest.com/pin/create/button",{url:this.config.networks.pinterest.url,media:this.config.networks.pinterest.image,description:this.config.networks.pinterest.description})},n.prototype.network_email=function(){return this.popup("mailto:",{subject:this.config.networks.email.title,body:this.config.networks.email.description})},n.prototype.inject_icons=function(){},n.prototype.inject_fonts=function(){},n.prototype.inject_stylesheet=function(e){var t;return this.el.head.querySelector('link[href="'+e+'"]')?void 0:(t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),this.el.head.appendChild(t))},n.prototype.inject_css=function(t){var n,o,i,a;return i="."+t.getAttribute("class").split(" ").join("."),this.el.head.querySelector("meta[name='sharer"+i+"']")?void 0:(this.config.selector=i,n=e(this.config),a=document.createElement("style"),a.type="text/css",a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n)),this.el.head.appendChild(a),delete this.config.selector,o=document.createElement("meta"),o.setAttribute("name","sharer"+i),this.el.head.appendChild(o))},n.prototype.inject_html=function(e){return e.innerHTML="<label class='entypo-export'><span>"+this.config.ui.button_text+"</span></label><div class='social load "+this.config.ui.flyout+"'><ul><li class='entypo-pinterest' data-network='pinterest'><i class='fa fa-pinterest fa-lg'></i></li><li class='entypo-twitter' data-network='twitter'><i class='fa fa-twitter fa-lg'></i></li><li class='entypo-facebook' data-network='facebook'><i class='fa fa-facebook fa-lg'></i></li><li class='entypo-gplus' data-network='google_plus'><i class='fa fa-google-plus fa-lg'></i></li><li class='entypo-paper-plane' data-network='email'><i class='fa fa-envelope-o fa-lg'></i></li></ul></div>"},n.prototype.inject_facebook_sdk=function(){var e,t;return window.FB||!this.config.networks.facebook.app_id||this.el.body.querySelector("#fb-root")?void 0:(t=document.createElement("script"),t.text="window.fbAsyncInit=function(){FB.init({appId:'"+this.config.networks.facebook.app_id+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+this.config.protocol+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')",e=document.createElement("div"),e.id="fb-root",this.el.body.appendChild(e),this.el.body.appendChild(t))},n.prototype.hook=function(e,t,n){var o,i;o=this.config.networks[t][e],"function"==typeof o&&(i=o.call(this.config.networks[t],n),void 0!==i&&(i=this.normalize_filter_config_updates(i),this.extend(this.config.networks[t],i,!0),this.normalize_network_configuration()))},n.prototype.default_title=function(){var e;return(e=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))?e.getAttribute("content"):(e=document.querySelector("title"))?e.innerText:void 0},n.prototype.default_image=function(){var e;return(e=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?e.getAttribute("content"):void 0},n.prototype.default_description=function(){var e;return(e=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?e.getAttribute("content"):""},n.prototype.set_global_configuration=function(){var e,t,n,o,i,a;i=this.config.networks,a=[];for(t in i){o=i[t];for(n in o)null==this.config.networks[t][n]&&(this.config.networks[t][n]=this.config[n]);this.config.networks[t].enabled?(e="block",this.config.enabled_networks+=1):e="none",a.push(this.config.networks[t].display=e)}return a},n.prototype.normalize_network_configuration=function(){return this.config.networks.facebook.app_id||(this.config.networks.facebook.load_sdk=!1),this.is_encoded(this.config.networks.twitter.description)||(this.config.networks.twitter.description=encodeURIComponent(this.config.networks.twitter.description)),"number"==typeof this.config.networks.facebook.app_id?this.config.networks.facebook.app_id=this.config.networks.facebook.app_id.toString():void 0},n.prototype.normalize_filter_config_updates=function(e){return this.config.networks.facebook.app_id!==e.app_id&&(console.warn("You are unable to change the Facebook app_id after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),this.config.networks.facebook.load_sdk!==e.load_sdk&&(console.warn("You are unable to change the Facebook load_sdk option after the button has been initialized. Please update your Facebook filters accordingly."),delete e.app_id),e},n}(t)}),!function(e){function t(e){return e.replace(/(:|\.)/g,"\\$1")}var n="1.4.10",o={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2},i=function(t){var n=[],o=!1,i=t.dir&&"left"==t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var t=e(this);t[i]()>0?n.push(this):(t[i](1),o=t[i]()>0,o&&n.push(this),t[i](0))}}),n.length||this.each(function(){"BODY"===this.nodeName&&(n=[this])}),"first"===t.el&&n.length>1&&(n=[n[0]]),n};e.fn.extend({scrollable:function(e){var t=i.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=i.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(n){n=n||{};var o=e.extend({},e.fn.smoothScroll.defaults,n),i=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(n){var a=this,r=e(this),s=o.exclude,l=o.excludeWithin,c=0,u=0,d=!0,p={},f=location.hostname===a.hostname||!a.hostname,m=o.scrollTarget||(e.smoothScroll.filterPath(a.pathname)||i)===i,h=t(a.hash);if(o.scrollTarget||f&&m&&h){for(;d&&s.length>c;)r.is(t(s[c++]))&&(d=!1);for(;d&&l.length>u;)r.closest(l[u++]).length&&(d=!1)}else d=!1;d&&(n.preventDefault(),e.extend(p,o,{scrollTarget:o.scrollTarget||h,link:a}),e.smoothScroll(p))}),this}}),e.smoothScroll=function(t,n){var o,i,a,r,s=0,l="offset",c="scrollTop",u={},d={};"number"==typeof t?(o=e.fn.smoothScroll.defaults,a=t):(o=e.extend({},e.fn.smoothScroll.defaults,t||{}),o.scrollElement&&(l="position","static"==o.scrollElement.css("position")&&o.scrollElement.css("position","relative"))),o=e.extend({link:null},o),c="left"==o.direction?"scrollLeft":c,o.scrollElement?(i=o.scrollElement,s=i[c]()):i=e("html, body").firstScrollable(),o.beforeScroll.call(i,o),a="number"==typeof t?t:n||e(o.scrollTarget)[l]()&&e(o.scrollTarget)[l]()[o.direction]||0,u[c]=a+s+o.offset,r=o.speed,"auto"===r&&(r=u[c]||i.scrollTop(),r/=o.autoCoefficent),d={duration:r,easing:o.easing,complete:function(){o.afterScroll.call(o.link,o)}},o.step&&(d.step=o.step),i.length?i.stop().animate(u,d):o.afterScroll.call(o.link,o)},e.smoothScroll.version=n,e.smoothScroll.filterPath=function(e){return e.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults=o}(jQuery),"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e){var t={init:function(t,n){var o=this;o.elem=n,o.$elem=e(n),o.api="https://api.instagram.com/v1",o.accessData=e.fn.spectragram.accessData,o.options=e.extend({},e.fn.spectragram.options,t)},getRecentMedia:function(e){var t=this,n="/users/"+e+"/media/recent/?"+t.accessData.clientID+"&access_token="+t.accessData.accessToken;t.fetch(n).done(function(e){t.display(e)})},getUserFeed:function(){var t=this,n="/users/search?q="+t.options.query+"&count="+t.options.max+"&access_token="+t.accessData.accessToken;t.fetch(n).done(function(n){n.data.length?t.getRecentMedia(n.data[0].id):e.error("Spectagram.js - Error: the username "+t.options.query+" does not exist.")})},getPopular:function(){var e=this,t="/media/popular?client_id="+e.accessData.clientID+"&access_token="+e.accessData.accessToken;e.fetch(t).done(function(t){e.display(t)})},getRecentTagged:function(){var t=this,n="/tags/"+t.options.query+"/media/recent?client_id="+t.accessData.clientID+"&access_token="+t.accessData.accessToken;t.fetch(n).done(function(n){n.data.length?t.display(n):e.error("Spectagram.js - Error: the tag "+t.options.query+" does not have results.")})},fetch:function(t){var n=this,o=n.api+t;return e.ajax({type:"GET",dataType:"jsonp",cache:!1,url:o})},display:function(t){var n,o=this,i=o.options.size,a=o.options.max>=t.data.length?t.data.length:o.options.max;if(0===t.data.length)o.$elem.append(e(o.options.wrapEachWith).append(o.options.notFoundMsg));else for(var r=0;a>r;r++)n="small"==i?t.data[r].images.thumbnail.url:"medium"==i?t.data[r].images.low_resolution.url:t.data[r].images.standard_resolution.url,o.$elem.append(e(o.options.wrapEachWith).append("<a title='Pic' target='_blank' href='"+t.data[r].link+"'><img src='"+n+"'></img></a>"));"function"==typeof o.options.complete&&o.options.complete.call(o)}};jQuery.fn.spectragram=function(n,o){jQuery.fn.spectragram.accessData.clientID?this.each(function(){var i=Object.create(t);return i.init(o,this),i[n]?i[n](this):void e.error("Method "+n+" does not exist on jQuery.spectragram")}):e.error("You must define an accessToken and a clientID on jQuery.spectragram")},jQuery.fn.spectragram.options={max:10,query:"coffee",size:"medium",wrapEachWith:"<li></li>",complete:null},jQuery.fn.spectragram.accessData={accessToken:"791988178.2d41dbd.97f234bc6dd248f18807726f637719c2",clientID:"2d41dbd502f7436fa1cc66d4cbe0174c"}}(jQuery,window,document),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class=".*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function t(e){e=e.getElementsByTagName("a");for(var t=e.length-1;t>=0;t--)e[t].setAttribute("target","_blank")}function n(e,t){for(var n=[],o=new RegExp("(^| )"+t+"( |$)"),i=e.getElementsByTagName("*"),a=0,r=i.length;r>a;a++)o.test(i[a].className)&&n.push(i[a]);return n}var o="",i=20,a=!0,r=[],s=!1,l=!0,c=!0,u=null,d=!0,p=!0,f=null,m=!0,h=!1,y=!0,v=!0,g=null,b={fetch:function(e){if(void 0===e.maxTweets&&(e.maxTweets=20),void 0===e.enableLinks&&(e.enableLinks=!0),void 0===e.showUser&&(e.showUser=!0),void 0===e.showTime&&(e.showTime=!0),void 0===e.dateFunction&&(e.dateFunction="default"),void 0===e.showRetweet&&(e.showRetweet=!0),void 0===e.customCallback&&(e.customCallback=null),void 0===e.showInteraction&&(e.showInteraction=!0),void 0===e.showImages&&(e.showImages=!1),void 0===e.linksInNewWindow&&(e.linksInNewWindow=!0),void 0===e.showPermalinks&&(e.showPermalinks=!0),s)r.push(e);else{s=!0,o=e.domId,i=e.maxTweets,a=e.enableLinks,c=e.showUser,l=e.showTime,p=e.showRetweet,u=e.dateFunction,f=e.customCallback,m=e.showInteraction,h=e.showImages,y=e.linksInNewWindow,v=e.showPermalinks;var t=document.getElementsByTagName("head")[0];null!==g&&t.removeChild(g),g=document.createElement("script"),g.type="text/javascript",g.src="https://cdn.syndication.twimg.com/widgets/timelines/"+e.id+"?&lang="+(e.lang||"en")+"&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+Math.random(),t.appendChild(g)}},callback:function(g){var x=document.createElement("div");x.innerHTML=g.body,"undefined"==typeof x.getElementsByClassName&&(d=!1),g=[];var T=[],w=[],P=[],k=[],_=[],C=[],Y=0;if(d)for(x=x.getElementsByClassName("tweet");Y<x.length;)0<x[Y].getElementsByClassName("retweet-credit").length?k.push(!0):k.push(!1),(!k[Y]||k[Y]&&p)&&(g.push(x[Y].getElementsByClassName("e-entry-title")[0]),_.push(x[Y].getAttribute("data-tweet-id")),T.push(x[Y].getElementsByClassName("p-author")[0]),w.push(x[Y].getElementsByClassName("dt-updated")[0]),C.push(x[Y].getElementsByClassName("permalink")[0]),void 0!==x[Y].getElementsByClassName("inline-media")[0]?P.push(x[Y].getElementsByClassName("inline-media")[0]):P.push(void 0)),Y++;else for(x=n(x,"tweet");Y<x.length;)g.push(n(x[Y],"e-entry-title")[0]),_.push(x[Y].getAttribute("data-tweet-id")),T.push(n(x[Y],"p-author")[0]),w.push(n(x[Y],"dt-updated")[0]),C.push(n(x[Y],"permalink")[0]),void 0!==n(x[Y],"inline-media")[0]?P.push(n(x[Y],"inline-media")[0]):P.push(void 0),0<n(x[Y],"retweet-credit").length?k.push(!0):k.push(!1),Y++;for(g.length>i&&(g.splice(i,g.length-i),T.splice(i,T.length-i),w.splice(i,w.length-i),k.splice(i,k.length-i),P.splice(i,P.length-i),C.splice(i,C.length-i)),x=[],Y=g.length,k=0;Y>k;){if("string"!=typeof u){var j=w[k].getAttribute("datetime"),I=new Date(w[k].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),j=u(I,j);if(w[k].setAttribute("aria-label",j),g[k].innerText)if(d)w[k].innerText=j;else{var I=document.createElement("p"),E=document.createTextNode(j);I.appendChild(E),I.setAttribute("aria-label",j),w[k]=I}else w[k].textContent=j}j="",a?(y&&(t(g[k]),c&&t(T[k])),c&&(j+='<div class="user">'+e(T[k].innerHTML)+"</div>"),j+='<p class="tweet">'+e(g[k].innerHTML)+"</p>",l&&(j=v?j+('<p class="timePosted"><a href="'+C[k]+'">'+w[k].getAttribute("aria-label")+"</a></p>"):j+('<p class="timePosted">'+w[k].getAttribute("aria-label")+"</p>"))):g[k].innerText?(c&&(j+='<p class="user">'+T[k].innerText+"</p>"),j+='<p class="tweet">'+g[k].innerText+"</p>",l&&(j+='<p class="timePosted">'+w[k].innerText+"</p>")):(c&&(j+='<p class="user">'+T[k].textContent+"</p>"),j+='<p class="tweet">'+g[k].textContent+"</p>",l&&(j+='<p class="timePosted">'+w[k].textContent+"</p>")),m&&(j+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+_[k]+'" class="twitter_reply_icon"'+(y?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+_[k]+'" class="twitter_retweet_icon"'+(y?' target="_blank">':">")+'Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+_[k]+'" class="twitter_fav_icon"'+(y?' target="_blank">':">")+"Favorite</a></p>"),h&&void 0!==P[k]&&(I=P[k],void 0!==I?(I=I.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0],I=decodeURIComponent(I).split('"')[1]):I=void 0,j+='<div class="media"><img src="'+I+'" alt="Image from tweet" /></div>'),x.push(j),k++}if(null===f){for(g=x.length,T=0,w=document.getElementById(o),P="<ul>";g>T;)P+="<li>"+x[T]+"</li>",T++;w.innerHTML=P+"</ul>"}else f(x);s=!1,0<r.length&&(b.fetch(r[0]),r.splice(0,1))}};return window.twitterFetcher=b});var config1={id:"623173244095303680",domId:"tweets",maxTweets:2,showUser:!0,enableLinks:!0,showPermalinks:!1};twitterFetcher.fetch(config1);var ytp=ytp||{};!function(jQuery,ytp){var nAgt=navigator.userAgent;if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.fn.CSSAnimate=function(e,t,n,o,i){function a(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function r(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+$/)?""+e+t:e}return jQuery.support.CSStransition=function(){var e=(document.body||document.documentElement).style;return void 0!==e.transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition}(),this.each(function(){var s=this,l=jQuery(this);s.id=s.id||"CSSA_"+(new Date).getTime();var c=c||{type:"noEvent"};if(s.CSSAIsRunning&&s.eventType==c.type)s.CSSqueue=function(){l.CSSAnimate(e,t,n,o,i)};else if(s.CSSqueue=null,s.eventType=c.type,0!==l.length&&e){if(s.CSSAIsRunning=!0,"function"==typeof t&&(i=t,t=jQuery.fx.speeds._default),"function"==typeof n&&(i=n,n=0),"function"==typeof o&&(i=o,o="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof t)for(var u in jQuery.fx.speeds){if(t==u){t=jQuery.fx.speeds[u];break}t=jQuery.fx.speeds._default}if(t||(t=jQuery.fx.speeds._default),jQuery.support.CSStransition){c={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},c[o]&&(o=c[o]);var d="",p="transitionEnd";jQuery.browser.webkit?(d="-webkit-",p="webkitTransitionEnd"):jQuery.browser.mozilla?(d="-moz-",p="transitionend"):jQuery.browser.opera?(d="-o-",p="otransitionend"):jQuery.browser.msie&&(d="-ms-",p="msTransitionEnd"),c=[];for(f in e)u=f,"transform"===u&&(u=d+"transform",e[u]=e[f],delete e[f]),"filter"===u&&(u=d+"filter",e[u]=e[f],delete e[f]),("transform-origin"===u||"origin"===u)&&(u=d+"transform-origin",e[u]=e[f],delete e[f]),"x"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" translateX("+r(e[f],"px")+")",delete e[f]),"y"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" translateY("+r(e[f],"px")+")",delete e[f]),"z"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" translateZ("+r(e[f],"px")+")",delete e[f]),"rotate"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" rotate("+r(e[f],"deg")+")",delete e[f]),"rotateX"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" rotateX("+r(e[f],"deg")+")",delete e[f]),"rotateY"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" rotateY("+r(e[f],"deg")+")",
delete e[f]),"rotateZ"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" rotateZ("+r(e[f],"deg")+")",delete e[f]),"scale"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" scale("+r(e[f],"")+")",delete e[f]),"scaleX"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" scaleX("+r(e[f],"")+")",delete e[f]),"scaleY"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" scaleY("+r(e[f],"")+")",delete e[f]),"scaleZ"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" scaleZ("+r(e[f],"")+")",delete e[f]),"skew"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" skew("+r(e[f],"deg")+")",delete e[f]),"skewX"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" skewX("+r(e[f],"deg")+")",delete e[f]),"skewY"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" skewY("+r(e[f],"deg")+")",delete e[f]),"perspective"===u&&(u=d+"transform",e[u]=e[u]||"",e[u]+=" perspective("+r(e[f],"px")+")",delete e[f]),0>c.indexOf(u)&&c.push(a(u));var f=c.join(","),m=function(){l.off(p+"."+s.id),clearTimeout(s.timeout),l.css(d+"transition",""),"function"==typeof i&&i(l),s.called=!0,s.CSSAIsRunning=!1,"function"==typeof s.CSSqueue&&(s.CSSqueue(),s.CSSqueue=null)},h={};jQuery.extend(h,e),h[d+"transition-property"]=f,h[d+"transition-duration"]=t+"ms",h[d+"transition-delay"]=n+"ms",h[d+"transition-style"]="preserve-3d",h[d+"transition-timing-function"]=o,setTimeout(function(){l.one(p+"."+s.id,m),l.css(h)},1),s.timeout=setTimeout(function(){l.called||!i?(l.called=!1,s.CSSAIsRunning=!1):(l.css(d+"transition",""),i(l),s.CSSAIsRunning=!1,"function"==typeof s.CSSqueue&&(s.CSSqueue(),s.CSSqueue=null))},t+n+100)}else{for(var f in e)"transform"===f&&delete e[f],"filter"===f&&delete e[f],"transform-origin"===f&&delete e[f],"auto"===e[f]&&delete e[f];i&&"string"!=typeof i||(i="linear"),l.animate(e,t,i)}}})};var getYTPVideoID=function(e){var t,n;return e.indexOf("youtu.be")>0?(t=e.substr(e.lastIndexOf("/")+1,e.length),n=t.indexOf("?list=")>0?t.substr(t.lastIndexOf("="),t.length):null,t=n?t.substr(0,t.lastIndexOf("?")):t):e.indexOf("http")>-1?(t=e.match(/[\\?&]v=([^&#]*)/)[1],n=e.indexOf("list=")>0?e.match(/[\\?&]list=([^&#]*)/)[1]:null):(t=e.length>15?null:e,n=t?null:e),{videoID:t,playlistID:n}};jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"2.8.1",author:"Matteo Bicocchi",defaults:{containment:"body",ratio:"auto",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:!0,vol:100,addRaster:!1,opacity:1,quality:"default",mute:!1,loop:!0,showControls:!0,showAnnotations:!1,showYTLogo:!0,stopMovieOnClick:!1,stopMovieOnBlur:!0,realfullscreen:!0,gaTrack:!0,optimizeDisplay:!0,onReady:function(){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},locationProtocol:"https:",buildPlayer:function(options){return this.each(function(){var YTPlayer=this,$YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0,YTPlayer.opt={},$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&"string"==typeof $YTPlayer.data("property")?eval("("+$YTPlayer.data("property")+")"):$YTPlayer.data("property");"undefined"!=typeof property&&"undefined"!=typeof property.vol&&(property.vol=0==property.vol?property.vol=1:property.vol),jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property),YTPlayer.isRetina=window.retina||window.devicePixelRatio>1;var isIframe=function(){var e=!1;try{self.location.href!=top.location.href&&(e=!0)}catch(t){e=!0}return e};YTPlayer.canGoFullScreen=!(jQuery.browser.msie||jQuery.browser.opera||isIframe()),YTPlayer.canGoFullScreen||(YTPlayer.opt.realfullscreen=!1),$YTPlayer.attr("id")||$YTPlayer.attr("id","video_"+(new Date).getTime());var playerID="mbYTP_"+YTPlayer.id;YTPlayer.isAlone=!1,YTPlayer.hasFocus=!0;var videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).videoID:!1,playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:$YTPlayer.attr("href")?getYTPVideoID($YTPlayer.attr("href")).playlistID:!1;YTPlayer.videoID=videoID,YTPlayer.playlistID=playlistID,YTPlayer.opt.showAnnotations=YTPlayer.opt.showAnnotations?"0":"3";var playerVars={autoplay:0,modestbranding:1,controls:0,showinfo:0,rel:0,enablejsapi:1,version:3,playerapiid:playerID,origin:"*",allowfullscreen:!0,wmode:"transparent",iv_load_policy:YTPlayer.opt.showAnnotations},v=document.createElement("video");v.canPlayType&&jQuery.extend(playerVars,{html5:1}),jQuery.browser.msie&&jQuery.browser.version<9&&(this.opt.opacity=1);var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox"),overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay");if(YTPlayer.isSelf="self"==YTPlayer.opt.containment,YTPlayer.opt.containment=jQuery("self"==YTPlayer.opt.containment?this:YTPlayer.opt.containment),YTPlayer.isBackground="body"==YTPlayer.opt.containment.get(0).tagName.toLowerCase(),!YTPlayer.isBackground||!ytp.backgroundIsInited){var isPlayer=YTPlayer.opt.containment.is(jQuery(this));if(YTPlayer.canPlayOnMobile=isPlayer&&0==jQuery(this).children().length,isPlayer?YTPlayer.isPlayer=!0:$YTPlayer.hide(),jQuery.browser.mobile&&!YTPlayer.canPlayOnMobile)return void $YTPlayer.remove();if(YTPlayer.opt.addRaster){var classN="dot"==YTPlayer.opt.addRaster?"raster-dot":"raster";overlay.addClass(YTPlayer.isRetina?classN+" retina":classN)}else overlay.removeClass(function(e,t){var n=t.split(" "),o=[];return jQuery.each(n,function(e,t){/raster-.*/.test(t)&&o.push(t)}),o.push("retina"),o.join(" ")});var wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+playerID);if(wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0}),playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}),wrapper.append(playerBox),YTPlayer.opt.containment.children().not("script, style").each(function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")}),YTPlayer.isBackground?(jQuery("body").css({boxSizing:"border-box"}),wrapper.css({position:"fixed",top:0,left:0,zIndex:0,webkitTransform:"translateZ(0)"}),$YTPlayer.hide()):"static"==YTPlayer.opt.containment.css("position")&&YTPlayer.opt.containment.css({position:"relative"}),YTPlayer.opt.containment.prepend(wrapper),YTPlayer.wrapper=wrapper,playerBox.css({opacity:1}),jQuery.browser.mobile||(playerBox.after(overlay),YTPlayer.overlay=overlay),YTPlayer.isBackground||overlay.on("mouseenter",function(){$YTPlayer.find(".mb_YTPBar").addClass("visible")}).on("mouseleave",function(){$YTPlayer.find(".mb_YTPBar").removeClass("visible")}),ytp.YTAPIReady)setTimeout(function(){jQuery(document).trigger("YTAPIReady")},100);else{jQuery("#YTAPI").remove();var tag=jQuery("<script></script>").attr({src:jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/player_api?v="+jQuery.mbYTPlayer.version,id:"YTAPI"});jQuery("head title").after(tag)}jQuery(document).on("YTAPIReady",function(){YTPlayer.isBackground&&ytp.backgroundIsInited||YTPlayer.isInit||(YTPlayer.isBackground&&YTPlayer.opt.stopMovieOnClick&&jQuery(document).off("mousedown.ytplayer").on("mousedown.ytplayer",function(e){var t=jQuery(e.target);(t.is("a")||t.parents().is("a"))&&$YTPlayer.pauseYTP()}),YTPlayer.isBackground&&(ytp.backgroundIsInited=!0),YTPlayer.opt.autoPlay="undefined"==typeof YTPlayer.opt.autoPlay?YTPlayer.isBackground?!0:!1:YTPlayer.opt.autoPlay,YTPlayer.opt.vol=YTPlayer.opt.vol?YTPlayer.opt.vol:100,jQuery.mbYTPlayer.getDataFromFeed(YTPlayer),jQuery(YTPlayer).on("YTPChanged",function(){return YTPlayer.isInit?void 0:(YTPlayer.isInit=!0,jQuery.browser.mobile&&YTPlayer.canPlayOnMobile?void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),height:"100%",width:"100%",videoId:YTPlayer.videoID,events:{onReady:function(e){YTPlayer.player=e.target,playerBox.css({opacity:1}),YTPlayer.wrapper.css({opacity:YTPlayer.opt.opacity}),$YTPlayer.optimizeDisplay()},onStateChange:function(){}}}):void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{onReady:function(e){if(YTPlayer.player=e.target,!YTPlayer.isReady){YTPlayer.isReady=!0,YTPlayer.playerEl=YTPlayer.player.getIframe(),$YTPlayer.optimizeDisplay(),YTPlayer.videoID=videoID,jQuery(window).on("resize.YTP",function(){$YTPlayer.optimizeDisplay()}),YTPlayer.opt.showControls&&jQuery(YTPlayer).buildYTPControls();var t=YTPlayer.opt.startAt?YTPlayer.opt.startAt:1;YTPlayer.player.setVolume(0),jQuery(YTPlayer).muteYTPVolume(),jQuery.mbYTPlayer.checkForState(YTPlayer),YTPlayer.checkForStartAt=setInterval(function(){var e=YTPlayer.player.getVideoLoadedFraction()>t/YTPlayer.player.getDuration();YTPlayer.player.getDuration()>0&&YTPlayer.player.getCurrentTime()>=t&&e?(clearInterval(YTPlayer.checkForStartAt),YTPlayer.player.setVolume(0),jQuery(YTPlayer).muteYTPVolume(),"function"==typeof YTPlayer.opt.onReady&&YTPlayer.opt.onReady(YTPlayer),YTPlayer.opt.mute||jQuery(YTPlayer).unmuteYTP(),YTPlayer.player.pauseVideo(),setTimeout(function(){YTPlayer.canTrigger=!0,YTPlayer.opt.autoPlay?($YTPlayer.playYTP(),$YTPlayer.css("background-image","none"),YTPlayer.wrapper.CSSAnimate({opacity:YTPlayer.isAlone?1:YTPlayer.opt.opacity},2e3)):YTPlayer.player.pauseVideo()},100)):(YTPlayer.player.playVideo(),YTPlayer.player.seekTo(t,!0));var n=jQuery.Event("YTPReady");jQuery(YTPlayer).trigger(n)},1e3)}},onStateChange:function(event){if("function"==typeof event.target.getPlayerState){var state=event.target.getPlayerState();if(YTPlayer.state!=state){YTPlayer.state=state;var controls=jQuery("#controlBar_"+YTPlayer.id),eventType;switch(state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPEnd";break;case 1:eventType="YTPStart",controls.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),"undefined"!=typeof _gaq&&eval(YTPlayer.opt.gaTrack)&&_gaq.push(["_trackEvent","YTPlayer","Play",YTPlayer.videoTitle||YTPlayer.videoID.toString()]),"undefined"!=typeof ga&&eval(YTPlayer.opt.gaTrack)&&ga("send","event","YTPlayer","play",YTPlayer.videoTitle||YTPlayer.videoID.toString());break;case 2:eventType="YTPPause",controls.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:jQuery.browser.chrome||YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),eventType="YTPBuffering",jQuery.browser.chrome||YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),controls.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play),setTimeout(function(){controls.show(1e3)},2e3);break;case 5:eventType="YTPCued"}var YTPevent=jQuery.Event(eventType);YTPevent.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(YTPevent)}}},onPlaybackQualityChange:function(e){var t=e.target.getPlaybackQuality(),n=jQuery.Event("YTPQualityChange");n.quality=t,jQuery(YTPlayer).trigger(n)},onError:function(e){150==e.data&&(console.log("Embedding this video is restricted by Youtube."),YTPlayer.isPlayList&&jQuery(YTPlayer).playNext()),2==e.data&&YTPlayer.isPlayList&&jQuery(YTPlayer).playNext(),"function"==typeof YTPlayer.opt.onError&&YTPlayer.opt.onError($YTPlayer,e)}}}))}))})}})},getDataFromFeed:function(e){jQuery.browser.msie&&jQuery.browser.version<=9?("auto"==e.opt.ratio?e.opt.ratio="16/9":e.opt.ratio,e.hasData||(e.hasData=!0,setTimeout(function(){jQuery(e).trigger("YTPChanged")},100))):(jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//gdata.youtube.com/feeds/api/videos/"+e.videoID+"?v=2&alt=jsonc",function(t){e.dataReceived=!0,e.videoData=t.data,jQuery(e).trigger("YTPChanged");var n=jQuery.Event("YTPData");n.prop={};for(var o in e.videoData)n.prop[o]=e.videoData[o];if(jQuery(e).trigger(n),e.videoTitle=e.videoData.title,"auto"==e.opt.ratio&&(e.opt.ratio=e.videoData.aspectRatio&&"widescreen"===e.videoData.aspectRatio?"16/9":"4/3"),!e.hasData&&(e.hasData=!0,e.isPlayer)){var i=e.videoData.thumbnail.hqDefault;e.opt.containment.css({background:"rgba(0,0,0,0.5) url("+i+") center center",backgroundSize:"cover"})}}),setTimeout(function(){e.dataReceived||e.hasData||(e.hasData=!0,jQuery(e).trigger("YTPChanged"))},1500))},getVideoData:function(){var e=this.get(0);return e.videoData},getVideoID:function(){var e=this.get(0);return e.videoID||!1},setVideoQuality:function(e){var t=this.get(0);jQuery.browser.chrome||t.player.setPlaybackQuality(e)},YTPlaylist:function(e,t,n){var o=this.get(0);o.isPlayList=!0,t&&(e=jQuery.shuffle(e)),o.videoID||(o.videos=e,o.videoCounter=0,o.videoLength=e.length,jQuery(o).data("property",e[0]),jQuery(o).mb_YTPlayer()),"function"==typeof n&&jQuery(o).on("YTPChanged",function(){n(o)}),jQuery(o).on("YTPEnd",function(){jQuery(o).playNext()})},playNext:function(){var e=this.get(0);e.videoCounter++,e.videoCounter>=e.videoLength&&(e.videoCounter=0),jQuery(e.playerEl).css({opacity:0}),jQuery(e).changeMovie(e.videos[e.videoCounter])},playPrev:function(){var e=this.get(0);e.videoCounter--,e.videoCounter<0&&(e.videoCounter=e.videoLength-1),jQuery(e.playerEl).css({opacity:0}),jQuery(e).changeMovie(e.videos[e.videoCounter])},changeMovie:function(e){var t=this.get(0);t.opt.startAt=0,t.opt.stopAt=0,t.opt.mute=!0,e&&jQuery.extend(t.opt,e),t.videoID=getYTPVideoID(t.opt.videoURL).videoID,jQuery(t).pauseYTP();var n=jQuery.browser.msie?1e3:0;jQuery(t.playerEl).CSSAnimate({opacity:0},n),setTimeout(function(){var e=jQuery.browser.chrome?"default":t.opt.quality;jQuery(t).getPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+t.videoID),1,e),jQuery(t).playYTP(),jQuery(t).one("YTPStart",function(){t.wrapper.CSSAnimate({opacity:t.isAlone?1:t.opt.opacity},1e3),jQuery(t.playerEl).CSSAnimate({opacity:1},n),t.opt.startAt&&t.player.seekTo(t.opt.startAt),jQuery.mbYTPlayer.checkForState(t),t.opt.autoPlay||jQuery(t).pauseYTP()}),t.opt.mute?jQuery(t).muteYTPVolume():jQuery(t).unmuteYTP()},n),t.opt.addRaster?t.overlay.addClass(t.isRetina?"raster retina":"raster"):t.overlay.removeClass("raster").removeClass("retina"),jQuery("#controlBar_"+t.id).remove(),t.opt.showControls&&jQuery(t).buildYTPControls(),jQuery.mbYTPlayer.getDataFromFeed(t),jQuery(t).optimizeDisplay()},getPlayer:function(){return jQuery(this).get(0).player},playerDestroy:function(){var e=this.get(0);ytp.YTAPIReady=!1,ytp.backgroundIsInited=!1,e.isInit=!1,e.videoID=null;var t=e.wrapper;t.remove(),jQuery("#controlBar_"+e.id).remove()},fullscreen:function(real){function RunPrefixMethod(e,t){for(var n,o,i=["webkit","moz","ms","o",""],a=0;a<i.length&&!e[n];){if(n=t,""==i[a]&&(n=n.substr(0,1).toLowerCase()+n.substr(1)),n=i[a]+n,o=typeof e[n],"undefined"!=o)return i=[i[a]],"function"==o?e[n]():e[n];a++}}function launchFullscreen(e){RunPrefixMethod(e,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}var YTPlayer=this.get(0);"undefined"==typeof real&&(real=YTPlayer.opt.realfullscreen),real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id),fullScreenBtn=controls.find(".mb_OnlyYT"),videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper;if(real){var fullscreenchange=jQuery.browser.mozilla?"mozfullscreenchange":jQuery.browser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){var e=RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen");e?(jQuery(YTPlayer).setVideoQuality("default"),jQuery(YTPlayer).trigger("YTPFullScreenStart")):(YTPlayer.isAlone=!1,fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),jQuery(YTPlayer).setVideoQuality(YTPlayer.opt.quality),videoWrapper.removeClass("fullscreen"),videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0}),YTPlayer.isBackground?jQuery("body").after(controls):YTPlayer.wrapper.before(controls),jQuery(window).resize(),jQuery(YTPlayer).trigger("YTPFullScreenEnd"))})}YTPlayer.isAlone?(real?cancelFullscreen():(videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0})),fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),YTPlayer.isAlone=!1):(real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("fullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},1e3),YTPlayer.wrapper.append(controls),jQuery(YTPlayer).optimizeDisplay(),YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,!0)},500)):videoWrapper.css({zIndex:1e4}).CSSAnimate({opacity:1},1e3),fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite),YTPlayer.isAlone=!0)},playYTP:function(){var e=this.get(0);if("undefined"!=typeof e.player){var t=jQuery("#controlBar_"+e.id),n=t.find(".mb_YTPPlaypause");n.html(jQuery.mbYTPlayer.controls.pause),e.player.playVideo(),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},2e3),jQuery(e).on("YTPStart",function(){jQuery(e).css("background-image","none")})}},toggleLoops:function(){var e=this.get(0),t=e.opt;1==t.loop?t.loop=0:(t.startAt?e.player.seekTo(t.startAt):e.player.playVideo(),t.loop=1)},stopYTP:function(){var e=this.get(0),t=jQuery("#controlBar_"+e.id),n=t.find(".mb_YTPPlaypause");n.html(jQuery.mbYTPlayer.controls.play),e.player.stopVideo()},pauseYTP:function(){var e=this.get(0);e.opt;var t=jQuery("#controlBar_"+e.id),n=t.find(".mb_YTPPlaypause");n.html(jQuery.mbYTPlayer.controls.play),e.player.pauseVideo()},seekToYTP:function(e){var t=this.get(0);t.player.seekTo(e,!0)},setYTPVolume:function(e){var t=this.get(0);e||t.opt.vol||0!=t.player.getVolume()?!e&&t.player.getVolume()>0||e&&t.player.getVolume()==e?jQuery(t).muteYTPVolume():t.opt.vol=e:jQuery(t).unmuteYTP(),t.player.setVolume(t.opt.vol)},muteYTP:function(){var e=this.get(0);e.player.mute(),e.player.setVolume(0);var t=jQuery("#controlBar_"+e.id),n=t.find(".mb_YTPMuteUnmute");n.html(jQuery.mbYTPlayer.controls.unmute),jQuery(e).addClass("isMuted"),jQuery(e).trigger("YTPMuted")},unmuteYTP:function(){var e=this.get(0);e.player.unMute(),e.player.setVolume(e.opt.vol);var t=jQuery("#controlBar_"+e.id),n=t.find(".mb_YTPMuteUnmute");n.html(jQuery.mbYTPlayer.controls.mute),jQuery(e).removeClass("isMuted"),jQuery(e).trigger("YTPUnmuted")},manageYTPProgress:function(){var e=this.get(0),t=jQuery("#controlBar_"+e.id),n=t.find(".mb_YTPProgress"),o=t.find(".mb_YTPLoaded"),i=t.find(".mb_YTPseekbar"),a=n.outerWidth(),r=Math.floor(e.player.getCurrentTime()),s=Math.floor(e.player.getDuration()),l=r*a/s,c=0,u=100*e.player.getVideoLoadedFraction();return o.css({left:c,width:u+"%"}),i.css({left:0,width:l}),{totalTime:s,currentTime:r}},buildYTPControls:function(){var YTPlayer=this.get(0),data=YTPlayer.opt;if(data.showYTLogo=data.showYTLogo||data.printUrl,!jQuery("#controlBar_"+YTPlayer.id).length){var controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?1e4:1e3}).hide();YTPlayer.controlBar=controlBar;var buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){1==YTPlayer.player.getPlayerState()?jQuery(YTPlayer).pauseYTP():jQuery(YTPlayer).playYTP()}),MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){0==YTPlayer.player.getVolume()?jQuery(YTPlayer).unmuteYTP():jQuery(YTPlayer).muteYTP()}),idx=jQuery("<span/>").addClass("mb_YTPTime"),vURL=data.videoURL?data.videoURL:"";vURL.indexOf("http")<0&&(vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL);var movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")}),onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).fullscreen(data.realfullscreen)}),progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(e){timeBar.css({width:e.clientX-timeBar.offset().left}),YTPlayer.timeW=e.clientX-timeBar.offset().left,controlBar.find(".mb_YTPLoaded").css({width:0});var t=Math.floor(YTPlayer.player.getDuration());YTPlayer["goto"]=timeBar.outerWidth()*t/progressBar.outerWidth(),YTPlayer.player.seekTo(parseFloat(YTPlayer["goto"]),!0),controlBar.find(".mb_YTPLoaded").css({width:0})}),loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute");progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(idx),data.showYTLogo&&buttonBar.append(movieUrl),(YTPlayer.isBackground||eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground)&&buttonBar.append(onlyVideo),controlBar.append(buttonBar).append(progressBar),YTPlayer.isBackground?jQuery("body").after(controlBar):(controlBar.addClass("inlinePlayer"),YTPlayer.wrapper.before(controlBar))}},checkForState:function(YTPlayer){var interval=YTPlayer.opt.showControls?10:1e3;clearInterval(YTPlayer.getState),YTPlayer.getState=setInterval(function(){var prog=jQuery(YTPlayer).manageYTPProgress(),$YTPlayer=jQuery(YTPlayer),controlBar=jQuery("#controlBar_"+YTPlayer.id),data=YTPlayer.opt,startAt=YTPlayer.opt.startAt?YTPlayer.opt.startAt:1,stopAt=YTPlayer.opt.stopAt>YTPlayer.opt.startAt?YTPlayer.opt.stopAt:0;if(stopAt=stopAt<YTPlayer.player.getDuration()?stopAt:0,YTPlayer.player.time!=prog.currentTime){var YTPevent=jQuery.Event("YTPTime");YTPevent.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(YTPevent)}if(YTPlayer.player.time=prog.currentTime,0==YTPlayer.player.getVolume()?$YTPlayer.addClass("isMuted"):$YTPlayer.removeClass("isMuted"),YTPlayer.opt.showControls&&(prog.totalTime?controlBar.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(prog.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(prog.totalTime)):controlBar.find(".mb_YTPTime").html("-- : -- / -- : --")),eval(YTPlayer.opt.stopMovieOnBlur)&&(document.hasFocus()?document.hasFocus()&&!YTPlayer.hasFocus&&-1!=YTPlayer.state&&0!=YTPlayer.state&&(YTPlayer.hasFocus=!0,$YTPlayer.playYTP()):1==YTPlayer.state&&(YTPlayer.hasFocus=!1,$YTPlayer.pauseYTP())),1==YTPlayer.player.getPlayerState()&&(parseFloat(YTPlayer.player.getDuration()-3)<YTPlayer.player.getCurrentTime()||stopAt>0&&parseFloat(YTPlayer.player.getCurrentTime())>stopAt)){if(YTPlayer.isEnded)return;if(YTPlayer.isEnded=!0,setTimeout(function(){YTPlayer.isEnded=!1},2e3),YTPlayer.isPlayList){clearInterval(YTPlayer.getState);var YTPEnd=jQuery.Event("YTPEnd");return YTPEnd.time=YTPlayer.player.time,void jQuery(YTPlayer).trigger(YTPEnd)}data.loop?YTPlayer.player.seekTo(startAt,!0):(YTPlayer.player.pauseVideo(),YTPlayer.wrapper.CSSAnimate({opacity:0},1e3,function(){var e=jQuery.Event("YTPEnd");if(e.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(e),YTPlayer.player.seekTo(startAt,!0),!YTPlayer.isBackground){var t=YTPlayer.videoData.thumbnail.hqDefault;jQuery(YTPlayer).css({background:"rgba(0,0,0,0.5) url("+t+") center center",backgroundSize:"cover"})}}))}},interval)},formatTime:function(e){var t=Math.floor(e/60),n=Math.floor(e-60*t);return(9>=t?"0"+t:t)+" : "+(9>=n?"0"+n:n)}},jQuery.fn.toggleVolume=function(){var e=this.get(0);return e?e.player.isMuted()?(jQuery(e).unmuteYTP(),!0):(jQuery(e).muteYTP(),!1):void 0},jQuery.fn.optimizeDisplay=function(){var e=this.get(0),t=e.opt,n=jQuery(e.playerEl),o={},i=e.wrapper;o.width=i.outerWidth(),o.height=i.outerHeight();var a=24,r=100,s={};t.optimizeDisplay?(s.width=o.width+o.width*a/100,s.height="16/9"==t.ratio?Math.ceil(9*o.width/16):Math.ceil(3*o.width/4),s.marginTop=-((s.height-o.height)/2),s.marginLeft=-(o.width*(a/2)/100),s.height<o.height&&(s.height=o.height+o.height*a/100,s.width="16/9"==t.ratio?Math.floor(16*o.height/9):Math.floor(4*o.height/3),s.marginTop=-(o.height*(a/2)/100),s.marginLeft=-((s.width-o.width)/2)),s.width+=r,s.height+=r,s.marginTop-=r/2,s.marginLeft-=r/2):(s.width="100%",s.height="100%",s.marginTop=0,s.marginLeft-=0),n.css({width:s.width,height:s.height,marginTop:s.marginTop,marginLeft:s.marginLeft})},jQuery.shuffle=function(e){for(var t=e.slice(),n=t.length,o=n;o--;){var i=parseInt(Math.random()*n),a=t[o];t[o]=t[i],t[i]=a}return t},jQuery.fn.YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.YTPlaylist=jQuery.mbYTPlayer.YTPlaylist,jQuery.fn.playNext=jQuery.mbYTPlayer.playNext,jQuery.fn.playPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.changeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.getVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.getPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.playerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.fullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.buildYTPControls=jQuery.mbYTPlayer.buildYTPControls,jQuery.fn.playYTP=jQuery.mbYTPlayer.playYTP,jQuery.fn.toggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.stopYTP=jQuery.mbYTPlayer.stopYTP,jQuery.fn.pauseYTP=jQuery.mbYTPlayer.pauseYTP,jQuery.fn.seekToYTP=jQuery.mbYTPlayer.seekToYTP,jQuery.fn.muteYTP=jQuery.mbYTPlayer.muteYTP,jQuery.fn.unmuteYTP=jQuery.mbYTPlayer.unmuteYTP,jQuery.fn.setYTPVolume=jQuery.mbYTPlayer.setYTPVolume,jQuery.fn.setVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.manageYTPProgress=jQuery.mbYTPlayer.manageYTPProgress,jQuery.fn.getDataFromFeed=jQuery.mbYTPlayer.getVideoData,jQuery.fn.mb_YTPlayer=jQuery.fn.YTPlayer,jQuery.fn.muteYTPVolume=jQuery.mbYTPlayer.muteYTP,jQuery.fn.unmuteYTPVolume=jQuery.mbYTPlayer.unmuteYTP}(jQuery,ytp);